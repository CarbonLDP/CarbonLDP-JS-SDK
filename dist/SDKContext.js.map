{"version":3,"sources":["SDKContext.ts"],"names":[],"mappings":"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","file":"SDKContext.js","sourcesContent":["import * as Auth from \"./Auth\";\nimport { ACE } from \"./Auth/ACE\";\nimport { ACL } from \"./Auth/ACL\";\nimport { AuthenticatedUserInformationAccessor } from \"./Auth/AuthenticatedUserInformationAccessor\";\nimport { AuthenticatedUserMetadata } from \"./Auth/AuthenticatedUserMetadata\";\nimport { CredentialSet } from \"./Auth/CredentialSet\";\nimport { LDAPCredentials } from \"./Auth/LDAPCredentials\";\nimport { AuthService } from \"./Auth/Service\";\nimport { TokenCredentials } from \"./Auth/TokenCredentials\";\nimport { User } from \"./Auth/User\";\nimport { UsernameAndPasswordCredentials } from \"./Auth/UsernameAndPasswordCredentials\";\nimport { Context } from \"./Context\";\nimport { Document } from \"./Document\";\nimport { Documents } from \"./Documents\";\nimport * as Errors from \"./Errors\";\nimport { AddMemberAction } from \"./LDP/AddMemberAction\";\nimport { DocumentMetadata } from \"./LDP/DocumentMetadata\";\nimport { Error } from \"./LDP/Error\";\nimport { ErrorResponse } from \"./LDP/ErrorResponse\";\nimport { Map as CarbonMap } from \"./LDP/Map\";\nimport { MapEntry } from \"./LDP/MapEntry\";\nimport { RemoveMemberAction } from \"./LDP/RemoveMemberAction\";\nimport { ResponseMetadata } from \"./LDP/ResponseMetadata\";\nimport { ValidationError } from \"./LDP/ValidationError\";\nimport { AccessPointCreated } from \"./Messaging/AccessPointCreated\";\nimport { ChildCreated } from \"./Messaging/ChildCreated\";\nimport { DocumentCreatedDetails } from \"./Messaging/DocumentCreatedDetails\";\nimport { DocumentDeleted } from \"./Messaging/DocumentDeleted\";\nimport { DocumentModified } from \"./Messaging/DocumentModified\";\nimport { MemberAdded } from \"./Messaging/MemberAdded\";\nimport { MemberAddedDetails } from \"./Messaging/MemberAddedDetails\";\nimport { MemberRemoved } from \"./Messaging/MemberRemoved\";\nimport { MemberRemovedDetails } from \"./Messaging/MemberRemovedDetails\";\nimport * as ObjectSchema from \"./ObjectSchema\";\nimport { ProtectedDocument } from \"./ProtectedDocument\";\nimport { URI } from \"./RDF/URI\";\nimport * as Settings from \"./Settings\";\nimport { ValidationReport } from \"./SHACL/ValidationReport\";\nimport { ValidationResult } from \"./SHACL/ValidationResult\";\nimport { QueryMetadata } from \"./SPARQL/QueryDocument/QueryMetadata\";\nimport { PlatformInstance } from \"./System/PlatformInstance\";\nimport { PlatformMetadata } from \"./System/PlatformMetadata\";\nimport {\n\tisObject,\n\tisString,\n} from \"./Utils\";\n\nexport class SDKContext implements Context {\n\tauth:AuthService;\n\tdocuments:Documents;\n\n\tget baseURI():string { return \"\"; }\n\n\tget parentContext():Context { return null; }\n\n\tprotected settings:Settings.ContextSettings;\n\n\tprotected generalObjectSchema:ObjectSchema.DigestedObjectSchema;\n\tprotected typeObjectSchemaMap:Map<string, ObjectSchema.DigestedObjectSchema>;\n\n\tconstructor() {\n\t\tthis.generalObjectSchema = new ObjectSchema.DigestedObjectSchema();\n\t\tthis.typeObjectSchemaMap = new Map<string, ObjectSchema.DigestedObjectSchema>();\n\n\t\tthis.documents = new Documents( this );\n\n\t\tthis.registerDefaultObjectSchemas();\n\t}\n\n\tresolve( relativeURI:string ):string {\n\t\treturn URI.resolve( this.baseURI, relativeURI );\n\t}\n\n\t/**\n\t * Resolves the path provided into an URL using the `path` settings of the context.\n\t * If such path does hasn't been declared an IllegalStateError will be thrown.\n\t *\n\t * Example: The path `system.platform` with the default setting:\n\t * ```javascript\n\t * {\n\t *  paths: {\n\t *      system: {\n\t *          slug: \".system/\",\n\t *          paths: { platform: \"platform/\" }\n\t *      }\n\t *  }\n\t * }```,\n\t * This should resolve to something like `https://example.com/.system/platform/`.\n\t *\n\t * @param path The dot notation string that refers the path declared in the settings\n\t * of the context.\n\t *\n\t * @returns The absolute URI of the path provided.\n\t */\n\t_resolvePath( path:string ):string {\n\t\tconst leftSearchedPaths:string[] = path.split( \".\" );\n\t\tconst currentSearchedPaths:string[] = [];\n\n\t\tlet url:string = \"\";\n\t\tlet documentPaths:Settings.DocumentPaths[ \"paths\" ] = this.settings && this.settings.paths;\n\t\twhile( leftSearchedPaths.length ) {\n\t\t\tconst containerKey:string = leftSearchedPaths.shift();\n\t\t\tcurrentSearchedPaths.push( containerKey );\n\n\t\t\tconst containerPath:string | Settings.DocumentPaths = documentPaths ? documentPaths[ containerKey ] : null;\n\t\t\tif( ! containerPath ) throw new Errors.IllegalStateError( `The path \"${ currentSearchedPaths.join( \".\" ) }\" hasn't been declared.` );\n\n\t\t\tconst slug:string = isString( containerPath ) ? containerPath : containerPath.slug;\n\t\t\tif( ! slug ) throw new Errors.IllegalStateError( `The path \"${ currentSearchedPaths.join( \".\" ) }\" doesn't have a slug set.` );\n\n\t\t\turl = URI.resolve( url, slug );\n\t\t\tdocumentPaths = isObject( containerPath ) ? containerPath.paths : null;\n\t\t}\n\n\t\treturn this.resolve( url );\n\t}\n\n\thasObjectSchema( type:string ):boolean {\n\t\ttype = this._resolveTypeURI( type );\n\t\tif( this.typeObjectSchemaMap.has( type ) ) return true;\n\t\treturn ! ! this.parentContext && this.parentContext.hasObjectSchema( type );\n\t}\n\n\tgetObjectSchema( type:string = null ):ObjectSchema.DigestedObjectSchema {\n\t\tif( ! ! type ) {\n\t\t\t// Type specific schema\n\t\t\ttype = this._resolveTypeURI( type );\n\t\t\tif( this.typeObjectSchemaMap.has( type ) ) return this.typeObjectSchemaMap.get( type );\n\t\t\tif( ! ! this.parentContext && this.parentContext.hasObjectSchema( type ) ) return this.parentContext.getObjectSchema( type );\n\n\t\t\treturn null;\n\t\t} else {\n\t\t\t// General schema\n\t\t\tif( ! this.generalObjectSchema && ! this.parentContext )\n\t\t\t\tthrow new Errors.IllegalStateError();\n\n\t\t\tconst generalSchema:ObjectSchema.DigestedObjectSchema = this.generalObjectSchema || this.parentContext.getObjectSchema();\n\t\t\tconst clonedSchema:ObjectSchema.DigestedObjectSchema = ObjectSchema.ObjectSchemaDigester\n\t\t\t\t.combineDigestedObjectSchemas( [ generalSchema ] );\n\n\t\t\tif( clonedSchema.vocab === null && this.settings && this.settings.vocabulary )\n\t\t\t\tclonedSchema.vocab = this.resolve( this.settings.vocabulary );\n\n\t\t\tif( ! clonedSchema.base )\n\t\t\t\tclonedSchema.base = this.baseURI;\n\n\t\t\treturn clonedSchema;\n\t\t}\n\t}\n\n\textendObjectSchema( type:string, objectSchema:ObjectSchema.ObjectSchema ):void;\n\textendObjectSchema( objectSchema:ObjectSchema.ObjectSchema ):void;\n\textendObjectSchema( typeOrObjectSchema:any, objectSchema:ObjectSchema.ObjectSchema = null ):void {\n\t\tconst type:string = objectSchema ? typeOrObjectSchema : null;\n\t\tobjectSchema = ! ! objectSchema ? objectSchema : typeOrObjectSchema;\n\n\t\tconst digestedSchema:ObjectSchema.DigestedObjectSchema = ObjectSchema.ObjectSchemaDigester.digestSchema( objectSchema );\n\n\t\tif( ! type ) {\n\t\t\tthis.extendGeneralObjectSchema( digestedSchema );\n\t\t} else {\n\t\t\tthis.extendTypeObjectSchema( digestedSchema, type );\n\t\t}\n\t}\n\n\tclearObjectSchema( type:string = null ):void {\n\t\tif( ! type ) {\n\t\t\tthis.generalObjectSchema = ! ! this.parentContext ? null : new ObjectSchema.DigestedObjectSchema();\n\t\t} else {\n\t\t\ttype = this._resolveTypeURI( type );\n\t\t\tthis.typeObjectSchemaMap.delete( type );\n\t\t}\n\t}\n\n\tprotected extendGeneralObjectSchema( digestedSchema:ObjectSchema.DigestedObjectSchema ):void {\n\t\tlet digestedSchemaToExtend:ObjectSchema.DigestedObjectSchema;\n\t\tif( ! ! this.generalObjectSchema ) {\n\t\t\tdigestedSchemaToExtend = this.generalObjectSchema;\n\t\t} else if( ! ! this.parentContext ) {\n\t\t\tdigestedSchemaToExtend = this.parentContext.getObjectSchema();\n\t\t} else {\n\t\t\tdigestedSchemaToExtend = new ObjectSchema.DigestedObjectSchema();\n\t\t}\n\n\t\tthis.generalObjectSchema = ObjectSchema.ObjectSchemaDigester.combineDigestedObjectSchemas( [\n\t\t\tdigestedSchemaToExtend,\n\t\t\tdigestedSchema,\n\t\t] );\n\t}\n\n\tprotected extendTypeObjectSchema( digestedSchema:ObjectSchema.DigestedObjectSchema, type:string ):void {\n\t\ttype = this._resolveTypeURI( type );\n\t\tlet digestedSchemaToExtend:ObjectSchema.DigestedObjectSchema;\n\n\t\tif( this.typeObjectSchemaMap.has( type ) ) {\n\t\t\tdigestedSchemaToExtend = this.typeObjectSchemaMap.get( type );\n\t\t} else if( ! ! this.parentContext && this.parentContext.hasObjectSchema( type ) ) {\n\t\t\tdigestedSchemaToExtend = this.parentContext.getObjectSchema( type );\n\t\t} else {\n\t\t\tdigestedSchemaToExtend = new ObjectSchema.DigestedObjectSchema();\n\t\t}\n\n\t\tlet extendedDigestedSchema:ObjectSchema.DigestedObjectSchema = ObjectSchema.ObjectSchemaDigester.combineDigestedObjectSchemas( [\n\t\t\tdigestedSchemaToExtend,\n\t\t\tdigestedSchema,\n\t\t] );\n\n\t\tthis.typeObjectSchemaMap.set( type, extendedDigestedSchema );\n\t}\n\n\tprivate registerDefaultObjectSchemas():void {\n\t\tthis.extendObjectSchema( Document.TYPE, Document.SCHEMA );\n\t\tthis.extendObjectSchema( ProtectedDocument.TYPE, ProtectedDocument.SCHEMA );\n\n\t\tthis.extendObjectSchema( PlatformMetadata.TYPE, PlatformMetadata.SCHEMA );\n\t\tthis.extendObjectSchema( PlatformInstance.TYPE, PlatformInstance.SCHEMA );\n\n\t\tthis.extendObjectSchema( AddMemberAction.TYPE, AddMemberAction.SCHEMA );\n\t\tthis.extendObjectSchema( Error.TYPE, Error.SCHEMA );\n\t\tthis.extendObjectSchema( CarbonMap.TYPE, CarbonMap.SCHEMA );\n\t\tthis.extendObjectSchema( MapEntry.SCHEMA );\n\t\tthis.extendObjectSchema( DocumentMetadata.TYPE, DocumentMetadata.SCHEMA );\n\t\tthis.extendObjectSchema( ErrorResponse.TYPE, ErrorResponse.SCHEMA );\n\t\tthis.extendObjectSchema( RemoveMemberAction.TYPE, RemoveMemberAction.SCHEMA );\n\t\tthis.extendObjectSchema( ResponseMetadata.TYPE, ResponseMetadata.SCHEMA );\n\t\tthis.extendObjectSchema( ValidationError.TYPE, ValidationError.SCHEMA );\n\n\t\tthis.extendObjectSchema( Auth.Role.RDF_CLASS, Auth.Role.SCHEMA );\n\t\tthis.extendObjectSchema( ACE.TYPE, ACE.SCHEMA );\n\t\tthis.extendObjectSchema( ACL.TYPE, ACL.SCHEMA );\n\t\tthis.extendObjectSchema( AuthenticatedUserInformationAccessor.TYPE, AuthenticatedUserInformationAccessor.SCHEMA );\n\t\tthis.extendObjectSchema( AuthenticatedUserMetadata.TYPE, AuthenticatedUserMetadata.SCHEMA );\n\t\tthis.extendObjectSchema( User.TYPE, User.SCHEMA );\n\t\tthis.extendObjectSchema( TokenCredentials.TYPE, TokenCredentials.SCHEMA );\n\t\tthis.extendObjectSchema( CredentialSet.TYPE, CredentialSet.SCHEMA );\n\t\tthis.extendObjectSchema( UsernameAndPasswordCredentials.TYPE, UsernameAndPasswordCredentials.SCHEMA );\n\t\tthis.extendObjectSchema( LDAPCredentials.TYPE, LDAPCredentials.SCHEMA );\n\n\t\tthis.extendObjectSchema( ValidationReport.TYPE, ValidationReport.SCHEMA );\n\t\tthis.extendObjectSchema( ValidationResult.TYPE, ValidationResult.SCHEMA );\n\n\t\tthis.extendObjectSchema( QueryMetadata.TYPE, QueryMetadata.SCHEMA );\n\n\t\tthis.extendObjectSchema( AccessPointCreated.TYPE, AccessPointCreated.SCHEMA );\n\t\tthis.extendObjectSchema( ChildCreated.TYPE, ChildCreated.SCHEMA );\n\t\tthis.extendObjectSchema( DocumentCreatedDetails.TYPE, DocumentCreatedDetails.SCHEMA );\n\t\tthis.extendObjectSchema( DocumentDeleted.TYPE, DocumentDeleted.SCHEMA );\n\t\tthis.extendObjectSchema( DocumentModified.TYPE, DocumentModified.SCHEMA );\n\t\tthis.extendObjectSchema( MemberAdded.TYPE, MemberAdded.SCHEMA );\n\t\tthis.extendObjectSchema( MemberAddedDetails.TYPE, MemberAddedDetails.SCHEMA );\n\t\tthis.extendObjectSchema( MemberRemoved.TYPE, MemberRemoved.SCHEMA );\n\t\tthis.extendObjectSchema( MemberRemovedDetails.TYPE, MemberRemovedDetails.SCHEMA );\n\t}\n\n\tprivate _resolveTypeURI( uri:string ):string {\n\t\treturn ObjectSchema.ObjectSchemaUtils.resolveURI( uri, this.getObjectSchema(), { vocab: true } );\n\t}\n}\n\nexport const globalContext:SDKContext = new SDKContext();\n"]}