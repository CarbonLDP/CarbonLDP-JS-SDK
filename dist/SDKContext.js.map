{"version":3,"sources":["SDKContext.ts"],"names":[],"mappings":"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","file":"SDKContext.js","sourcesContent":["import * as Auth from \"./Auth\";\nimport * as Context from \"./Context\";\nimport * as Document from \"./Document\";\nimport * as Documents from \"./Documents\";\nimport * as Errors from \"./Errors\";\nimport * as LDP from \"./LDP\";\nimport * as Messaging from \"./Messaging\";\nimport * as ObjectSchema from \"./ObjectSchema\";\nimport * as ProtectedDocument from \"./ProtectedDocument\";\nimport * as RDF from \"./RDF\";\nimport * as RDFRepresentation from \"./RDFRepresentation\";\nimport * as Settings from \"./Settings\";\nimport * as SHACL from \"./SHACL\";\nimport * as SPARQL from \"./SPARQL\";\nimport * as System from \"./System\";\nimport {\n\tisObject,\n\tisString,\n} from \"./Utils\";\n\nexport class Class implements Context.Class {\n\tauth:Auth.Class;\n\tdocuments:Documents.Class;\n\n\tget baseURI():string { return \"\"; }\n\n\tget parentContext():Context.Class { return null; }\n\n\tprotected settings:Settings.ContextSettings;\n\n\tprotected generalObjectSchema:ObjectSchema.DigestedObjectSchema;\n\tprotected typeObjectSchemaMap:Map<string, ObjectSchema.DigestedObjectSchema>;\n\n\tconstructor() {\n\t\tthis.generalObjectSchema = new ObjectSchema.DigestedObjectSchema();\n\t\tthis.typeObjectSchemaMap = new Map<string, ObjectSchema.DigestedObjectSchema>();\n\n\t\tthis.auth = new Auth.Class( this );\n\t\tthis.documents = new Documents.Class( this );\n\n\t\tthis.registerDefaultObjectSchemas();\n\t}\n\n\tresolve( relativeURI:string ):string {\n\t\treturn RDF.URI.Util.resolve( this.baseURI, relativeURI );\n\t}\n\n\t/**\n\t * Resolves the path provided into an URL using the `path` settings of the context.\n\t * If such path does hasn't been declared an IllegalStateError will be thrown.\n\t *\n\t * Example: The path `system.platform` with the default setting:\n\t * ```javascript\n\t * {\n\t *  paths: {\n\t *      system: {\n\t *          slug: \".system/\",\n\t *          paths: { platform: \"platform/\" }\n\t *      }\n\t *  }\n\t * }```,\n\t * This should resolve to something like `https://example.com/.system/platform/`.\n\t *\n\t * @param path The dot notation string that refers the path declared in the settings\n\t * of the context.\n\t *\n\t * @returns The absolute URI of the path provided.\n\t */\n\t_resolvePath( path:string ):string {\n\t\tconst leftSearchedPaths:string[] = path.split( \".\" );\n\t\tconst currentSearchedPaths:string[] = [];\n\n\t\tlet url:string = \"\";\n\t\tlet documentPaths:Settings.DocumentPaths[ \"paths\" ] = this.settings && this.settings.paths;\n\t\twhile( leftSearchedPaths.length ) {\n\t\t\tconst containerKey:string = leftSearchedPaths.shift();\n\t\t\tcurrentSearchedPaths.push( containerKey );\n\n\t\t\tconst containerPath:string | Settings.DocumentPaths = documentPaths ? documentPaths[ containerKey ] : null;\n\t\t\tif( ! containerPath ) throw new Errors.IllegalStateError( `The path \"${ currentSearchedPaths.join( \".\" ) }\" hasn't been declared.` );\n\n\t\t\tconst slug:string = isString( containerPath ) ? containerPath : containerPath.slug;\n\t\t\tif( ! slug ) throw new Errors.IllegalStateError( `The path \"${ currentSearchedPaths.join( \".\" ) }\" doesn't have a slug set.` );\n\n\t\t\turl = RDF.URI.Util.resolve( url, slug );\n\t\t\tdocumentPaths = isObject( containerPath ) ? containerPath.paths : null;\n\t\t}\n\n\t\treturn this.resolve( url );\n\t}\n\n\thasObjectSchema( type:string ):boolean {\n\t\ttype = this._resolveTypeURI( type );\n\t\tif( this.typeObjectSchemaMap.has( type ) ) return true;\n\t\treturn ! ! this.parentContext && this.parentContext.hasObjectSchema( type );\n\t}\n\n\tgetObjectSchema( type:string = null ):ObjectSchema.DigestedObjectSchema {\n\t\tif( ! ! type ) {\n\t\t\t// Type specific schema\n\t\t\ttype = this._resolveTypeURI( type );\n\t\t\tif( this.typeObjectSchemaMap.has( type ) ) return this.typeObjectSchemaMap.get( type );\n\t\t\tif( ! ! this.parentContext && this.parentContext.hasObjectSchema( type ) ) return this.parentContext.getObjectSchema( type );\n\n\t\t\treturn null;\n\t\t} else {\n\t\t\t// General schema\n\t\t\tif( ! this.generalObjectSchema && ! this.parentContext )\n\t\t\t\tthrow new Errors.IllegalStateError();\n\n\t\t\tconst generalSchema:ObjectSchema.DigestedObjectSchema = this.generalObjectSchema || this.parentContext.getObjectSchema();\n\t\t\tconst clonedSchema:ObjectSchema.DigestedObjectSchema = ObjectSchema.Digester\n\t\t\t\t.combineDigestedObjectSchemas( [ generalSchema ] );\n\n\t\t\tif( clonedSchema.vocab === null && this.settings && this.settings.vocabulary )\n\t\t\t\tclonedSchema.vocab = this.resolve( this.settings.vocabulary );\n\n\t\t\tif( ! clonedSchema.base )\n\t\t\t\tclonedSchema.base = this.baseURI;\n\n\t\t\treturn clonedSchema;\n\t\t}\n\t}\n\n\textendObjectSchema( type:string, objectSchema:ObjectSchema.Class ):void;\n\textendObjectSchema( objectSchema:ObjectSchema.Class ):void;\n\textendObjectSchema( typeOrObjectSchema:any, objectSchema:ObjectSchema.Class = null ):void {\n\t\tconst type:string = objectSchema ? typeOrObjectSchema : null;\n\t\tobjectSchema = ! ! objectSchema ? objectSchema : typeOrObjectSchema;\n\n\t\tconst digestedSchema:ObjectSchema.DigestedObjectSchema = ObjectSchema.Digester.digestSchema( objectSchema );\n\n\t\tif( ! type ) {\n\t\t\tthis.extendGeneralObjectSchema( digestedSchema );\n\t\t} else {\n\t\t\tthis.extendTypeObjectSchema( digestedSchema, type );\n\t\t}\n\t}\n\n\tclearObjectSchema( type:string = null ):void {\n\t\tif( ! type ) {\n\t\t\tthis.generalObjectSchema = ! ! this.parentContext ? null : new ObjectSchema.DigestedObjectSchema();\n\t\t} else {\n\t\t\ttype = this._resolveTypeURI( type );\n\t\t\tthis.typeObjectSchemaMap.delete( type );\n\t\t}\n\t}\n\n\tprotected extendGeneralObjectSchema( digestedSchema:ObjectSchema.DigestedObjectSchema ):void {\n\t\tlet digestedSchemaToExtend:ObjectSchema.DigestedObjectSchema;\n\t\tif( ! ! this.generalObjectSchema ) {\n\t\t\tdigestedSchemaToExtend = this.generalObjectSchema;\n\t\t} else if( ! ! this.parentContext ) {\n\t\t\tdigestedSchemaToExtend = this.parentContext.getObjectSchema();\n\t\t} else {\n\t\t\tdigestedSchemaToExtend = new ObjectSchema.DigestedObjectSchema();\n\t\t}\n\n\t\tthis.generalObjectSchema = ObjectSchema.Digester.combineDigestedObjectSchemas( [\n\t\t\tdigestedSchemaToExtend,\n\t\t\tdigestedSchema,\n\t\t] );\n\t}\n\n\tprotected extendTypeObjectSchema( digestedSchema:ObjectSchema.DigestedObjectSchema, type:string ):void {\n\t\ttype = this._resolveTypeURI( type );\n\t\tlet digestedSchemaToExtend:ObjectSchema.DigestedObjectSchema;\n\n\t\tif( this.typeObjectSchemaMap.has( type ) ) {\n\t\t\tdigestedSchemaToExtend = this.typeObjectSchemaMap.get( type );\n\t\t} else if( ! ! this.parentContext && this.parentContext.hasObjectSchema( type ) ) {\n\t\t\tdigestedSchemaToExtend = this.parentContext.getObjectSchema( type );\n\t\t} else {\n\t\t\tdigestedSchemaToExtend = new ObjectSchema.DigestedObjectSchema();\n\t\t}\n\n\t\tlet extendedDigestedSchema:ObjectSchema.DigestedObjectSchema = ObjectSchema.Digester.combineDigestedObjectSchemas( [\n\t\t\tdigestedSchemaToExtend,\n\t\t\tdigestedSchema,\n\t\t] );\n\n\t\tthis.typeObjectSchemaMap.set( type, extendedDigestedSchema );\n\t}\n\n\tprivate registerDefaultObjectSchemas():void {\n\t\tthis.extendObjectSchema( Document.RDF_CLASS, Document.SCHEMA );\n\t\tthis.extendObjectSchema( ProtectedDocument.RDF_CLASS, ProtectedDocument.SCHEMA );\n\n\t\tthis.extendObjectSchema( System.PlatformMetadata.RDF_CLASS, System.PlatformMetadata.SCHEMA );\n\n\t\tthis.extendObjectSchema( RDFRepresentation.RDF_CLASS, RDFRepresentation.SCHEMA );\n\n\t\tthis.extendObjectSchema( LDP.Entry.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.Error.RDF_CLASS, LDP.Error.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.ErrorResponse.RDF_CLASS, LDP.ErrorResponse.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.ResponseMetadata.RDF_CLASS, LDP.ResponseMetadata.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.DocumentMetadata.RDF_CLASS, LDP.DocumentMetadata.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.AddMemberAction.RDF_CLASS, LDP.AddMemberAction.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.RemoveMemberAction.RDF_CLASS, LDP.RemoveMemberAction.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.Map.RDF_CLASS, LDP.Map.SCHEMA );\n\t\tthis.extendObjectSchema( LDP.ValidationError.RDF_CLASS, LDP.ValidationError.SCHEMA );\n\n\t\tthis.extendObjectSchema( Auth.Role.RDF_CLASS, Auth.Role.SCHEMA );\n\t\tthis.extendObjectSchema( Auth.ACE.RDF_CLASS, Auth.ACE.SCHEMA );\n\t\tthis.extendObjectSchema( Auth.ACL.RDF_CLASS, Auth.ACL.SCHEMA );\n\t\tthis.extendObjectSchema( Auth.User.RDF_CLASS, Auth.User.SCHEMA );\n\t\tthis.extendObjectSchema( Auth.Credentials.RDF_CLASS, Auth.Credentials.SCHEMA );\n\t\tthis.extendObjectSchema( Auth.Ticket.RDF_CLASS, Auth.Ticket.SCHEMA );\n\t\tthis.extendObjectSchema( Auth.Token.RDF_CLASS, Auth.Token.SCHEMA );\n\n\t\tthis.extendObjectSchema( SHACL.ValidationReport.RDF_CLASS, SHACL.ValidationReport.SCHEMA );\n\t\tthis.extendObjectSchema( SHACL.ValidationResult.RDF_CLASS, SHACL.ValidationResult.SCHEMA );\n\n\t\tthis.extendObjectSchema( SPARQL.QueryDocument.QueryMetadata.RDF_CLASS, SPARQL.QueryDocument.QueryMetadata.SCHEMA );\n\n\t\tthis.extendObjectSchema( Messaging.AccessPointCreated.RDF_CLASS, Messaging.AccessPointCreated.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.ChildCreated.RDF_CLASS, Messaging.ChildCreated.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.DocumentCreatedDetails.RDF_CLASS, Messaging.DocumentCreatedDetails.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.DocumentDeleted.RDF_CLASS, Messaging.DocumentDeleted.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.DocumentModified.RDF_CLASS, Messaging.DocumentModified.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.MemberAdded.RDF_CLASS, Messaging.MemberAdded.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.MemberAddedDetails.RDF_CLASS, Messaging.MemberAddedDetails.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.MemberRemoved.RDF_CLASS, Messaging.MemberRemoved.SCHEMA );\n\t\tthis.extendObjectSchema( Messaging.MemberRemovedDetails.RDF_CLASS, Messaging.MemberRemovedDetails.SCHEMA );\n\t}\n\n\tprivate _resolveTypeURI( uri:string ):string {\n\t\treturn ObjectSchema.Util.resolveURI( uri, this.getObjectSchema(), { vocab: true } );\n\t}\n}\n\nexport const instance:Class = new Class();\n\nexport default instance;\n"]}