{"version":3,"sources":["ServiceAwareDocument.ts"],"names":[],"mappings":";;AAAA,yDAAwD;AAGxD,iCAAmC;AActB,QAAA,oBAAoB,GAA+B;IAC/D,WAAW,EAAX,UAAa,MAAa;QACzB,MAAM,CAAC,gBAAQ,CAAE,MAAM,CAAE;eACrB,MAAM,CAAC,cAAc,CAAE,YAAY,CAAE,CACvC;IACH,CAAC;IAED,QAAQ,EAAR,UAA4B,MAAQ,EAAE,SAAmB;QACxD,EAAE,CAAA,CAAE,4BAAoB,CAAC,WAAW,CAAE,MAAM,CAAG,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC;QAE/D,qCAAiB,CAAC,QAAQ,CAAE,MAAM,CAAE,CAAC;QAErC,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAE,MAAM,EAAE;YACvC,YAAY,EAAE;gBACb,QAAQ,EAAE,KAAK;gBACf,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,KAAK,EAAE,SAAS;aAChB;SACD,CAAE,CAAC;IACL,CAAC;CACD,CAAC","file":"ServiceAwareDocument.js","sourcesContent":["import { TransientDocument } from \"./TransientDocument\";\nimport { Documents } from \"./Documents\";\nimport { ModelDecorator } from \"./ModelDecorator\";\nimport { isObject } from \"./Utils\";\n\n\nexport interface ServiceAwareDocument extends TransientDocument {\n\t_documents:Documents;\n}\n\n\nexport interface ServiceAwareDocumentFactory extends ModelDecorator<ServiceAwareDocument> {\n\tisDecorated( object:object ):object is ServiceAwareDocument;\n\n\tdecorate<T extends object>( object:T, documents:Documents ):T & ServiceAwareDocument;\n}\n\nexport const ServiceAwareDocument:ServiceAwareDocumentFactory = {\n\tisDecorated( object:object ):object is ServiceAwareDocument {\n\t\treturn isObject( object )\n\t\t\t&& object.hasOwnProperty( \"_documents\" )\n\t\t\t;\n\t},\n\n\tdecorate<T extends object>( object:T, documents:Documents ):T & ServiceAwareDocument {\n\t\tif( ServiceAwareDocument.isDecorated( object ) ) return object;\n\n\t\tTransientDocument.decorate( object );\n\n\t\treturn Object.defineProperties( object, {\n\t\t\t\"_documents\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: documents,\n\t\t\t},\n\t\t} );\n\t},\n};\n\n"]}