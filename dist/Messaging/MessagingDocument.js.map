{"version":3,"sources":["Messaging/MessagingDocument.ts"],"names":[],"mappings":"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","file":"MessagingDocument.js","sourcesContent":["import { ModelDecorator } from \"../core\";\nimport { TransientDocument } from \"../Document\";\nimport { IllegalActionError } from \"../Errors\";\nimport {\n\tisFunction,\n\tisObject,\n\tisString,\n\tPickSelfProps,\n} from \"../Utils\";\nimport { AccessPointCreated } from \"./AccessPointCreated\";\nimport { ChildCreated } from \"./ChildCreated\";\nimport { DocumentCreated } from \"./DocumentCreated\";\nimport { DocumentDeleted } from \"./DocumentDeleted\";\nimport { DocumentModified } from \"./DocumentModified\";\nimport { Event } from \"./Event\";\nimport { EventMessage } from \"./EventMessage\";\nimport { MemberAdded } from \"./MemberAdded\";\nimport { MemberRemoved } from \"./MemberRemoved\";\nimport { MessagingService } from \"./Service\";\nimport { createDestination } from \"./Utils\";\n\nexport interface MessagingDocument extends TransientDocument {\n\ton( event:Event.CHILD_CREATED, uriPattern:string, onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.CHILD_CREATED, onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.ACCESS_POINT_CREATED, uriPattern:string, onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.ACCESS_POINT_CREATED, onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.DOCUMENT_CREATED, uriPattern:string, onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.DOCUMENT_CREATED, onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.DOCUMENT_MODIFIED, uriPattern:string, onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.DOCUMENT_MODIFIED, onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.DOCUMENT_DELETED, uriPattern:string, onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.DOCUMENT_DELETED, onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.MEMBER_ADDED, uriPattern:string, onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.MEMBER_ADDED, onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.MEMBER_REMOVED, uriPattern:string, onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event.MEMBER_REMOVED, onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event | string, uriPattern:string, onEvent:( message:EventMessage ) => void, onError?:( error:Error ) => void ):void;\n\ton( event:Event | string, onEvent:( message:EventMessage ) => void, onError?:( error:Error ) => void ):void;\n\n\toff( event:Event.CHILD_CREATED, uriPattern:string, onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.CHILD_CREATED, onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.ACCESS_POINT_CREATED, uriPattern:string, onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.ACCESS_POINT_CREATED, onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.DOCUMENT_CREATED, uriPattern:string, onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.DOCUMENT_CREATED, onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.DOCUMENT_MODIFIED, uriPattern:string, onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.DOCUMENT_MODIFIED, onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.DOCUMENT_DELETED, uriPattern:string, onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.DOCUMENT_DELETED, onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.MEMBER_ADDED, uriPattern:string, onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.MEMBER_ADDED, onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.MEMBER_REMOVED, uriPattern:string, onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event.MEMBER_REMOVED, onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event | string, uriPattern:string, onEvent:( message:EventMessage ) => void, onError?:( error:Error ) => void ):void;\n\toff( event:Event | string, onEvent:( message:EventMessage ) => void, onError?:( error:Error ) => void ):void;\n\n\tone( event:Event.CHILD_CREATED, uriPattern:string, onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.CHILD_CREATED, onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.ACCESS_POINT_CREATED, onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.ACCESS_POINT_CREATED, uriPattern:string, onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.DOCUMENT_CREATED, uriPattern:string, onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.DOCUMENT_CREATED, onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.DOCUMENT_MODIFIED, uriPattern:string, onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.DOCUMENT_MODIFIED, onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.DOCUMENT_DELETED, uriPattern:string, onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.DOCUMENT_DELETED, onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.MEMBER_ADDED, uriPattern:string, onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.MEMBER_ADDED, onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.MEMBER_REMOVED, uriPattern:string, onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event.MEMBER_REMOVED, onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event | string, uriPattern:string, onEvent:( message:EventMessage ) => void, onError?:( error:Error ) => void ):void;\n\tone( event:Event | string, onEvent:( message:EventMessage ) => void, onError?:( error:Error ) => void ):void;\n\n\n\tonAccessPointCreated( uriPattern:string, onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\tonAccessPointCreated( onEvent:( message:AccessPointCreated ) => void, onError?:( error:Error ) => void ):void;\n\n\tonChildCreated( uriPattern:string, onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\tonChildCreated( onEvent:( message:ChildCreated ) => void, onError?:( error:Error ) => void ):void;\n\n\tonDocumentCreated( uriPattern:string, onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\tonDocumentCreated( onEvent:( message:DocumentCreated ) => void, onError?:( error:Error ) => void ):void;\n\n\tonDocumentModified( uriPattern:string, onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\tonDocumentModified( onEvent:( message:DocumentModified ) => void, onError?:( error:Error ) => void ):void;\n\n\tonDocumentDeleted( uriPattern:string, onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\tonDocumentDeleted( onEvent:( message:DocumentDeleted ) => void, onError?:( error:Error ) => void ):void;\n\n\tonMemberAdded( uriPattern:string, onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\tonMemberAdded( onEvent:( message:MemberAdded ) => void, onError?:( error:Error ) => void ):void;\n\n\tonMemberRemoved( uriPattern:string, onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n\tonMemberRemoved( onEvent:( message:MemberRemoved ) => void, onError?:( error:Error ) => void ):void;\n}\n\n\ntype OnEvent<T extends EventMessage> = ( message:EventMessage ) => void;\ntype OnError = ( error:Error ) => void;\n\nfunction getMessagingService( repository:MessagingDocument ):MessagingService {\n\tif( ! repository._context || ! repository._context.messaging )\n\t\tthrow new IllegalActionError( `\"${ repository.id }\" does't support messaging subscriptions.` );\n\n\treturn repository._context.messaging;\n}\n\nfunction parseParams<T extends EventMessage>( uriPatternOROnEvent:string | OnEvent<T>, onEventOrOnError:OnEvent<T> | OnError, onError:OnError | undefined ):{ uriPattern:string, onEvent:OnEvent<T>, onError:OnError | undefined } {\n\tconst uriPattern:string = isString( uriPatternOROnEvent ) ?\n\t\turiPatternOROnEvent : \"\";\n\n\tconst onEvent:OnEvent<T> = isFunction( uriPatternOROnEvent ) ?\n\t\turiPatternOROnEvent : onEventOrOnError as OnEvent<T>;\n\n\tif( onEvent !== onEventOrOnError ) onError = onEventOrOnError as OnError;\n\n\treturn { uriPattern, onEvent, onError };\n}\n\nconst PROTOTYPE:PickSelfProps<MessagingDocument, TransientDocument> = {\n\ton<T extends EventMessage>( this:MessagingDocument, event:Event | string, uriPatternOROnEvent:string | OnEvent<T>, onEventOrOnError:OnEvent<T> | OnError, onError?:OnError ):void {\n\t\ttry {\n\t\t\tconst messaging:MessagingService = getMessagingService( this );\n\n\t\t\tlet uriPattern:string, onEvent:OnEvent<T>;\n\t\t\t({ uriPattern, onEvent, onError } = parseParams( uriPatternOROnEvent, onEventOrOnError, onError ));\n\n\t\t\tconst destination:string = createDestination( event, uriPattern, this.id );\n\t\t\tmessaging.subscribe( destination, onEvent, onError );\n\n\t\t} catch( error ) {\n\t\t\tif( ! onError ) throw error;\n\t\t\tonError( error );\n\t\t}\n\t},\n\n\toff<T extends EventMessage>( this:MessagingDocument, event:Event | string, uriPatternOROnEvent:string | OnEvent<T>, onEventOrOnError:OnEvent<T> | OnError, onError?:OnError ):void {\n\t\ttry {\n\t\t\tconst messaging:MessagingService = getMessagingService( this );\n\n\t\t\tlet uriPattern:string, onEvent:OnEvent<T>;\n\t\t\t({ uriPattern, onEvent, onError } = parseParams( uriPatternOROnEvent, onEventOrOnError, onError ));\n\n\t\t\tconst destination:string = createDestination( event, uriPattern, this.id );\n\t\t\tmessaging.unsubscribe( destination, onEvent );\n\n\t\t} catch( error ) {\n\t\t\tif( ! onError ) throw error;\n\t\t\tonError( error );\n\t\t}\n\t},\n\n\tone<T extends EventMessage>( this:MessagingDocument, event:Event | string, uriPatternOROnEvent:string | OnEvent<T>, onEventOrOnError:OnEvent<T> | OnError, onError?:OnError ):void {\n\t\ttry {\n\t\t\tconst messaging:MessagingService = getMessagingService( this );\n\n\t\t\tlet uriPattern:string, onEvent:OnEvent<T>;\n\t\t\t({ uriPattern, onEvent, onError } = parseParams( uriPatternOROnEvent, onEventOrOnError, onError ));\n\n\t\t\tconst destination:string = createDestination( event, uriPattern, this.id );\n\t\t\tmessaging.subscribe( destination, function onEventWrapper( message:T ):void {\n\t\t\t\tonEvent( message );\n\t\t\t\tmessaging.unsubscribe( destination, onEventWrapper );\n\t\t\t}, onError );\n\n\t\t} catch( error ) {\n\t\t\tif( ! onError ) throw error;\n\t\t\tonError( error );\n\t\t}\n\t},\n\n\n\tonAccessPointCreated( this:MessagingDocument, uriPatternOROnEvent:string | OnEvent<AccessPointCreated>, onEventOrOnError:OnEvent<AccessPointCreated> | OnError, onError?:OnError ):void {\n\t\treturn this.on( Event.ACCESS_POINT_CREATED, uriPatternOROnEvent as string, onEventOrOnError as OnEvent<AccessPointCreated>, onError );\n\t},\n\n\tonChildCreated( this:MessagingDocument, uriPatternOROnEvent:string | OnEvent<ChildCreated>, onEventOrOnError:OnEvent<ChildCreated> | OnError, onError?:OnError ):void {\n\t\treturn this.on( Event.CHILD_CREATED, uriPatternOROnEvent as string, onEventOrOnError as OnEvent<ChildCreated>, onError );\n\t},\n\n\tonDocumentCreated( this:MessagingDocument, uriPatternOROnEvent:string | OnEvent<DocumentCreated>, onEventOrOnError:OnEvent<DocumentCreated> | OnError, onError?:OnError ):void {\n\t\treturn this.on( Event.DOCUMENT_CREATED, uriPatternOROnEvent as string, onEventOrOnError as OnEvent<DocumentCreated>, onError );\n\t},\n\n\tonDocumentModified( this:MessagingDocument, uriPatternOROnEvent:string | OnEvent<DocumentModified>, onEventOrOnError:OnEvent<DocumentModified> | OnError, onError?:OnError ):void {\n\t\treturn this.on( Event.DOCUMENT_MODIFIED, uriPatternOROnEvent as string, onEventOrOnError as OnEvent<DocumentModified>, onError );\n\t},\n\n\tonDocumentDeleted( this:MessagingDocument, uriPatternOROnEvent:string | OnEvent<DocumentDeleted>, onEventOrOnError:OnEvent<DocumentDeleted> | OnError, onError?:OnError ):void {\n\t\treturn this.on( Event.DOCUMENT_DELETED, uriPatternOROnEvent as string, onEventOrOnError as OnEvent<DocumentDeleted>, onError );\n\t},\n\n\tonMemberAdded( this:MessagingDocument, uriPatternOROnEvent:string | OnEvent<MemberAdded>, onEventOrOnError:OnEvent<MemberAdded> | OnError, onError?:OnError ):void {\n\t\treturn this.on( Event.MEMBER_ADDED, uriPatternOROnEvent as string, onEventOrOnError as OnEvent<MemberAdded>, onError );\n\t},\n\n\tonMemberRemoved( this:MessagingDocument, uriPatternOROnEvent:string | OnEvent<MemberRemoved>, onEventOrOnError:OnEvent<MemberRemoved> | OnError, onError?:OnError ):void {\n\t\treturn this.on( Event.MEMBER_REMOVED, uriPatternOROnEvent as string, onEventOrOnError as OnEvent<MemberRemoved>, onError );\n\t},\n};\n\n\nexport interface MessagingDocumentFactory extends ModelDecorator<MessagingDocument> {\n\tisDecorated( object:object ):object is MessagingDocument;\n\n\tdecorate<T extends object>( object:T ):T & MessagingDocument;\n}\n\nexport const MessagingDocument:MessagingDocumentFactory = {\n\n\tisDecorated( object:object ):object is MessagingDocument {\n\t\treturn isObject( object )\n\t\t\t&& ModelDecorator\n\t\t\t\t.hasPropertiesFrom( PROTOTYPE, object )\n\t\t\t;\n\t},\n\n\tdecorate<T extends object>( object:T ):T & MessagingDocument {\n\t\tif( MessagingDocument.isDecorated( object ) ) return object;\n\n\t\tconst resource:T & TransientDocument = ModelDecorator\n\t\t\t.decorateMultiple( object, TransientDocument );\n\n\t\treturn ModelDecorator\n\t\t\t.definePropertiesFrom( PROTOTYPE, resource );\n\t},\n\n};\n"]}