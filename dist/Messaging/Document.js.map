{"version":3,"sources":["Messaging/Document.ts"],"names":[],"mappings":"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","file":"Document.js","sourcesContent":["import { ServiceAwareDocument } from \"../ServiceAwareDocument\";\nimport {\n\thasFunction,\n\tisObject,\n} from \"../Utils\";\nimport { AccessPointCreated } from \"./AccessPointCreated\";\nimport { ChildCreated } from \"./ChildCreated\";\nimport { DocumentCreated } from \"./DocumentCreated\";\nimport { DocumentDeleted } from \"./DocumentDeleted\";\nimport { DocumentModified } from \"./DocumentModified\";\nimport { Event } from \"./Event\";\nimport { EventMessage } from \"./EventMessage\";\nimport { MemberAdded } from \"./MemberAdded\";\nimport { MemberRemoved } from \"./MemberRemoved\";\n\nexport interface Class extends ServiceAwareDocument {\n\ton( event:Event.CHILD_CREATED, onEvent:( message:ChildCreated ) => void, onError:( error:Error ) => void ):void;\n\n\ton( event:Event.ACCESS_POINT_CREATED, onEvent:( message:AccessPointCreated ) => void, onError:( error:Error ) => void ):void;\n\n\ton( event:Event.DOCUMENT_CREATED, onEvent:( message:DocumentCreated ) => void, onError:( error:Error ) => void ):void;\n\n\ton( event:Event.DOCUMENT_MODIFIED, onEvent:( message:DocumentModified ) => void, onError:( error:Error ) => void ):void;\n\n\ton( event:Event.DOCUMENT_DELETED, onEvent:( message:DocumentDeleted ) => void, onError:( error:Error ) => void ):void;\n\n\ton( event:Event.MEMBER_ADDED, onEvent:( message:MemberAdded ) => void, onError:( error:Error ) => void ):void;\n\n\ton( event:Event.MEMBER_REMOVED, onEvent:( message:MemberRemoved ) => void, onError:( error:Error ) => void ):void;\n\n\ton( event:Event | string, onEvent:( message:EventMessage ) => void, onError:( error:Error ) => void ):void;\n\n\n\toff( event:Event.CHILD_CREATED, onEvent:( message:ChildCreated ) => void, onError:( error:Error ) => void ):void;\n\n\toff( event:Event.ACCESS_POINT_CREATED, onEvent:( message:AccessPointCreated ) => void, onError:( error:Error ) => void ):void;\n\n\toff( event:Event.DOCUMENT_CREATED, onEvent:( message:DocumentCreated ) => void, onError:( error:Error ) => void ):void;\n\n\toff( event:Event.DOCUMENT_MODIFIED, onEvent:( message:DocumentModified ) => void, onError:( error:Error ) => void ):void;\n\n\toff( event:Event.DOCUMENT_DELETED, onEvent:( message:DocumentDeleted ) => void, onError:( error:Error ) => void ):void;\n\n\toff( event:Event.MEMBER_ADDED, onEvent:( message:MemberAdded ) => void, onError:( error:Error ) => void ):void;\n\n\toff( event:Event.MEMBER_REMOVED, onEvent:( message:MemberRemoved ) => void, onError:( error:Error ) => void ):void;\n\n\toff( event:Event | string, onEvent:( message:EventMessage ) => void, onError:( error:Error ) => void ):void;\n\n\n\tone( event:Event.CHILD_CREATED, onEvent:( message:ChildCreated ) => void, onError:( error:Error ) => void ):void;\n\n\tone( event:Event.ACCESS_POINT_CREATED, onEvent:( message:AccessPointCreated ) => void, onError:( error:Error ) => void ):void;\n\n\tone( event:Event.DOCUMENT_CREATED, onEvent:( message:DocumentCreated ) => void, onError:( error:Error ) => void ):void;\n\n\tone( event:Event.DOCUMENT_MODIFIED, onEvent:( message:DocumentModified ) => void, onError:( error:Error ) => void ):void;\n\n\tone( event:Event.DOCUMENT_DELETED, onEvent:( message:DocumentDeleted ) => void, onError:( error:Error ) => void ):void;\n\n\tone( event:Event.MEMBER_ADDED, onEvent:( message:MemberAdded ) => void, onError:( error:Error ) => void ):void;\n\n\tone( event:Event.MEMBER_REMOVED, onEvent:( message:MemberRemoved ) => void, onError:( error:Error ) => void ):void;\n\n\tone( event:Event | string, onEvent:( message:EventMessage ) => void, onError:( error:Error ) => void ):void;\n\n\n\tonAccessPointCreated( onEvent:( message:AccessPointCreated ) => void, onError:( error:Error ) => void ):void;\n\n\tonChildCreated( onEvent:( message:ChildCreated ) => void, onError:( error:Error ) => void ):void;\n\n\tonDocumentCreated( onEvent:( message:DocumentCreated ) => void, onError:( error:Error ) => void ):void;\n\n\tonDocumentModified( onEvent:( message:DocumentModified ) => void, onError:( error:Error ) => void ):void;\n\n\tonDocumentDeleted( onEvent:( message:DocumentDeleted ) => void, onError:( error:Error ) => void ):void;\n\n\tonMemberAdded( onEvent:( message:MemberAdded ) => void, onError:( error:Error ) => void ):void;\n\n\tonMemberRemoved( onEvent:( message:MemberRemoved ) => void, onError:( error:Error ) => void ):void;\n}\n\n\nfunction on<T extends EventMessage>( this:Class, event:Event | string, onEvent:( message:T ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.on( event, this.id, onEvent, onError );\n}\n\nfunction off<T extends EventMessage>( this:Class, event:Event | string, onEvent:( message:T ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.off( event, this.id, onEvent, onError );\n}\n\nfunction one<T extends EventMessage>( this:Class, event:Event | string, onEvent:( message:T ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.one( event, this.id, onEvent, onError );\n}\n\nfunction onAccessPointCreated( this:Class, onEvent:( message:AccessPointCreated ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.onAccessPointCreated( this.id, onEvent, onError );\n}\n\nfunction onChildCreated( this:Class, onEvent:( message:ChildCreated ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.onChildCreated( this.id, onEvent, onError );\n}\n\nfunction onDocumentCreated( this:Class, onEvent:( message:DocumentCreated ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.onDocumentCreated( this.id, onEvent, onError );\n}\n\nfunction onDocumentModified( this:Class, onEvent:( message:DocumentModified ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.onDocumentModified( this.id, onEvent, onError );\n}\n\nfunction onDocumentDeleted( this:Class, onEvent:( message:DocumentDeleted ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.onDocumentDeleted( this.id, onEvent, onError );\n}\n\nfunction onMemberAdded( this:Class, onEvent:( message:MemberAdded ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.onMemberAdded( this.id, onEvent, onError );\n}\n\nfunction onMemberRemoved( this:Class, onEvent:( message:MemberRemoved ) => void, onError:( error:Error ) => void ):void {\n\treturn this._documents.onMemberRemoved( this.id, onEvent, onError );\n}\n\nexport class Factory {\n\n\tstatic hasClassProperties( object:object ):object is Class {\n\t\treturn isObject( object )\n\t\t\t&& hasFunction( object, \"on\" )\n\t\t\t&& hasFunction( object, \"off\" )\n\t\t\t&& hasFunction( object, \"one\" )\n\t\t\t&& hasFunction( object, \"onDocumentCreated\" )\n\t\t\t&& hasFunction( object, \"onChildCreated\" )\n\t\t\t&& hasFunction( object, \"onAccessPointCreated\" )\n\t\t\t&& hasFunction( object, \"onDocumentModified\" )\n\t\t\t&& hasFunction( object, \"onDocumentDeleted\" )\n\t\t\t&& hasFunction( object, \"onMemberAdded\" )\n\t\t\t&& hasFunction( object, \"onMemberRemoved\" )\n\t\t\t;\n\t}\n\n\tstatic decorate<T extends ServiceAwareDocument>( object:T ):T & Class {\n\t\tif( Factory.hasClassProperties( object ) ) return object;\n\n\t\treturn Object.defineProperties( object, {\n\t\t\t\"on\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: on,\n\t\t\t},\n\t\t\t\"off\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: off,\n\t\t\t},\n\t\t\t\"one\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: one,\n\t\t\t},\n\t\t\t\"onDocumentCreated\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: onDocumentCreated,\n\t\t\t},\n\t\t\t\"onChildCreated\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: onChildCreated,\n\t\t\t},\n\t\t\t\"onAccessPointCreated\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: onAccessPointCreated,\n\t\t\t},\n\t\t\t\"onDocumentModified\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: onDocumentModified,\n\t\t\t},\n\t\t\t\"onDocumentDeleted\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: onDocumentDeleted,\n\t\t\t},\n\t\t\t\"onMemberAdded\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: onMemberAdded,\n\t\t\t},\n\t\t\t\"onMemberRemoved\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: onMemberRemoved,\n\t\t\t},\n\t\t} );\n\t}\n\n}\n\nexport default Class;\n"]}