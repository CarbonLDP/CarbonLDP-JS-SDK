{"version":3,"sources":["NamedFragment.ts"],"names":[],"mappings":";;;;;;;;;AACA,uCAAsC;AAGtC,6CAAiC;AACjC,iCAAmC;AAoBtB,QAAA,aAAa,GAAwB;IACjD,WAAW,EAAX,UAAa,MAAa;QACzB,MAAM,CAAC,gBAAQ,CAAE,MAAM,CAAE;YACxB,MAAM,CAAC,cAAc,CAAE,MAAM,CAAE,IAAI,CAAE,MAAM,CAAC,oBAAoB,CAAE,MAAM,CAAE,CACzE;IACH,CAAC;IAED,EAAE,EAAF,UAAI,MAAa;QAChB,MAAM,CAAC,mBAAQ,CAAC,EAAE,CAAE,MAAM,CAAE;eACxB,qBAAa,CAAC,WAAW,CAAE,MAAM,CAAE,CACrC;IACH,CAAC;IAED,MAAM,EAAN,UAAQ,QAAiB,EAAE,IAAW;QACrC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAE,CAAC;IAC9C,CAAC;IAED,UAAU,EAAV,UAA8B,MAAQ,EAAE,QAAiB,EAAE,IAAW;QACrE,IAAM,EAAE,GAAU,QAAQ,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC;QAC3C,IAAM,QAAQ,GAAgB,mBAAQ,CAAC,UAAU,CAAE,MAAM,EAAE,QAAQ,EAAE,EAAE,CAAE,CAAC;QAE1E,MAAM,CAAC,qBAAa,CAAC,QAAQ,CAAE,QAAQ,CAAE,CAAC;IAC3C,CAAC;IAED,QAAQ,EAAR,UAA4B,MAAQ;QACnC,EAAE,CAAA,CAAE,qBAAa,CAAC,WAAW,CAAE,MAAM,CAAG,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC;QAExD,IAAM,aAAa,GAAqB,MAA2B,CAAC;QACpE,MAAM,CAAC,gBAAgB,CAAE,aAAa,EAAE;YACvC,MAAM,EAAE;gBACP,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,GAAG,EAAH;oBACC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAE,IAAI,CAAC,EAAE,CAAE,CAAC;gBACxC,CAAC;gBACD,GAAG,EAAH,UAAyB,KAAY;oBACpC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC;gBAC3C,CAAC;aACD;SACD,CAAE,CAAC;QAEJ,MAAM,CAAC,aAAa,CAAC;IACtB,CAAC;CACD,CAAC;AAEF,kBAAe,qBAAa,CAAC","file":"NamedFragment.js","sourcesContent":["import { Document } from \"./Document\";\nimport { Fragment } from \"./Fragment\";\nimport { ModelDecorator } from \"./ModelDecorator\";\nimport { ModelFactory } from \"./ModelFactory\";\nimport * as URI from \"./RDF/URI\";\nimport { isObject } from \"./Utils\";\n\nexport interface NamedFragment extends Fragment {\n\tslug:string;\n}\n\n\nexport interface NamedFragmentFactory extends ModelFactory<NamedFragment>, ModelDecorator<NamedFragment> {\n\tisDecorated( object:object ):object is NamedFragment;\n\n\tis( object:object ):object is NamedFragment;\n\n\n\tcreate( document:Document, slug:string ):NamedFragment;\n\n\tcreateFrom<T extends object>( object:T, document:Document, slug:string ):T & NamedFragment;\n\n\tdecorate<T extends object>( object:T ):T & NamedFragment;\n}\n\nexport const NamedFragment:NamedFragmentFactory = {\n\tisDecorated( object:object ):object is NamedFragment {\n\t\treturn isObject( object ) &&\n\t\t\tobject.hasOwnProperty( \"slug\" ) && ! object.propertyIsEnumerable( \"slug\" )\n\t\t\t;\n\t},\n\n\tis( object:object ):object is NamedFragment {\n\t\treturn Fragment.is( object )\n\t\t\t&& NamedFragment.isDecorated( object )\n\t\t\t;\n\t},\n\n\tcreate( document:Document, slug:string ):NamedFragment {\n\t\treturn this.createFrom( {}, document, slug );\n\t},\n\n\tcreateFrom<T extends object>( object:T, document:Document, slug:string ):T & NamedFragment {\n\t\tconst id:string = document.id + \"#\" + slug;\n\t\tconst fragment:T & Fragment = Fragment.createFrom( object, document, id );\n\n\t\treturn NamedFragment.decorate( fragment );\n\t},\n\n\tdecorate<T extends object>( object:T ):T & NamedFragment {\n\t\tif( NamedFragment.isDecorated( object ) ) return object;\n\n\t\tconst namedFragment:T & NamedFragment = object as T & NamedFragment;\n\t\tObject.defineProperties( namedFragment, {\n\t\t\t\"slug\": {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget( this:NamedFragment ):string {\n\t\t\t\t\treturn URI.Util.getFragment( this.id );\n\t\t\t\t},\n\t\t\t\tset( this:NamedFragment, value:string ):void {\n\t\t\t\t\tthis.id = this._document.id + \"#\" + value;\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\t\treturn namedFragment;\n\t},\n};\n\nexport default NamedFragment;\n"]}