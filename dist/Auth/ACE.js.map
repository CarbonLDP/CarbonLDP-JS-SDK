{"version":3,"sources":["Auth/ACE.ts"],"names":[],"mappings":";;;;;;;;;AAAA,yCAAwC;AACxC,2CAA0C;AAI1C,gDAAoC;AAEvB,QAAA,SAAS,GAAU,OAAE,CAAC,kBAAkB,CAAC;AAEzC,QAAA,MAAM,GAAsB;IACxC,UAAU,EAAE;QACX,KAAK,EAAE,OAAE,CAAC,QAAQ;QAClB,OAAO,EAAE,SAAG,CAAC,OAAO;KACpB;IACD,aAAa,EAAE;QACd,KAAK,EAAE,OAAE,CAAC,UAAU;QACpB,OAAO,EAAE,KAAK;QACd,YAAY,EAAE,MAAM;KACpB;IACD,UAAU,EAAE;QACX,KAAK,EAAE,OAAE,CAAC,OAAO;QACjB,OAAO,EAAE,KAAK;QACd,YAAY,EAAE,MAAM;KACpB;IACD,eAAe,EAAE;QAChB,KAAK,EAAE,OAAE,CAAC,YAAY;QACtB,OAAO,EAAE,KAAK;KACd;CACD,CAAC;AASF;IAAA;IAwBA,CAAC;IAtBO,0BAAkB,GAAzB,UAA2B,MAAa;QACvC,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAE,MAAM,EAAE,UAAU,CAAE;eACjD,KAAK,CAAC,kBAAkB,CAAE,MAAM,EAAE,aAAa,CAAE;eACjD,KAAK,CAAC,kBAAkB,CAAE,MAAM,EAAE,UAAU,CAAE;eAC9C,KAAK,CAAC,kBAAkB,CAAE,MAAM,EAAE,eAAe,CAAE,CACrD;IACH,CAAC;IAEM,kBAAU,GAAjB,UAAqC,MAAQ,EAAE,QAAgB,EAAE,QAAwB,EAAE,YAA0B,EAAE,WAA2B;QACjJ,IAAI,GAAG,GAAmB,MAAM,CAAC;QAEjC,EAAE,CAAA,CAAE,CAAE,GAAG,CAAC,KAAM,CAAC;YAAC,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC;QACjC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAE,iBAAS,CAAE,CAAC;QAE5B,GAAG,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACxB,GAAG,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACxB,GAAG,CAAC,aAAa,GAAG,YAAY,CAAC;QACjC,GAAG,CAAC,WAAW,GAAG,WAAW,CAAC;QAE9B,MAAM,CAAC,GAAG,CAAC;IACZ,CAAC;IAEF,cAAC;AAAD,CAxBA,AAwBC,IAAA;AAxBY,0BAAO","file":"ACE.js","sourcesContent":["import { CS } from \"../Vocabularies/CS\";\nimport { XSD } from \"../Vocabularies/XSD\";\nimport * as Fragment from \"./../Fragment\";\nimport * as ObjectSchema from \"./../ObjectSchema\";\nimport * as Pointer from \"./../Pointer\";\nimport * as Utils from \"./../Utils\";\n\nexport const RDF_CLASS:string = CS.AccessControlEntry;\n\nexport const SCHEMA:ObjectSchema.Class = {\n\t\"granting\": {\n\t\t\"@id\": CS.granting,\n\t\t\"@type\": XSD.boolean,\n\t},\n\t\"permissions\": {\n\t\t\"@id\": CS.permission,\n\t\t\"@type\": \"@id\",\n\t\t\"@container\": \"@set\",\n\t},\n\t\"subjects\": {\n\t\t\"@id\": CS.subject,\n\t\t\"@type\": \"@id\",\n\t\t\"@container\": \"@set\",\n\t},\n\t\"subjectsClass\": {\n\t\t\"@id\": CS.subjectClass,\n\t\t\"@type\": \"@id\",\n\t},\n};\n\nexport interface Class extends Fragment.Class {\n\tgranting:boolean;\n\tpermissions:Pointer.Class[];\n\tsubjects:Pointer.Class[];\n\tsubjectsClass:Pointer.Class;\n}\n\nexport class Factory {\n\n\tstatic hasClassProperties( object:Object ):boolean {\n\t\treturn Utils.hasPropertyDefined( object, \"granting\" )\n\t\t\t&& Utils.hasPropertyDefined( object, \"permissions\" )\n\t\t\t&& Utils.hasPropertyDefined( object, \"subjects\" )\n\t\t\t&& Utils.hasPropertyDefined( object, \"subjectsClass\" )\n\t\t\t;\n\t}\n\n\tstatic createFrom<T extends Object>( object:T, granting:boolean, subjects:Pointer.Class[], subjectClass:Pointer.Class, permissions:Pointer.Class[] ):T & Class {\n\t\tlet ace:T & Class = <any> object;\n\n\t\tif( ! ace.types ) ace.types = [];\n\t\tace.types.push( RDF_CLASS );\n\n\t\tace.granting = granting;\n\t\tace.subjects = subjects;\n\t\tace.subjectsClass = subjectClass;\n\t\tace.permissions = permissions;\n\n\t\treturn ace;\n\t}\n\n}\n\nexport default Class;\n"]}