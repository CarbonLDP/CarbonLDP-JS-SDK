{"version":3,"sources":["Auth/Authenticator.ts"],"names":[],"mappings":";;AAAA,kCAAoC;AACpC,8BAAgC;AAEhC;IAAA;IA+BA,CAAC;IA3BA,+BAAe,GAAf;QACC,MAAM,CAAC,CAAE,CAAE,IAAI,CAAC,WAAW,CAAC;IAC7B,CAAC;IAID,mCAAmB,GAAnB;QACC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IACzB,CAAC;IAED,iCAAiB,GAAjB,UAAmB,cAAmC;QACrD,EAAE,CAAA,CAAE,CAAE,IAAI,CAAC,eAAe,EAAG,CAAC;YAAC,MAAM,IAAI,MAAM,CAAC,iBAAiB,CAAE,wCAAwC,CAAE,CAAC;QAE9G,IAAM,OAAO,GAAkC,cAAc,CAAC,OAAO,CAAC,CAAC;YACtE,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,GAAG,EAA6B,CAAC;QAExF,EAAE,CAAA,CAAE,OAAO,CAAC,GAAG,CAAE,eAAe,CAAG,CAAC;YAAC,MAAM,CAAC,cAAc,CAAC;QAE3D,IAAM,MAAM,GAAqB,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACzD,OAAO,CAAC,GAAG,CAAE,eAAe,EAAE,MAAM,CAAE,CAAC;QAEvC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAE,IAAI,CAAC,cAAc,EAAE,CAAE,CAAC;QAE5C,MAAM,CAAC,cAAc,CAAC;IACvB,CAAC;IAGF,YAAC;AAAD,CA/BA,AA+BC,IAAA;AA/BqB,sBAAK;AAiC3B,kBAAe,KAAK,CAAC","file":"Authenticator.js","sourcesContent":["import * as Errors from \"../Errors\";\nimport * as HTTP from \"../HTTP\";\n\nexport abstract class Class<T extends object, W extends object> {\n\n\tprotected abstract credentials:W;\n\n\tisAuthenticated():boolean {\n\t\treturn ! ! this.credentials;\n\t}\n\n\tabstract authenticate( authenticationToken:T ):Promise<W>;\n\n\tclearAuthentication():void {\n\t\tthis.credentials = null;\n\t}\n\n\taddAuthentication( requestOptions:HTTP.Request.Options ):HTTP.Request.Options {\n\t\tif( ! this.isAuthenticated() ) throw new Errors.IllegalStateError( \"The authenticator isn't authenticated.\" );\n\n\t\tconst headers:Map<string, HTTP.Header.Class> = requestOptions.headers ?\n\t\t\trequestOptions.headers : requestOptions.headers = new Map<string, HTTP.Header.Class>();\n\n\t\tif( headers.has( \"authorization\" ) ) return requestOptions;\n\n\t\tconst header:HTTP.Header.Class = new HTTP.Header.Class();\n\t\theaders.set( \"authorization\", header );\n\n\t\theader.values.push( this.getHeaderValue() );\n\n\t\treturn requestOptions;\n\t}\n\n\tprotected abstract getHeaderValue():HTTP.Header.Value;\n}\n\nexport default Class;\n"]}