{"version":3,"sources":["Auth/UsersEndpoint.ts"],"names":[],"mappings":";;AACA,wCAAuC;AACvC,oCAAiD;AAEjD,gDAAqC;AACrC,iDAAgD;AAChD,+BAGgB;AAehB,IAAM,mBAAmB,GAAkC;IAC1D,UAAU,EAAE,cAAc;IAC1B,QAAQ,EAAE,6BAAa,CAAC,QAAQ;CAChC,CAAC;AAEW,QAAA,aAAa,GAAwB;IACjD,IAAI,EAAE,iBAAE,CAAC,KAAK;IAEd,WAAW,EAAX,UAAa,MAAa;QACzB,MAAM,CAAC,CACN,MAAM,CAAE,eAAe,CAAE,KAAK,mBAAmB,CACjD,CAAC;IACH,CAAC;IAGD,QAAQ,EAAR,UAA4B,MAAQ,EAAE,SAAmB;QACxD,EAAE,CAAA,CAAE,qBAAa,CAAC,WAAW,CAAE,MAAM,CAAG,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC;QAExD,mBAAQ,CAAC,QAAQ,CAAE,MAAM,EAAE,SAAS,CAAE,CAAC;QAEvC,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAE,MAAM,EAAE;YACvC,eAAe,EAAE;gBAChB,KAAK,EAAE,mBAAmB;aAC1B;SACD,CAAE,CAAC;IACL,CAAC;CACD,CAAC;AAGF,wBAA6C,IAAM;IAClD,EAAE,CAAA,CAAE,CAAE,IAAI,CAAC,WAAY,CAAC;QAAC,MAAM,IAAI,6BAAoB,CAAE,mCAAmC,CAAE,CAAC;IAC/F,IAAM,IAAI,GAAY,WAAI,CAAC,UAAU,CAAE,IAAI,CAAE,CAAC;IAE9C,EAAE,CAAA,CAAE,CAAE,IAAI,CAAC,WAAW,CAAC,QAAS,CAAC;QAAC,MAAM,IAAI,6BAAoB,CAAE,yCAAyC,CAAE,CAAC;IAC9G,EAAE,CAAA,CAAE,CAAE,IAAI,CAAC,WAAW,CAAC,QAAS,CAAC;QAAC,MAAM,IAAI,6BAAoB,CAAE,yCAAyC,CAAE,CAAC;IAC9G,IAAI,CAAC,cAAc,CAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAE,CAAC;IAE5E,MAAM,CAAC,IAAI,CAAC;AACb,CAAC","file":"UsersEndpoint.js","sourcesContent":["import { Documents } from \"../Documents\";\nimport { Endpoint } from \"../Endpoint\";\nimport { IllegalArgumentError } from \"../Errors\";\nimport { ModelDecorator } from \"../ModelDecorator\";\nimport { CS } from \"../Vocabularies\";\nimport { PersistedUser } from \"./PersistedUser\";\nimport {\n\tUser,\n\tUserBase,\n} from \"./User\";\n\n\nexport interface UsersEndpoint extends Endpoint<UserBase, User, PersistedUser> {\n}\n\n\nexport interface UsersEndpointFactory extends ModelDecorator<UsersEndpoint> {\n\tTYPE:CS[ \"Users\" ];\n\n\tisDecorated( object:object ):object is UsersEndpoint;\n\n\tdecorate<T extends object>( object:T, documents:Documents ):T & UsersEndpoint;\n}\n\nconst EndpointUserFactory:UsersEndpoint[\"_ModelFactory\"] = {\n\tcreateFrom: createFromBase,\n\tdecorate: PersistedUser.decorate,\n};\n\nexport const UsersEndpoint:UsersEndpointFactory = {\n\tTYPE: CS.Users,\n\n\tisDecorated( object:object ):object is UsersEndpoint {\n\t\treturn (\n\t\t\tobject[ \"_ModelFactory\" ] === EndpointUserFactory\n\t\t);\n\t},\n\n\n\tdecorate<T extends object>( object:T, documents:Documents ):T & UsersEndpoint {\n\t\tif( UsersEndpoint.isDecorated( object ) ) return object;\n\n\t\tEndpoint.decorate( object, documents );\n\n\t\treturn Object.defineProperties( object, {\n\t\t\t\"_ModelFactory\": {\n\t\t\t\tvalue: EndpointUserFactory,\n\t\t\t},\n\t\t} );\n\t},\n};\n\n\nfunction createFromBase<T extends UserBase>( base:T ):T & User {\n\tif( ! base.credentials ) throw new IllegalArgumentError( \"A credentials object is required.\" );\n\tconst user:T & User = User.createFrom( base );\n\n\tif( ! user.credentials.username ) throw new IllegalArgumentError( \"A credentials username cannot be empty.\" );\n\tif( ! user.credentials.password ) throw new IllegalArgumentError( \"A credentials password cannot be empty.\" );\n\tuser.setCredentials( user.credentials.username, user.credentials.password );\n\n\treturn user;\n}\n"]}