{"version":3,"sources":["LDP/PersistedContainer.ts"],"names":[],"mappings":"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","file":"LDP/PersistedContainer.js","sourcesContent":["import * as Document from \"./../Document\";\nimport * as HTTP from \"./../HTTP\";\nimport * as PersistedDocument from \"./../PersistedDocument\";\nimport * as PersistedRDFSource from \"./PersistedRDFSource\";\nimport * as Pointer from \"./../Pointer\";\nimport * as Utils from \"./../Utils\";\nimport * as RetrievalPreferences from \"./../RetrievalPreferences\";\n\nexport interface Class extends PersistedRDFSource.Class {\n\taddMember( member:Pointer.Class ):Promise<HTTP.Response.Class>;\n\taddMember( memberURI:string ):Promise<HTTP.Response.Class>;\n\n\taddMembers( members:(Pointer.Class | string)[] ):Promise<HTTP.Response.Class>;\n\n\tcreateChild<T extends Object>( slug:string, object:T ):Promise<[ T & Document.Class, HTTP.Response.Class ]>;\n\tcreateChild( slug:string ):Promise<[ Document.Class, HTTP.Response.Class ]>;\n\tcreateChild<T extends Object>( object:T ):Promise<[ T & Document.Class, HTTP.Response.Class ]>;\n\tcreateChild():Promise<[ Document.Class, HTTP.Response.Class ]>;\n\n\tcreateChildAndRetrieve<T extends Object>( slug:string, object:T ):Promise<[ T & PersistedDocument.Class, [ HTTP.Response.Class, HTTP.Response.Class ] ]>;\n\tcreateChildAndRetrieve( slug:string ):Promise<[ PersistedDocument.Class, [ HTTP.Response.Class, HTTP.Response.Class ] ]>;\n\tcreateChildAndRetrieve<T extends Object>( object:T ):Promise<[ T & PersistedDocument.Class, [ HTTP.Response.Class, HTTP.Response.Class ] ]>;\n\tcreateChildAndRetrieve():Promise<[ PersistedDocument.Class, [ HTTP.Response.Class, HTTP.Response.Class ] ]>;\n\n\tlistChildren():Promise<[ Pointer.Class[], HTTP.Response.Class ]>;\n\n\tgetChildren( retrievalPreferences?:RetrievalPreferences.Class ):Promise<[ Pointer.Class[], HTTP.Response.Class ]>;\n\n\tlistMembers( includeNonReadable?:boolean ):Promise<[ Pointer.Class[], HTTP.Response.Class ]>;\n\n\tgetMembers( includeNonReadable?:boolean, retrievalPreferences?:RetrievalPreferences.Class ):Promise<[ Pointer.Class[], HTTP.Response.Class ]>;\n\tgetMembers( retrievalPreferences?:RetrievalPreferences.Class ):Promise<[ Pointer.Class[], HTTP.Response.Class ]>;\n\n\tremoveMember( member:Pointer.Class ):Promise<HTTP.Response.Class>;\n\tremoveMember( memberURI:string ):Promise<HTTP.Response.Class>;\n\n\tremoveMembers( members:(Pointer.Class | string)[] ):Promise<HTTP.Response.Class>;\n\tremoveAllMembers():Promise<HTTP.Response.Class>;\n\n\tupload( slug:string, blob:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tupload( blob:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tupload( slug:string, blob:Buffer ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tupload( blob:Buffer ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n}\n\nfunction addMember( member:Pointer.Class ):Promise<HTTP.Response.Class>;\nfunction addMember( memberURI:string ):Promise<HTTP.Response.Class>;\nfunction addMember( memberOrUri:any ):Promise<HTTP.Response.Class> {\n\treturn this._documents.addMember( this.id, memberOrUri );\n}\n\nfunction addMembers( members:(Pointer.Class | string)[] ):Promise<HTTP.Response.Class> {\n\treturn this._documents.addMembers( this.id, members );\n}\n\nfunction createChild( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( slug:string ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild():Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( slugOrObject?:any, object?:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n\tlet slug:string = Utils.isString( slugOrObject ) ? slugOrObject : null;\n\tobject = Utils.isString( slugOrObject ) ? object : slugOrObject;\n\tobject = object || {};\n\n\tif( slug ) {\n\t\treturn this._documents.createChild( this.id, slug, object );\n\t} else {\n\t\treturn this._documents.createChild( this.id, object );\n\t}\n}\n\nfunction createChildAndRetrieve( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChildAndRetrieve( slug:string ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChildAndRetrieve( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChildAndRetrieve():Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChildAndRetrieve( slugOrObject?:any, object?:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n\tlet slug:string = Utils.isString( slugOrObject ) ? slugOrObject : null;\n\tobject = Utils.isString( slugOrObject ) ? object : slugOrObject;\n\tobject = object || {};\n\n\tif( slug ) {\n\t\treturn this._documents.createChildAndRetrieve( this.id, slug, object );\n\t} else {\n\t\treturn this._documents.createChildAndRetrieve( this.id, object );\n\t}\n}\n\nfunction listChildren():Promise<[ Pointer.Class[], HTTP.Response.Class ]> {\n\treturn this._documents.listChildren( this.id );\n}\n\nfunction getChildren( retrievalPreferences?:RetrievalPreferences.Class ):Promise<[ Pointer.Class[], HTTP.Response.Class ]> {\n\treturn this._documents.getChildren( this.id, retrievalPreferences );\n}\n\nfunction listMembers( includeNonReadable:boolean = true ):Promise<[ Pointer.Class[], HTTP.Response.Class ]> {\n\treturn this._documents.listMembers( this.id, includeNonReadable );\n}\n\nfunction getMembers( includeNonReadable:boolean, retrievalPreferences?:RetrievalPreferences.Class ):Promise<[ Pointer.Class[], HTTP.Response.Class ]>;\nfunction getMembers( retrievalPreferences?:RetrievalPreferences.Class ):Promise<[ Pointer.Class[], HTTP.Response.Class ]>;\nfunction getMembers( nonReadRetPref:boolean = true, retrievalPreferences?:RetrievalPreferences.Class ):Promise<[ Pointer.Class[], HTTP.Response.Class ]> {\n\treturn this._documents.getMembers( this.id, nonReadRetPref, retrievalPreferences );\n}\n\nfunction removeMember( member:Pointer.Class ):Promise<HTTP.Response.Class>;\nfunction removeMember( memberURI:string ):Promise<HTTP.Response.Class>;\nfunction removeMember( memberOrUri:any ):Promise<HTTP.Response.Class> {\n\treturn this._documents.removeMember( this.id, memberOrUri );\n}\n\nfunction removeMembers( members:(Pointer.Class | string)[] ):Promise<HTTP.Response.Class> {\n\treturn this._documents.removeMembers( this.id, members );\n}\n\nfunction removeAllMembers():Promise<HTTP.Response.Class> {\n\treturn this._documents.removeAllMembers( this.id );\n}\n\nfunction upload( slug:string, data:Buffer ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction upload( data:Buffer ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction upload( slug:string, data:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction upload( data:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction upload( slugOrData:any, data:any = null ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n\tlet slug:string = Utils.isString( slugOrData ) ? slugOrData : null;\n\tdata = slug ? data : slugOrData;\n\n\tif( slug ) {\n\t\treturn this._documents.upload( this.id, slug, data );\n\t} else {\n\t\treturn this._documents.upload( this.id, data );\n\t}\n}\n\nexport class Factory {\n\tstatic hasClassProperties( document:Document.Class ):boolean {\n\t\treturn Utils.isObject( document )\n\t\t\t&& Utils.hasFunction( document, \"addMember\" )\n\t\t\t&& Utils.hasFunction( document, \"addMembers\" )\n\t\t\t&& Utils.hasFunction( document, \"createChild\" )\n\t\t\t&& Utils.hasFunction( document, \"createChildAndRetrieve\" )\n\t\t\t&& Utils.hasFunction( document, \"listChildren\" )\n\t\t\t&& Utils.hasFunction( document, \"getChildren\" )\n\t\t\t&& Utils.hasFunction( document, \"listMembers\" )\n\t\t\t&& Utils.hasFunction( document, \"getMembers\" )\n\t\t\t&& Utils.hasFunction( document, \"removeMember\" )\n\t\t\t&& Utils.hasFunction( document, \"removeMembers\" )\n\t\t\t&& Utils.hasFunction( document, \"removeAllMembers\" )\n\t\t\t&& Utils.hasFunction( document, \"upload\" );\n\t}\n\n\tstatic decorate<T extends PersistedDocument.Class>( persistedDocument:T ):T & Class {\n\t\tif( Factory.hasClassProperties( persistedDocument ) ) return <any> persistedDocument;\n\n\t\tPersistedRDFSource.Factory.decorate( persistedDocument );\n\n\t\tObject.defineProperties( persistedDocument, {\n\t\t\t\"addMember\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: addMember,\n\t\t\t},\n\t\t\t\"addMembers\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: addMembers,\n\t\t\t},\n\t\t\t\"createChild\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChild,\n\t\t\t},\n\t\t\t\"createChildAndRetrieve\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChildAndRetrieve,\n\t\t\t},\n\t\t\t\"listChildren\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: listChildren,\n\t\t\t},\n\t\t\t\"getChildren\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: getChildren,\n\t\t\t},\n\t\t\t\"listMembers\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: listMembers,\n\t\t\t},\n\t\t\t\"getMembers\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: getMembers,\n\t\t\t},\n\t\t\t\"removeMember\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: removeMember,\n\t\t\t},\n\t\t\t\"removeMembers\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: removeMembers,\n\t\t\t},\n\t\t\t\"removeAllMembers\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: removeAllMembers,\n\t\t\t},\n\t\t\t\"upload\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: upload,\n\t\t\t},\n\t\t} );\n\n\t\treturn <any> persistedDocument;\n\t}\n}\n\nexport default Class;\n"],"sourceRoot":"/source/"}