{"version":3,"sources":["LDP/PersistedContainer.ts"],"names":[],"mappings":";AAKA,IAAY,KAAK,WAAM,YAAY,CAAC,CAAA;AAqBpC,qBAAsB,cAAkB,EAAE,QAAmB;IAAnB,wBAAmB,GAAnB,eAAmB;IAC5D,IAAI,IAAI,GAAU,KAAK,CAAC,QAAQ,CAAE,cAAc,CAAE,GAAG,cAAc,GAAG,IAAI,CAAC;IAC3E,QAAQ,GAAI,IAAI,GAAG,QAAQ,GAAG,cAAc,CAAC;IAE7C,EAAE,CAAA,CAAE,IAAK,CAAC,CAAC,CAAC;QACX,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAE,CAAC;IAC/D,CAAC;IAAC,IAAI,CAAC,CAAC;QACP,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAE,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAE,CAAC;IACzD,CAAC;AACF,CAAC;AAID,gBAAiB,UAAc,EAAE,IAAe;IAAf,oBAAe,GAAf,WAAe;IAC/C,IAAI,IAAI,GAAU,KAAK,CAAC,QAAQ,CAAE,UAAU,CAAE,GAAG,UAAU,GAAG,IAAI,CAAC;IACnE,IAAI,GAAI,IAAI,GAAG,IAAI,GAAG,UAAU,CAAC;IAEjC,EAAE,CAAA,CAAE,IAAK,CAAC,CAAC,CAAC;QACX,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAE,CAAC;IACtD,CAAC;IAAC,IAAI,CAAC,CAAC;QACP,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAE,CAAC;IAChD,CAAC;AACF,CAAC;AAED;IAAA;IA0BA,CAAC;IAzBO,0BAAkB,GAAzB,UAA2B,QAAuB;QACjD,MAAM,CAAC,KAAK,CAAC,WAAW,CAAE,QAAQ,EAAE,aAAa,CAAE;eAC/C,KAAK,CAAC,WAAW,CAAE,QAAQ,EAAE,QAAQ,CAAE,CAAC;IAC7C,CAAC;IAEM,gBAAQ,GAAf,UAAoD,iBAAmB;QACtE,EAAE,CAAA,CAAE,OAAO,CAAC,kBAAkB,CAAE,iBAAiB,CAAG,CAAC;YAAC,MAAM,CAAO,iBAAiB,CAAC;QAErF,MAAM,CAAC,gBAAgB,CAAE,iBAAiB,EAAE;YAC3C,aAAa,EAAE;gBACd,QAAQ,EAAE,KAAK;gBACf,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,KAAK,EAAE,WAAW;aAClB;YACD,QAAQ,EAAE;gBACT,QAAQ,EAAE,KAAK;gBACf,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,KAAK,EAAE,MAAM;aACb;SACD,CAAE,CAAC;QAEJ,MAAM,CAAO,iBAAiB,CAAC;IAChC,CAAC;IACF,cAAC;AAAD,CA1BA,AA0BC,IAAA;AA1BY,eAAO,UA0BnB,CAAA","file":"LDP/PersistedContainer.js","sourcesContent":["import * as Document from \"./../Document\";\nimport * as HTTP from \"./../HTTP\";\nimport * as PersistedDocument from \"./../PersistedDocument\";\nimport * as Pointer from \"./../Pointer\";\nimport * as RDF from \"./../RDF\";\nimport * as Utils from \"./../Utils\";\n\nexport interface Class extends PersistedDocument.Class {\n\tcreateChild( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tcreateChild( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\n\tupload( slug:string, blob:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tupload( blob:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n}\n\n// TODO: Accept non document objects and turn them to documents\n/*\n\tfunction createChild( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tfunction createChild( slug:string ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tfunction createChild( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tfunction createChild():Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tfunction createChild( slugOrObject:Object = null, object:Object = null ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n*/\n\nfunction createChild( slug:string, document:Document ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( document:Document ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( slugOrDocument:any, document:any = null ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n\tlet slug:string = Utils.isString( slugOrDocument ) ? slugOrDocument : null;\n\tdocument =  slug ? document : slugOrDocument;\n\n\tif( slug ) {\n\t\treturn this._documents.createChild( this.id, slug, document );\n\t} else {\n\t\treturn this._documents.createChild( this.id, document );\n\t}\n}\n\nfunction upload( slug:string, blob:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction upload( blob:Blob ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction upload( slugOrBlob:any, blob:any = null ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n\tlet slug:string = Utils.isString( slugOrBlob ) ? slugOrBlob : null;\n\tblob =  slug ? blob : slugOrBlob;\n\n\tif( slug ) {\n\t\treturn this._documents.upload( this.id, slug, blob );\n\t} else {\n\t\treturn this._documents.upload( this.id, blob );\n\t}\n}\n\nexport class Factory {\n\tstatic hasClassProperties( document:Document.Class ):boolean {\n\t\treturn Utils.hasFunction( document, \"createChild\" )\n\t\t\t&& Utils.hasFunction( document, \"upload\" );\n\t}\n\n\tstatic decorate<T extends PersistedDocument.Class>( persistedDocument:T ):T & Class {\n\t\tif( Factory.hasClassProperties( persistedDocument ) ) return <any> persistedDocument;\n\n\t\tObject.defineProperties( persistedDocument, {\n\t\t\t\"createChild\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChild,\n\t\t\t},\n\t\t\t\"upload\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: upload,\n\t\t\t},\n\t\t} );\n\n\t\treturn <any> persistedDocument;\n\t}\n}\n"],"sourceRoot":"/source/"}