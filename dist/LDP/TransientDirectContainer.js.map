{"version":3,"sources":["LDP/TransientDirectContainer.ts"],"names":[],"mappings":";;AAAA,0DAAyD;AACzD,uEAAsE;AAGtE,2CAA0C;AAwB7B,QAAA,wBAAwB,GAAmC;IACvE,IAAI,EAAE,SAAG,CAAC,eAAe;IAEzB,EAAE,EAAF,UAAI,MAAa;QAChB,MAAM,CAAC,qCAAiB,CAAC,EAAE,CAAE,MAAM,CAAE;eACjC,MAAM,CAAC,OAAO,CAAE,gCAAwB,CAAC,IAAI,CAAE;eAC/C,MAAM,CAAC,cAAc,CAAE,oBAAoB,CAAE,CAC/C;IACH,CAAC;IAED,MAAM,EAAN,UAAQ,kBAA0B,EAAE,iBAAkC,EAAE,kBAAoC;QAC3G,MAAM,CAAC,gCAAwB,CAAC,UAAU,CAAE,EAAE,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,kBAAkB,CAAE,CAAC;IAC7G,CAAC;IAED,UAAU,EAAV,UAA8B,MAAQ,EAAE,kBAA0B,EAAE,iBAAkC,EAAE,kBAAoC;QAC3I,EAAE,CAAA,CAAE,gCAAwB,CAAC,EAAE,CAAE,MAAM,CAAG,CAAC;YAAC,MAAM,IAAI,2CAAoB,CAAE,+CAA+C,CAAE,CAAC;QAE9H,EAAE,CAAA,CAAE,CAAE,kBAAmB,CAAC;YAAC,MAAM,IAAI,2CAAoB,CAAE,8CAA8C,CAAE,CAAC;QAC5G,EAAE,CAAA,CAAE,CAAE,iBAAkB,CAAC;YAAC,MAAM,IAAI,2CAAoB,CAAE,6CAA6C,CAAE,CAAC;QAE1G,IAAM,aAAa,GAA2B,MAAM,CAAC,MAAM,CAAE,MAAM,EAAE;YACpE,kBAAkB,oBAAA;YAElB,iBAAiB,EAAY,iBAAiB;SAC9C,CAAE,CAAC;QAEJ,IAAM,SAAS,GAAgC,qCAAiB,CAAC,EAAE,CAAE,aAAa,CAAE,CAAC,CAAC;YACrF,aAAa,CAAC,CAAC,CAAC,qCAAiB,CAAC,UAAU,CAAE,aAAa,CAAE,CAAC;QAE/D,SAAS,CAAC,OAAO,CAAE,gCAAwB,CAAC,IAAI,CAAE,CAAC;QAGnD,EAAE,CAAA,CAAE,kBAAmB,CAAC;YAAC,SAAS,CAAC,kBAAkB,GAAa,kBAAkB,CAAC;QAErF,MAAM,CAAC,SAAS,CAAC;IAClB,CAAC;CACD,CAAC","file":"TransientDirectContainer.js","sourcesContent":["import { TransientDocument } from \"../TransientDocument\";\nimport { IllegalArgumentError } from \"../Errors/IllegalArgumentError\";\nimport { ModelFactory } from \"../core/ModelFactory\";\nimport { Pointer } from \"../Pointer\";\nimport { LDP } from \"../Vocabularies/LDP\";\n\ninterface DirectContainerBase {\n\tmembershipResource:Pointer;\n\thasMemberRelation:Pointer;\n}\n\nexport interface TransientDirectContainer extends TransientDocument {\n\tmembershipResource:Pointer;\n\thasMemberRelation:Pointer;\n}\n\n\nexport interface TransientDirectContainerFactory extends ModelFactory<TransientDirectContainer> {\n\tTYPE:string;\n\n\tis( object:object ):object is TransientDirectContainer;\n\n\n\tcreate( membershipResource:Pointer, hasMemberRelation:string | Pointer, isMemberOfRelation?:string | Pointer ):TransientDirectContainer;\n\n\tcreateFrom<T extends object>( object:T, membershipResource:Pointer, hasMemberRelation:string | Pointer, isMemberOfRelation?:string | Pointer ):T & TransientDirectContainer;\n}\n\nexport const TransientDirectContainer:TransientDirectContainerFactory = {\n\tTYPE: LDP.DirectContainer,\n\n\tis( object:object ):object is TransientDirectContainer {\n\t\treturn TransientDocument.is( object )\n\t\t\t&& object.hasType( TransientDirectContainer.TYPE )\n\t\t\t&& object.hasOwnProperty( \"membershipResource\" )\n\t\t\t;\n\t},\n\n\tcreate( membershipResource:Pointer, hasMemberRelation:string | Pointer, isMemberOfRelation?:string | Pointer ):TransientDirectContainer {\n\t\treturn TransientDirectContainer.createFrom( {}, membershipResource, hasMemberRelation, isMemberOfRelation );\n\t},\n\n\tcreateFrom<T extends object>( object:T, membershipResource:Pointer, hasMemberRelation:string | Pointer, isMemberOfRelation?:string | Pointer ):T & TransientDirectContainer {\n\t\tif( TransientDirectContainer.is( object ) ) throw new IllegalArgumentError( \"The base object is already a DirectContainer.\" );\n\n\t\tif( ! membershipResource ) throw new IllegalArgumentError( \"The property membershipResource is required.\" );\n\t\tif( ! hasMemberRelation ) throw new IllegalArgumentError( \"The property hasMemberRelation is required.\" );\n\n\t\tconst containerBase:T & DirectContainerBase = Object.assign( object, {\n\t\t\tmembershipResource,\n\t\t\t// TODO: Handle properties correctly and validate them\n\t\t\thasMemberRelation: <Pointer> hasMemberRelation,\n\t\t} );\n\n\t\tconst container:T & TransientDirectContainer = TransientDocument.is( containerBase ) ?\n\t\t\tcontainerBase : TransientDocument.createFrom( containerBase );\n\n\t\tcontainer.addType( TransientDirectContainer.TYPE );\n\n\t\t// TODO: Handle properties correctly and validate them\n\t\tif( isMemberOfRelation ) container.isMemberOfRelation = <Pointer> isMemberOfRelation;\n\n\t\treturn container;\n\t},\n};\n\n"]}