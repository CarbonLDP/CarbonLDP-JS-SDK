{"version":3,"sources":["LDP/ErrorResponse.ts"],"names":[],"mappings":";;AAEA,wCAAgD;AAChD,uCAAsC;AACtC,2CAA0C;AAsB1C,IAAM,MAAM,GAAgB;IAC3B,QAAQ,EAAE;QACT,KAAK,EAAE,KAAC,CAAC,KAAK;QACd,OAAO,EAAE,KAAK;QACd,YAAY,EAAE,MAAM;KACpB;IACD,WAAW,EAAE;QACZ,KAAK,EAAE,KAAC,CAAC,SAAS;QAClB,OAAO,EAAE,SAAG,CAAC,MAAM;KACnB;IACD,YAAY,EAAE;QACb,KAAK,EAAE,KAAC,CAAC,cAAc;QACvB,OAAO,EAAE,SAAG,CAAC,GAAG;KAChB;CACD,CAAC;AAEW,QAAA,aAAa,GAAwB;IACjD,IAAI,EAAE,KAAC,CAAC,aAAa;IACrB,MAAM,QAAA;IAGN,EAAE,EAAF,UAAI,KAAS;QACZ,OAAO,4BAAiB,CAAC,EAAE,CAAE,KAAK,CAAE;eAChC,KAAK,CAAC,OAAO,CAAE,qBAAa,CAAC,IAAI,CAAE,CACrC;IACH,CAAC;IAGD,UAAU,EAAV,UAAY,aAA2B;QACtC,IAAM,MAAM,GAAW,SAAS,CAAE,aAAa,CAAE,CAAC;QAElD,OAAO,MAAM;aACX,GAAG,CAAE,eAAe,CAAE;aACtB,IAAI,CAAE,IAAI,CAAE,CAAC;IAChB,CAAC;CAED,CAAC;AAEF,mBAAoB,aAA2B;IAC9C,IAAI,aAAa,CAAC,MAAM,IAAI,aAAa,CAAC,MAAM,CAAC,MAAM;QACtD,OAAO,aAAa,CAAC,MAAM,CAAC;IAE7B,IAAI,CAAE,aAAa,CAAE,KAAC,CAAC,KAAK,CAAE;QAAG,OAAO,EAAE,CAAC;IAE3C,IAAI,KAAK,CAAC,OAAO,CAAE,aAAa,CAAE,KAAC,CAAC,KAAK,CAAE,CAAE;QAAG,OAAO,aAAa,CAAE,KAAC,CAAC,KAAK,CAAE,CAAC;IAChF,OAAO,CAAE,aAAa,CAAE,KAAC,CAAC,KAAK,CAAE,CAAE,CAAC;AACrC,CAAC;AAED,yBAA0B,KAAW;IACpC,IAAI,cAAc,IAAI,KAAK;QAAG,OAAO,KAAK,CAAC,YAAY,CAAC;IACxD,OAAO,KAAK,CAAE,KAAC,CAAC,YAAY,CAAE,CAAC;AAChC,CAAC","file":"ErrorResponse.js","sourcesContent":["import { ModelSchema } from \"../core/ModelSchema\";\nimport { ObjectSchema } from \"../ObjectSchema\";\nimport { TransientResource } from \"../Resource\";\nimport { C } from \"../Vocabularies/C\";\nimport { XSD } from \"../Vocabularies/XSD\";\nimport { Error } from \"./Error\";\n\n\nexport interface ErrorResponse extends TransientResource {\n\terrors:Error[];\n\trequestID:string;\n\tstatusCode:number;\n}\n\n\nexport interface ErrorResponseFactory extends ModelSchema {\n\tTYPE:C[ \"ErrorResponse\" ];\n\tSCHEMA:ObjectSchema;\n\n\n\tis( value:any ):value is ErrorResponse;\n\n\n\tgetMessage( errorResponse:ErrorResponse ):string;\n}\n\nconst SCHEMA:ObjectSchema = {\n\t\"errors\": {\n\t\t\"@id\": C.error,\n\t\t\"@type\": \"@id\",\n\t\t\"@container\": \"@set\",\n\t},\n\t\"requestID\": {\n\t\t\"@id\": C.requestID,\n\t\t\"@type\": XSD.string,\n\t},\n\t\"statusCode\": {\n\t\t\"@id\": C.httpStatusCode,\n\t\t\"@type\": XSD.int,\n\t},\n};\n\nexport const ErrorResponse:ErrorResponseFactory = {\n\tTYPE: C.ErrorResponse,\n\tSCHEMA,\n\n\n\tis( value:any ):value is ErrorResponse {\n\t\treturn TransientResource.is( value )\n\t\t\t&& value.hasType( ErrorResponse.TYPE )\n\t\t\t;\n\t},\n\n\n\tgetMessage( errorResponse:ErrorResponse ):string {\n\t\tconst errors:Error[] = getErrors( errorResponse );\n\n\t\treturn errors\n\t\t\t.map( getErrorMessage )\n\t\t\t.join( \", \" );\n\t},\n\n};\n\nfunction getErrors( errorResponse:ErrorResponse ):Error[] {\n\tif( errorResponse.errors && errorResponse.errors.length )\n\t\treturn errorResponse.errors;\n\n\tif( ! errorResponse[ C.error ] ) return [];\n\n\tif( Array.isArray( errorResponse[ C.error ] ) ) return errorResponse[ C.error ];\n\treturn [ errorResponse[ C.error ] ];\n}\n\nfunction getErrorMessage( error:Error ):string {\n\tif( \"errorMessage\" in error ) return error.errorMessage;\n\treturn error[ C.errorMessage ];\n}\n"]}