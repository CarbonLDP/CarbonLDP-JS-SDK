!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Carbon=t():e.Carbon=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=72)}([function(e,t,r){"use strict";function n(e,t){return"function"==typeof e[t]}function i(e,t){return!!e&&a(e[t])}function o(e,t){return!!e&&!!Object.getOwnPropertyDescriptor(e,t)}function a(e){return void 0!==e}function s(e){return null===e}function u(e){return e instanceof Array}function c(e){return"string"==typeof e||e instanceof String}function l(e){return"boolean"==typeof e}function f(e){return"number"==typeof e||e instanceof Number}function p(e){return!!f(e)&&e%1==0}function d(e){return!!f(e)&&e%1!=0}function h(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function g(e){return"object"==typeof e&&!!e}function y(e){return g(e)&&!u(e)&&!h(e)&&!b(e)&&!("undefined"!=typeof Blob&&e instanceof Blob)&&!("[object Set]"===Object.prototype.toString.call(e))}function v(e){return"function"==typeof e}function b(e){return g(e)&&n(e,"get")&&n(e,"has")&&i(e,"size")&&n(e,"clear")&&n(e,"delete")&&n(e,"entries")&&n(e,"forEach")&&n(e,"get")&&n(e,"has")&&n(e,"keys")&&n(e,"set")&&n(e,"values")}function m(e){if(!c(e))return!1;switch(e.toLowerCase()){case"true":case"yes":case"y":case"1":return!0;case"false":case"no":case"n":case"0":default:return!1}}function P(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o)for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])}return e}function _(e,t){if(!g(e)&&!v(e))throw new Error("IllegalArgument");for(var r in e)if(e.hasOwnProperty(r)&&!1===t(r,e[r]))break}function O(e){return new Promise(function(t){return t(e())})}function S(e,t,r,n,i,o){if(void 0===o&&(o={}),e===t)return!0;if(!g(e)||!g(t))return!1;if(h(e))return e.getTime()===t.getTime();for(var a=R.joinWithoutDuplicates(Object.keys(e),Object.keys(t)),s=0,c=a;s<c.length;s++){var l=c[s];if(!(l in e&&l in t))return!1;if(typeof e!=typeof t)return!1;if(!(l in o)&&!v(e[l])){var f=y(e[l]);if(u(e[l])&&r.arrays||f&&r.objects||h(e[l])){if(f){for(var p=n.length;p--;)if(n[p]===e[l])return i[p]===t[l];n.push(e[l]),i.push(t[l])}if(!S(e[l],t[l],r,n,i))return!1;f&&(n.pop(),i.pop())}else if(e[l]!==t[l])return!1}}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.hasFunction=n,t.hasProperty=i,t.hasPropertyDefined=o,t.isDefined=a,t.isNull=s,t.isArray=u,t.isString=c,t.isBoolean=l,t.isNumber=f,t.isInteger=p,t.isDouble=d,t.isDate=h,t.isObject=g,t.isPlainObject=y,t.isFunction=v,t.isMap=b,t.parseBoolean=m,t.extend=P,t.forEachOwnProperty=_,t.promiseMethod=O;var R=function(){function e(){}return e.from=function(e){for(var t=[],r=e.next();!r.done;)t.push(r.value),r=e.next();return t},e.joinWithoutDuplicates=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0].slice(),n=1,i=e.length;n<i;n++)r=r.concat(e[n].filter(function(e){return r.indexOf(e)<0}));return r},e.indexOf=function(e,t,r){if(void 0===r&&(r=function(e,t){return e===t}),!e)return-1;for(var n=0,i=e.length;n<i;++n)if(r(e[n],t))return n;return-1},e}();t.A=R;var C=function(){function e(){}return e.extend=function(t,r,n,i){if(void 0===n&&(n={arrays:!1,objects:!1}),void 0===i&&(i={}),!u(r)&&!y(r)||!u(t)&&!y(t))return null;var o=t;r.__CarbonSDK_circularReferenceFlag=o;for(var a=0,s=Object.keys(r);a<s.length;a++){var c=s[a];if(!v(r[c])&&"__CarbonSDK_circularReferenceFlag"!==c&&!(c in i)){var l=r[c];(u(l)&&n.arrays||y(l)&&n.objects)&&(l=l.__CarbonSDK_circularReferenceFlag||e.clone(l,n)),o[c]=l}}return delete r.__CarbonSDK_circularReferenceFlag,o},e.clone=function(t,r,n){void 0===r&&(r={arrays:!1,objects:!1}),void 0===n&&(n={});var i=u(t);if(!i&&!y(t))return null;var o=i?[]:Object.create(Object.getPrototypeOf(t));return e.extend(o,t,r,n)},e.areEqual=function(e,t,r,n){return void 0===r&&(r={arrays:!1,objects:!1}),void 0===n&&(n={}),S(e,t,r,[e],[t],n)},e.shallowUpdate=function(e,t){for(var r=R.joinWithoutDuplicates(Object.keys(t),Object.keys(e)),n=0,o=r;n<o.length;n++){var a=o[n];i(t,a)?e[a]=t[a]:delete e[a]}return e},e.areShallowlyEqual=function(e,t){if(e===t)return!0;if(!g(e)||!g(t))return!1;var r=[];for(var n in e)if(e.hasOwnProperty(n)&&!v(e[n])){if(!(n in t))return!1;if(e[n]!==t[n])return!1;r.push(n)}for(var n in t)if(t.hasOwnProperty(n)&&!v(t[n])){if(!(n in e))return!1;if(-1===r.indexOf(n))return!1}return!0},e}();t.O=C;var E=function(){function e(){}return e.startsWith=function(e,t){return 0===e.lastIndexOf(t,0)},e.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},e.contains=function(e,t){return-1!==e.indexOf(t)},e}();t.S=E;var T=function(){function e(){}return e.from=function(e){var t=new Map;return _(e,function(e,r){t.set(e,r)}),t},e.extend=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t.length;n<i;n++)for(var o=t[n],a=o.entries(),s=a.next();!s.done;){var u=s.value,c=u[0],l=u[1];e.set(c,l),s=a.next()}return e},e}();t.M=T;var w=function(){function e(){}return e.is=function(t){return e.regExp.test(t)},e.generate=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.regExp=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,e}();t.UUID=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103);t.C=n;var i=r(104);t.CP=i;var o=r(105);t.CS=o;var a=r(106);t.LDP=a;var s=r(107);t.RDF=s;var u=r(22);t.XSD=u;var c=r(108);t.VCARD=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=r(5),a=function(e){function t(r,n){var i=e.call(this,r)||this;return Object.setPrototypeOf(i,t.prototype),o.Factory.createFrom(i),i.errors=[],i.requestID=null,i.response=n,i.statusCode=n.status,i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"HTTPError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=a,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(75);t.IDAlreadyInUseError=n.default;var i=r(76);t.IllegalActionError=i.default;var o=r(21);t.IllegalArgumentError=o.default;var a=r(77);t.IllegalStateError=a.default;var s=r(42);t.InvalidJSONLDSyntaxError=s.default;var u=r(78);t.NotImplementedError=u.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32);t.Literal=n;var i=r(47);t.Document=i;var o=r(34);t.List=o;var a=r(33);t.Node=a;var s=r(13);t.URI=s;var u=r(50);t.Value=u},function(e,t,r){"use strict";function n(e){this.types.push(e)}function i(e){return-1!==this.types.indexOf(e)}function o(e){var t=this.types.indexOf(e);-1!==t&&this.types.splice(t,1)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(8),s=r(0),u=function(){function e(){}return e.hasClassProperties=function(e){return s.hasPropertyDefined(e,"types")&&s.hasFunction(e,"addType")&&s.hasFunction(e,"hasType")&&s.hasFunction(e,"removeType")},e.is=function(t){return a.Factory.is(t)&&e.hasClassProperties(t)},e.create=function(t,r){return void 0===t&&(t=null),void 0===r&&(r=null),e.createFrom({},t,r)},e.createFrom=function(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null);var i=t;return i.id=r||i.id,i.types=n||i.types,e.decorate(i)},e.decorate=function(t){var r=t;return e.hasClassProperties(t)?r:(a.Factory.decorate(r),Object.defineProperties(r,{types:{writable:!0,enumerable:!1,configurable:!0,value:r.types||[]},addType:{writable:!0,enumerable:!1,configurable:!0,value:n},hasType:{writable:!0,enumerable:!1,configurable:!0,value:i},removeType:{writable:!0,enumerable:!1,configurable:!0,value:o}}),r)},e}();t.Factory=u;var c=function(){function e(){}return e.hasType=function(t,r){return-1!==e.getTypes(t).indexOf(r)},e.getTypes=function(e){return e.types||[]},e}();t.Util=c},function(e,t,r){"use strict";var n=r(38),i=r(66),o=r(16),a=r(25),s=r(15);t.VAR_SYMBOL=new i.LeftSymbol("?"),t.PREFIX_SYMBOL=new a.Operator(":"),t.OFF_TYPE=new a.Operator("^^"),t.LANG_SYMBOL=new a.Operator("@"),t.ALL=new n.RightSymbol("*"),t.OPEN_IRI=new i.LeftSymbol("<"),t.CLOSE_IRI=new n.RightSymbol(">"),t.OPEN_QUOTE=new i.LeftSymbol('"'),t.CLOSE_QUOTE=new n.RightSymbol('"'),t.GRAPH_PATTERN_SEPARATOR=new o.NewLineSymbol("."),t.SAME_SUBJECT_SEPARATOR=new o.NewLineSymbol(";"),t.SAME_PROPERTY_SEPARATOR=new o.NewLineSymbol(","),t.EMPTY_SEPARATOR=new o.NewLineSymbol(""),t.OPEN_MULTI_BLOCK=new o.NewLineSymbol("{"),t.CLOSE_MULTI_BLOCK=new o.NewLineSymbol("}"),t.OPEN_SINGLE_BLOCK=new i.LeftSymbol("{"),t.CLOSE_SINGLE_BLOCK=new n.RightSymbol("}"),t.OPEN_MULTI_BN=new o.NewLineSymbol("["),t.CLOSE_MULTI_BN=new o.NewLineSymbol("]"),t.OPEN_SINGLE_BN=new i.LeftSymbol("["),t.CLOSE_SINGLE_BN=new n.RightSymbol("]"),t.OPEN_MULTI_LIST=new o.NewLineSymbol("("),t.CLOSE_MULTI_LIST=new o.NewLineSymbol(")"),t.OPEN_SINGLE_LIST=new i.LeftSymbol("("),t.CLOSE_SINGLE_LIST=new n.RightSymbol(")"),t.BASE=new s.Identifier("BASE"),t.PREFIX=new s.Identifier("PREFIX"),t.SELECT=new s.Identifier("SELECT"),t.FROM=new s.Identifier("FROM"),t.NAMED=new s.Identifier("NAMED"),t.WHERE=new s.Identifier("WHERE"),t.GROUP=new s.Identifier("GROUP"),t.BY=new s.Identifier("BY"),t.HAVING=new s.Identifier("HAVING"),t.ORDER=new s.Identifier("ORDER"),t.LIMIT=new s.Identifier("LIMIT"),t.OFFSET=new s.Identifier("OFFSET"),t.GRAPH=new s.Identifier("GRAPH"),t.OPTIONAL=new s.Identifier("OPTIONAL"),t.UNION=new s.Identifier("UNION"),t.MINUS=new s.Identifier("MINUS"),t.VALUES=new s.Identifier("VALUES"),t.UNDEF=new s.Identifier("UNDEF"),t.DISTINCT=new s.Identifier("DISTINCT"),t.REDUCED=new s.Identifier("REDUCED"),t.SERVICE=new s.Identifier("SERVICE"),t.SILENT=new s.Identifier("SILENT"),t.BIND=new s.Identifier("BIND"),t.AS=new s.Identifier("AS"),t.FILTER=new s.Identifier("FILTER")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(43);t.Errors=n;var i=r(28);t.Header=i;var o=r(29);t.JSONParser=o;var a=r(44);t.Method=a.default;var s=r(101);t.Parser=s;var u=r(102);t.Request=u;var c=r(45);t.Response=c;var l=r(114);t.StatusCode=l.default;var f=r(115);t.StringParser=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(0),o=function(){function e(){}return e.hasClassProperties=function(e){return i.hasPropertyDefined(e,"_id")&&i.hasPropertyDefined(e,"_resolved")&&i.hasPropertyDefined(e,"id")&&i.hasFunction(e,"isResolved")&&i.hasPropertyDefined(e,"resolve")},e.is=function(t){return i.isObject(t)&&e.hasClassProperties(t)},e.create=function(t){return e.createFrom({},t)},e.createFrom=function(t,r){var n=t;return n.id=r||n.id,e.decorate(n)},e.decorate=function(t){var r=t;return e.hasClassProperties(t)?r:(Object.defineProperties(r,{_id:{writable:!0,enumerable:!1,configurable:!0,value:r.id},_resolved:{writable:!0,enumerable:!1,configurable:!0,value:!!r._resolved},id:{enumerable:!1,configurable:!0,get:function(){return this._id?this._id||"":""},set:function(e){this._id=e}},isResolved:{writable:!1,enumerable:!1,configurable:!0,value:function(){return this._resolved}},resolve:{writable:!1,enumerable:!1,configurable:!0,value:function(){return Promise.reject(new n.NotImplementedError("A simple pointer cannot be resolved by it self."))}}}),r)},e}();t.Factory=o;var a=function(){function e(){}return e.areEqual=function(e,t){return e.id===t.id},e.getIDs=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];t.push(i.id)}return t},e.resolveAll=function(e){var t=e.map(function(e){return e.resolve()});return Promise.all(t).then(function(e){return[e.map(function(e){return e[0]}),e.map(function(e){return e[1]})]})},e}();t.Util=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(3),o=r(1),a=r(4),s=r(0);!function(e){e[e.SET=0]="SET",e[e.LIST=1]="LIST",e[e.LANGUAGE=2]="LANGUAGE"}(n=t.ContainerType||(t.ContainerType={}));var u;!function(e){e[e.ID=0]="ID",e[e.VOCAB=1]="VOCAB"}(u=t.PointerType||(t.PointerType={}));var c=function(){function e(){this.base="",this.vocab=null,this.language=null,this.prefixes=new Map,this.properties=new Map,this.prefixedURIs=new Map}return e}();t.DigestedObjectSchema=c;var l=function(){function e(){this.uri=null,this.literal=null,this.literalType=null,this.pointerType=null,this.containerType=null}return e}();t.DigestedPropertyDefinition=l;var f=function(){function e(){}return e.digestSchema=function(t){if(!s.isArray(t))return e.digestSingleSchema(t);for(var r=[],n=0,i=t;n<i.length;n++){var o=i[n];r.push(e.digestSingleSchema(o))}return e.combineDigestedObjectSchemas(r)},e.combineDigestedObjectSchemas=function(t){if(0===t.length)throw new i.IllegalArgumentError("At least one DigestedObjectSchema needs to be specified.");var r=new c;r.vocab=t[0].vocab,r.base=t[0].base,r.language=t[0].language;for(var n=0,o=t;n<o.length;n++){var a=o[n];s.M.extend(r.prefixes,a.prefixes),s.M.extend(r.prefixedURIs,a.prefixedURIs),s.M.extend(r.properties,a.properties)}return e.resolvePrefixedURIs(r),r},e.resolvePrefixedURI=function(e,t){if(null===e)return null;if(!a.URI.Util.isPrefixed(e))return e;var r=e.split(":"),n=r[0],i=r[1];return t.prefixes.has(n)&&(e=t.prefixes.get(n)+i),e},e._resolvePrefixedURI=function(e,t){if(null===e.stringValue||!a.URI.Util.isPrefixed(e.stringValue))return e;var r=e.stringValue.split(":"),n=r[0],i=r[1];return t.prefixes.has(n)?e.stringValue=t.prefixes.get(n)+i:(t.prefixedURIs.has(n)||t.prefixedURIs.set(n,[]),t.prefixedURIs.get(n).push(e)),e},e.digestSingleSchema=function(t){for(var r=new c,f=0,p=["@base","@vocab"];f<p.length;f++){var d=p[f];if(d in t){var h=t[d];if(null!==h&&!s.isString(h))throw new i.IllegalArgumentError("The value of '"+d+"' must be a string or null.");if("@vocab"===d&&""===h||!a.URI.Util.isAbsolute(h)&&!a.URI.Util.isBNodeID(h))throw new i.IllegalArgumentError("The value of '"+d+"' must be an absolute URI"+("@base"===d?" or an empty string":"")+".");r[d.substr(1)]=h}}if(r.base=r.base||"","@language"in t){var h=t["@language"];if(null!==h&&!s.isString(h))throw new i.InvalidJSONLDSyntaxError("The value of '@language' must be a string or null.");r.language=h}for(var d in t)if(t.hasOwnProperty(d)&&"@reverse"!==d&&"@index"!==d&&"@base"!==d&&"@vocab"!==d&&"@language"!==d){var g=t[d];if(s.isString(g)){if(a.URI.Util.isPrefixed(d))throw new i.IllegalArgumentError("A prefixed property cannot be equal to another URI.");var y=new a.URI.Class(g);a.URI.Util.isPrefixed(y.stringValue)&&(y=e._resolvePrefixedURI(y,r)),r.prefixes.set(d,y)}else{if(!g||!s.isObject(g))throw new i.IllegalArgumentError("ObjectSchema Properties can only have string values or object values.");var v=g,b=new l;if("@id"in v){if(a.URI.Util.isPrefixed(d))throw new i.IllegalArgumentError("A prefixed property cannot have assigned another URI.");if(!s.isString(v["@id"]))throw new i.IllegalArgumentError("@id needs to point to a string");b.uri=e._resolvePrefixedURI(new a.URI.Class(v["@id"]),r)}else a.URI.Util.isPrefixed(d)?b.uri=e._resolvePrefixedURI(new a.URI.Class(d),r):null!==r.vocab&&(b.uri=new a.URI.Class(r.vocab+d));if("@type"in v){if(!s.isString(v["@type"]))throw new i.IllegalArgumentError("@type needs to point to a string");if("@id"===v["@type"]||"@vocab"===v["@type"])b.literal=!1,b.pointerType="@id"===v["@type"]?u.ID:u.VOCAB;else{b.literal=!0;var m=e._resolvePrefixedURI(new a.URI.Class(v["@type"]),r);a.URI.Util.isRelative(m.stringValue)&&m.stringValue in o.XSD.DataType&&(m.stringValue=o.XSD.DataType[m.stringValue]),b.literalType=m}}if("@language"in v){var P=v["@language"];if(null!==P&&!s.isString(P))throw new i.IllegalArgumentError("@language needs to point to a string or null.");b.language=P}if("@container"in v)switch(v["@container"]){case"@set":b.containerType=n.SET;break;case"@list":b.containerType=n.LIST;break;case"@language":if(s.isString(b.language))throw new i.IllegalArgumentError("@container cannot be set to @language when the property definition already contains an @language tag.");b.containerType=n.LANGUAGE;break;default:throw new i.IllegalArgumentError("@container needs to be equal to '@list', '@set', or '@language'")}r.properties.set(d,b)}}return e.resolvePrefixedURIs(r),r},e.resolvePrefixedURIs=function(t){return t.prefixes.forEach(function(r,n){if(t.prefixedURIs.has(n)){for(var i=t.prefixedURIs.get(n),o=0,a=i;o<a.length;o++){var s=a[o];e._resolvePrefixedURI(s,t)}t.prefixedURIs.delete(n)}}),t},e}();t.Digester=f;var p=function(){function e(){}return e.resolveURI=function(e,t){return a.URI.Util.isAbsolute(e)?e:(a.URI.Util.isPrefixed(e)?e=f.resolvePrefixedURI(e,t):null!==t.vocab&&(e=t.vocab+e),e)},e}();t.Util=p},function(e,t,r){"use strict";function n(e){var t=this;return e===t.id||!!t.inScope(e)&&t.hasFragment(e)}function i(e){var t=this;if(!t.inScope(e))return null;if(e===t.id)return t;var r=t.getFragment(e);return r=r||t.createFragment(e)}function o(e){var t=this,r=S.Factory.is(e)?e.id:e;return r===t.id||(!!R.URI.Util.isBNodeID(r)||(!!R.URI.Util.isFragmentOf(r,t.id)||R.URI.Util.isFragmentOf(r,"")))}function a(e){var t=this;if(R.URI.Util.isAbsolute(e)){if(!R.URI.Util.isFragmentOf(e,t.id))return!1;e=R.URI.Util.hasFragment(e)?R.URI.Util.getFragment(e):e}else E.S.startsWith(e,"#")&&(e=e.substring(1));return t._fragmentsIndex.has(e)}function s(e){var t=this;return R.URI.Util.isBNodeID(e)?t._fragmentsIndex.get(e)||null:t.getNamedFragment(e)}function u(e){var t=this;if(R.URI.Util.isBNodeID(e))throw new b.IllegalArgumentError("Named fragments can't have a id that starts with '_:'.");if(R.URI.Util.isAbsolute(e)){if(!R.URI.Util.isFragmentOf(e,t.id))throw new b.IllegalArgumentError("The id is out of scope.");e=R.URI.Util.hasFragment(e)?R.URI.Util.getFragment(e):e}else E.S.startsWith(e,"#")&&(e=e.substring(1));return t._fragmentsIndex.get(e)||null}function c(){var e=this;return E.A.from(e._fragmentsIndex.values())}function l(e,t){var r=this;t=E.isString(e)?e:t;var n=!E.isString(e)&&e?e:{};if(t){if(!R.URI.Util.isBNodeID(t))return r.createNamedFragment(n,t);if(this._fragmentsIndex.has(t))throw new b.IDAlreadyInUseError("The slug provided is already being used by a fragment.")}var i=v.Factory.createFrom(n,t,r);return r._fragmentsIndex.set(i.id,i),y(r,i),i}function f(e,t){var r=this;t=E.isString(e)?e:t;var n=!E.isString(e)&&e?e:{};if(R.URI.Util.isBNodeID(t))throw new b.IllegalArgumentError("Named fragments can't have a slug that starts with '_:'.");if(R.URI.Util.isAbsolute(t)){if(!R.URI.Util.isFragmentOf(t,r.id))throw new b.IllegalArgumentError("The slug is out of scope.");t=R.URI.Util.hasFragment(t)?R.URI.Util.getFragment(t):t}else E.S.startsWith(t,"#")&&(t=t.substring(1));if(r._fragmentsIndex.has(t))throw new b.IDAlreadyInUseError("The slug provided is already being used by a fragment.");var i=P.Factory.createFrom(n,t,r);return r._fragmentsIndex.set(t,i),y(r,i),i}function p(e){var t=E.isString(e)?e:e.id;if(R.URI.Util.isAbsolute(t)){if(!R.URI.Util.isFragmentOf(t,this.id))return;t=R.URI.Util.hasFragment(t)?R.URI.Util.getFragment(t):t}else E.S.startsWith(t,"#")&&(t=t.substring(1));this._fragmentsIndex.delete(t)}function d(e){var t=E.isString(e)?e:e.id;if(R.URI.Util.isBNodeID(t))throw new b.IllegalArgumentError("You can only remove NamedFragments.");this._removeFragment(t)}function h(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var r=e?e.getGeneralSchema():new O.DigestedObjectSchema;t=t||new m.default;var n=[];n.push(this),n=n.concat(this.getFragments());for(var i=[],o=0,a=n;o<a.length;o++){var s=a[o],u=e?e.getSchemaFor(s):new O.DigestedObjectSchema;i.push(t.expand(s,r,u))}var c={"@id":this.id,"@graph":i};return JSON.stringify(c)}function g(){var e=this,t=this.getFragments().filter(function(e){return R.URI.Util.isBNodeID(e.id)}),r=new Set;y(this,this,r),t.forEach(function(t){r.has(t.id)||e._fragmentsIndex.delete(t.id)})}function y(e,t,r){void 0===r&&(r=new Set);for(var n,i,o,a=Object.keys(t),s=0,u=a;s<u.length;s++){var c=u[s];if(n=t[c],E.isArray(n))y(e,n,r);else if(E.isPlainObject(n))if(S.Factory.is(n))e.hasFragment(n.id)&&!r.has(n.id)&&(r.add(n.id),y(e,n,r));else if(!(i="id"in n?n.id:"slug"in n?R.URI.Util.hasFragment(n.slug)?n.slug:"#"+n.slug:"")||e.inScope(i)){var l=e.getFragment(i);l?l!==n&&(Object.assign(l,n),o=t[c]=l,y(e,o,r)):(o=e.createFragment(n,i),y(e,o,r))}}}Object.defineProperty(t,"__esModule",{value:!0});var v=r(117),b=r(3),m=r(31),P=r(52),_=r(1),O=r(9),S=r(8),R=r(4),C=r(5),E=r(0);t.RDF_CLASS=_.C.Class.Document,t.SCHEMA={contains:{"@id":_.LDP.Predicate.contains,"@container":"@set","@type":"@id"},members:{"@id":_.LDP.Predicate.member,"@container":"@set","@type":"@id"},membershipResource:{"@id":_.LDP.Predicate.membershipResource,"@type":"@id"},isMemberOfRelation:{"@id":_.LDP.Predicate.isMemberOfRelation,"@type":"@id"},hasMemberRelation:{"@id":_.LDP.Predicate.hasMemberRelation,"@type":"@id"},insertedContentRelation:{"@id":_.LDP.Predicate.insertedContentRelation,"@type":"@id"},created:{"@id":_.C.Predicate.created,"@type":_.XSD.DataType.dateTime},modified:{"@id":_.C.Predicate.modified,"@type":_.XSD.DataType.dateTime},defaultInteractionModel:{"@id":_.C.Predicate.defaultInteractionModel,"@type":"@id"},accessPoints:{"@id":_.C.Predicate.accessPoint,"@type":"@id","@container":"@set"}};var T=function(){function e(){}return e.hasClassProperties=function(e){return E.isObject(e)&&E.hasPropertyDefined(e,"_fragmentsIndex")&&E.hasFunction(e,"_normalize")&&E.hasFunction(e,"_removeFragment")&&E.hasFunction(e,"hasFragment")&&E.hasFunction(e,"getFragment")&&E.hasFunction(e,"getNamedFragment")&&E.hasFunction(e,"getFragments")&&E.hasFunction(e,"createFragment")&&E.hasFunction(e,"createNamedFragment")&&E.hasFunction(e,"removeNamedFragment")&&E.hasFunction(e,"toJSON")},e.is=function(t){return C.Factory.is(t)&&e.hasClassProperties(t)},e.create=function(){return e.createFrom({})},e.createFrom=function(t){if(e.is(t))throw new b.IllegalArgumentError("The object provided is already a Document");var r=t;C.Factory.is(t)||(r=C.Factory.createFrom(t));var n=e.decorate(r);return y(n,n),n},e.decorate=function(t){return C.Factory.decorate(t),e.hasClassProperties(t)?t:(Object.defineProperties(t,{_fragmentsIndex:{writable:!1,enumerable:!1,configurable:!0,value:new Map},_normalize:{writable:!1,enumerable:!1,configurable:!0,value:g},_removeFragment:{writable:!0,enumerable:!1,configurable:!0,value:p},hasPointer:{writable:!0,enumerable:!1,configurable:!0,value:n},getPointer:{writable:!0,enumerable:!1,configurable:!0,value:i},inScope:{writable:!0,enumerable:!1,configurable:!0,value:o},hasFragment:{writable:!0,enumerable:!1,configurable:!0,value:a},getFragment:{writable:!0,enumerable:!1,configurable:!0,value:s},getNamedFragment:{writable:!0,enumerable:!1,configurable:!0,value:u},getFragments:{writable:!0,enumerable:!1,configurable:!0,value:c},createFragment:{writable:!0,enumerable:!1,configurable:!0,value:l},createNamedFragment:{writable:!0,enumerable:!1,configurable:!0,value:f},removeNamedFragment:{writable:!0,enumerable:!1,configurable:!0,value:d},toJSON:{writable:!0,enumerable:!1,configurable:!0,value:h}}),t)},e}();t.Factory=T},function(e,t,r){"use strict";t.EMPTY_SEPARATOR="",t.SPACE_SEPARATOR=" ",t.NEW_LINE_SEPARATOR="\n";var n;!function(e){e[e.PRETTY=0]="PRETTY",e[e.COMPACT=1]="COMPACT"}(n=t.TokenFormat||(t.TokenFormat={}));var i=function(){function e(e){this.value=e}return e.prototype.getTokenValue=function(e,r){var i=t.SPACE_SEPARATOR;if(void 0!==r)switch(e){case n.PRETTY:i=this.getPrettySeparator(r);break;case n.COMPACT:i=this.getCompactSeparator(r)}return this.value+i},e}();t.Token=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(n,n.constructor),n.message=r,n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"AbstractError"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.name+": "+this.message},t}(Error);t.Class=i,t.default=i},function(e,t,r){"use strict";function n(e,t){for(var r=t.prefixes.entries();;){var n=r.next();if(n.done)return e;var i=n.value,o=i[0],a=i[1];if(s.isAbsolute(a.toString())&&e.startsWith(a.toString()))return s.prefix(e,o,a.toString())}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),o=r(0),a=function(){function e(e){this.stringValue=e}return e.prototype.toString=function(){return this.stringValue},e}();t.Class=a;var s=function(){function e(){}return e.hasFragment=function(e){return-1!==e.indexOf("#")},e.hasQuery=function(e){return-1!==e.indexOf("?")},e.hasProtocol=function(e){return o.S.startsWith(e,"https://")||o.S.startsWith(e,"http://")},e.isAbsolute=function(e){return o.S.startsWith(e,"http://")||o.S.startsWith(e,"https://")||o.S.startsWith(e,"://")},e.isRelative=function(t){return!e.isAbsolute(t)},e.isBNodeID=function(e){return o.S.startsWith(e,"_:")},e.generateBNodeID=function(){return"_:"+o.UUID.generate()},e.isPrefixed=function(t){return!e.isAbsolute(t)&&!e.isBNodeID(t)&&o.S.contains(t,":")},e.isFragmentOf=function(t,r){return!!e.hasFragment(t)&&e.getDocumentURI(t)===r},e.isBaseOf=function(t,r){if(t===r)return!0;if(""===t)return!0;if(e.isRelative(r)&&!e.isPrefixed(r))return!0;if(r.startsWith(t)){if(o.S.endsWith(t,"/")||o.S.endsWith(t,"#"))return!0;var n=r.substring(t.length);if(o.S.startsWith(n,"/")||o.S.startsWith(n,"#"))return!0}return!1},e.getRelativeURI=function(e,t){return e.startsWith(t)?e.substring(t.length):e},e.getDocumentURI=function(e){var t=e.split("#");if(t.length>2)throw new Error("IllegalArgument: The URI provided has more than one # sign.");return t[0]},e.getFragment=function(e){var t=e.split("#");if(t.length<2)return null;if(t.length>2)throw new Error("IllegalArgument: The URI provided has more than one # sign.");return t[1]},e.getSlug=function(t){var r=t.split("#");if(2===r.length)return e.getSlug(r[1]);if(r.length>2)throw new i.IllegalArgumentError("Invalid URI: The uri contains two '#' symbols.");if(""===(t=r[0]))return t;if("/"===t)return t;var n=t.split("/");return""===n[n.length-1]?n[n.length-2]+"/":n[n.length-1]},e.getParameters=function(t){var r=new Map;return e.hasQuery(t)?(t.replace(/^.*\?/,"").split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),i=t.length>0?t.join("="):null;r.has(n)?r.set(n,[].concat(r.get(n),i)):r.set(n,i)}),r):r},e.resolve=function(t,r){if(!t||e.isAbsolute(r)||e.isBNodeID(r)||e.isPrefixed(r))return r;var n=t.substr(0,t.indexOf("://")+3),i=t.substr(t.indexOf("://")+3,t.length-1);return-1===i.lastIndexOf("/")&&(i+="/"),o.S.startsWith(r,"?")||o.S.startsWith(r,"#")?(e.hasQuery(i)&&(i=i.substr(0,i.indexOf("?"))),!e.hasFragment(i)||o.S.startsWith(r,"?")&&!o.S.endsWith(i,"#")||(i=e.getDocumentURI(i))):(i=i.substr(0,i.lastIndexOf("/")+1),o.S.endsWith(i,"?")||o.S.endsWith(i,"#")||o.S.endsWith(i,"/")||(i+="/")),o.S.startsWith(r,"/")&&(r=r.substr(1,r.length)),n+i+r},e.removeProtocol=function(e){return o.S.startsWith(e,"https://")?e.substr(5,e.length):o.S.startsWith(e,"http://")?e.substr(4,e.length):e},e.prefix=function(t,r,i){void 0===i&&(i=null);var a=o.isString(r)?null:r,s=o.isString(r)?r:null;return null!==a?n(t,a):e.isPrefixed(t)||!t.startsWith(i)?t:s+":"+t.substring(i.length)},e}();t.Util=s,t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(11),o=r(15),a=r(25),s=r(38),u=r(16),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof o.Identifier&&"AS"!==e.value||e instanceof u.NewLineSymbol&&(")"===e.value||"}"===e.value)?i.NEW_LINE_SEPARATOR:e instanceof a.Operator||e instanceof s.RightSymbol&&")"!==e.value?i.EMPTY_SEPARATOR:i.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return this.constructor===e.constructor||e instanceof o.Identifier?i.SPACE_SEPARATOR:i.EMPTY_SEPARATOR},t}(i.Token);t.StringLiteral=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(11),o=r(14),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return"UNION"===this.value?i.NEW_LINE_SEPARATOR:i.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return this.constructor===e.constructor||e instanceof o.StringLiteral?i.SPACE_SEPARATOR:i.EMPTY_SEPARATOR},t}(i.Token);t.Identifier=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(11),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof t&&-1!==[".",";",","].indexOf(e.value)?i.SPACE_SEPARATOR:i.NEW_LINE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return i.EMPTY_SEPARATOR},t}(i.Token);t.NewLineSymbol=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31);t.Converter=n;var i=r(48);t.Parser=i;var o=r(49);t.Processor=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(116);t.AddMemberAction=n;var i=r(118);t.DirectContainer=i;var o=r(119);t.DocumentMetadata=o;var a=r(120);t.Entry=a;var s=r(121);t.Error=s;var u=r(46);t.ErrorResponse=u;var c=r(122);t.IndirectContainer=c;var l=r(123);t.Map=l;var f=r(124);t.RemoveMemberAction=f;var p=r(125);t.ResponseMetadata=p;var d=r(126);t.ValidationError=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(54);t.ACE=n;var i=r(55);t.ACL=i;var o=r(56);t.BasicAuthenticator=o.default;var a=r(57);t.Credentials=a;var s=r(128);t.PersistedACE=s;var u=r(129);t.PersistedACL=u;var c=r(58);t.PersistedCredentials=c;var l=r(60);t.PersistedRole=l;var f=r(37);t.PersistedUser=f;var p=r(130);t.Role=p;var d=r(131);t.Roles=d;var h=r(132);t.Ticket=h;var g=r(61);t.Token=g;var y=r(133);t.TokenAuthenticator=y.default;var v=r(134);t.User=v;var b=r(62);t.UsernameAndPasswordToken=b.default;var m=r(135);t.Users=m;var P,_=r(3),O=r(30),S=r(7),R=r(17),C=r(1),E=r(4),T=r(5),w=r(0);!function(e){e[e.BASIC=0]="BASIC",e[e.TOKEN=1]="TOKEN"}(P=t.Method||(t.Method={}));var I=function(){function e(e){this.roles=new d.Class(this.context),this.users=new m.Class(this.context),this.context=e,this.authenticators=[],this.authenticators[P.BASIC]=new o.default,this.authenticators[P.TOKEN]=new y.default(this.context)}return Object.defineProperty(e.prototype,"authenticatedUser",{get:function(){return this._authenticatedUser?this._authenticatedUser:this.context.parentContext&&this.context.parentContext.auth?this.context.parentContext.auth.authenticatedUser:null},enumerable:!0,configurable:!0}),e.prototype.isAuthenticated=function(e){return void 0===e&&(e=!0),this.authenticator&&this.authenticator.isAuthenticated()||e&&!!this.context.parentContext&&!!this.context.parentContext.auth&&this.context.parentContext.auth.isAuthenticated()},e.prototype.authenticate=function(e,t){return this.authenticateUsing("TOKEN",e,t)},e.prototype.authenticateUsing=function(e,t,r){switch(e){case"BASIC":return this.authenticateWithBasic(t,r);case"TOKEN":return this.authenticateWithToken(t,r);default:return Promise.reject(new _.IllegalArgumentError("No exists the authentication method '"+e+"'"))}},e.prototype.addAuthentication=function(e){this.isAuthenticated(!1)?this.authenticator.addAuthentication(e):this.context.parentContext&&this.context.parentContext.auth?this.context.parentContext.auth.addAuthentication(e):console.warn("There is no authentication to add to the request.")},e.prototype.clearAuthentication=function(){this.authenticator&&(this.authenticator.clearAuthentication(),this.authenticator=null,this._authenticatedUser=null)},e.prototype.createTicket=function(e,t){var r=this;void 0===t&&(t={});var n=this.context.resolve(e),i=O.Factory.create(this.context.documents);return h.Factory.createFrom(i.createResource(),n),this.isAuthenticated()&&this.addAuthentication(t),S.Request.Util.setAcceptHeader("application/ld+json",t),S.Request.Util.setContentTypeHeader("application/ld+json",t),S.Request.Util.setPreferredInteractionModel(C.LDP.Class.RDFSource,t),Promise.resolve().then(function(){var e=r.context.resolveSystemURI(h.TICKETS_CONTAINER);return S.Request.Service.post(e,i.toJSON(),t,new R.Parser.Class)}).then(function(e){var t=e[0],n=e[1],i=E.Node.Util.getFreeNodes(t),o=i.filter(function(e){return E.Node.Util.hasType(e,h.RDF_CLASS)});if(0===o.length)throw new S.Errors.BadResponseError("No "+h.RDF_CLASS+" was returned.",n);if(o.length>1)throw new S.Errors.BadResponseError("Multiple "+h.RDF_CLASS+" were returned.",n);var a=o[0],s=T.Factory.create(),u=r.context.documents.getSchemaFor(a);return r.context.documents.jsonldConverter.compact(a,s,u,r.context.documents),[s,n]})},e.prototype.getAuthenticatedURL=function(e,t){var r=this.context.resolve(e);return this.createTicket(r,t).then(function(e){var t=e[0];e[1];return r+=E.URI.Util.hasQuery(r)?"&":"?",r+="ticket="+t.ticketKey})},e.prototype.authenticateWithBasic=function(e,t){var r,n=this,i=this.authenticators[P.BASIC];r=new b.default(e,t),this.clearAuthentication();var o;return i.authenticate(r).then(function(e){return o=e,n.getAuthenticatedUser(i)}).then(function(e){return n._authenticatedUser=e,n.authenticator=i,o})},e.prototype.authenticateWithToken=function(e,t){var r=this,n=this.authenticators[P.TOKEN],i=null,o=null;if(w.isString(e)&&w.isString(t))o=new b.default(e,t);else{if(!g.Factory.hasRequiredValues(e))return Promise.reject(new _.IllegalArgumentError("Parameters do not match with the authentication request."));i=e}return this.clearAuthentication(),n.authenticate(o||i).then(function(e){return i=e,f.Factory.is(i.user)?i.user:r.getAuthenticatedUser(n)}).then(function(e){return r._authenticatedUser=e,i.user=e,r.authenticator=n,i})},e.prototype.getAuthenticatedUser=function(e){var t={};return e.addAuthentication(t),this.context.documents.get("users/me/",t).then(function(e){var t=e[0];e[1];return t})},e}();t.Class=I,t.default=I},function(e,t,r){"use strict";function n(e){var t,r=this;return t=r.isResolved()?Promise.resolve(r.accessControlList):r.executeSELECTQuery("SELECT ?acl WHERE {\n\t\t\t<"+r.id+"> <"+a.CS.Predicate.accessControlList+"> ?acl.\n\t\t}").then(function(e){return e[0].bindings[0].acl}),t.then(function(t){return r._documents.get(t.id,e)}).then(function(e){var t=e[0],r=e[1];if(!u.Util.hasType(t,o.ACL.RDF_CLASS))throw new i.Errors.BadResponseError("The response does not contains a "+o.ACL.RDF_CLASS+" object.",r);return[t,r]})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),o=r(19),a=r(1),s=r(23),u=r(5),c=r(0),l=function(){function e(){}return e.hasClassProperties=function(e){return c.isObject(e)&&c.hasFunction(e,"getACL")},e.is=function(t){return e.hasClassProperties(t)&&s.Factory.is(t)},e.decorate=function(t,r){var i=t;return e.hasClassProperties(t)?i:(s.Factory.decorate(t,r),Object.defineProperties(i,{getACL:{writable:!1,enumerable:!1,configurable:!0,value:n}}),i)},e}();t.Factory=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalArgumentError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.namespace="http://www.w3.org/2001/XMLSchema#";var i=function(){function e(){}return e.date=t.namespace+"date",e.dateTime=t.namespace+"dateTime",e.duration=t.namespace+"duration",e.gDay=t.namespace+"gDay",e.gMonth=t.namespace+"gMonth",e.gMonthDay=t.namespace+"gMonthDay",e.gYear=t.namespace+"gYear",e.gYearMonth=t.namespace+"gYearMonth",e.time=t.namespace+"time",e.byte=t.namespace+"byte",e.decimal=t.namespace+"decimal",e.int=t.namespace+"int",e.integer=t.namespace+"integer",e.long=t.namespace+"long",e.negativeInteger=t.namespace+"negativeInteger",e.nonNegativeInteger=t.namespace+"nonNegativeInteger",e.nonPositiveInteger=t.namespace+"nonPositiveInteger",e.positiveInteger=t.namespace+"positiveInteger",e.short=t.namespace+"short",e.unsignedLong=t.namespace+"unsignedLong",e.unsignedInt=t.namespace+"unsignedInt",e.unsignedShort=t.namespace+"unsignedShort",e.unsignedByte=t.namespace+"unsignedByte",e.double=t.namespace+"double",e.float=t.namespace+"float",e.boolean=t.namespace+"boolean",e.string=t.namespace+"string",e.object=t.namespace+"object",e}();t.DataType=i,n.forEachOwnProperty(i,function(e,t){i[t]=e})},function(e,t,r){"use strict";function n(e){return function(){if(e.call(this))return!0;for(var t=this,r=0,n=t.getFragments();r<n.length;r++){var i=n[r];if(i.isDirty())return!0}for(var o=0,a=t._savedFragments;o<a.length;o++){var i=a[o];if(!t.hasFragment(i.id))return!0}return!1}}function i(e){return function(){var t=this;t._fragmentsIndex.clear();for(var r=0,n=t._savedFragments;r<n.length;r++){var i=n[r],o="slug"in i?i.slug:i.id;i.revert(),t._fragmentsIndex.set(o,i)}e.call(t)}}function o(){var e=this;e._savedFragments=Y.A.from(e._fragmentsIndex.values())}function a(e){if(W.Util.isAbsolute(e))return e;var t=this._documents.getGeneralSchema();return V.Util.resolveURI(e,t)}function s(e){return function(t){t=a.call(this,t),e.call(this,t)}}function u(e){return function(t){return t=a.call(this,t),e.call(this,t)}}function c(e){return function(t){t=a.call(this,t),e.call(this,t)}}function l(e){return function(t,r){var n=e.call(this,t,r),i=n.id;return X.URI.Util.isBNodeID(i)?G.Factory.decorate(n):Q.Factory.decorate(n),n}}function f(e){return function(t,r){var n=e.call(this,t,r);return G.Factory.decorate(n)}}function p(){return this._documents.refresh(this)}function d(e){return this._documents.save(this,e)}function h(){return this._documents.saveAndRefresh(this)}function g(){return this._documents.delete(this.id)}function y(){return this._documents.getDownloadURL(this.id)}function v(e){return this._documents.addMember(this.id,e)}function b(e){return this._documents.addMembers(this.id,e)}function m(e,t,r){void 0===r&&(r={}),r=H.Request.Util.isOptions(e)?e:H.Request.Util.isOptions(t)?t:r;var n=Y.isString(e)||H.Request.Util.isOptions(e)||!e?{}:e,i=Y.isString(e)?e:Y.isString(t)?t:null;return this._documents.createChild(this.id,n,i,r)}function P(e,t,r){return this._documents.createChildren(this.id,e,t,r)}function _(e,t,r){void 0===r&&(r={}),r=H.Request.Util.isOptions(e)?e:H.Request.Util.isOptions(t)?t:r;var n=Y.isString(e)||H.Request.Util.isOptions(e)||!e?{}:e,i=Y.isString(e)?e:Y.isString(t)?t:null;return this._documents.createChildAndRetrieve(this.id,n,i,r)}function O(e,t,r){return this._documents.createChildrenAndRetrieve(this.id,e,t,r)}function S(e,t,r){return this._documents.createAccessPoint(this.id,e,t,r)}function R(e,t,r){return this._documents.createAccessPoints(this.id,e,t,r)}function C(){return this._documents.listChildren(this.id)}function E(e){return this._documents.getChildren(this.id,e)}function T(e){return void 0===e&&(e=!0),this._documents.listMembers(this.id,e)}function w(e,t){var r=!0;return Y.isBoolean(e)?r=e:t=e,this._documents.getMembers(this.id,r,t)}function I(e){return this._documents.removeMember(this.id,e)}function A(e){return this._documents.removeMembers(this.id,e)}function D(){return this._documents.removeAllMembers(this.id)}function j(e,t){return this._documents.upload(this.id,e,t)}function U(e,t){return void 0===t&&(t={}),this._documents.executeRawASKQuery(this.id,e,t)}function x(e,t){return void 0===t&&(t={}),this._documents.executeASKQuery(this.id,e,t)}function M(e,t){return void 0===t&&(t={}),this._documents.executeRawSELECTQuery(this.id,e,t)}function L(e,t){return void 0===t&&(t={}),this._documents.executeSELECTQuery(this.id,e,t)}function F(e,t){return void 0===t&&(t={}),this._documents.executeRawCONSTRUCTQuery(this.id,e,t)}function N(e,t){return void 0===t&&(t={}),this._documents.executeRawDESCRIBEQuery(this.id,e,t)}function B(e,t){return void 0===t&&(t={}),this._documents.executeUPDATE(this.id,e,t)}function q(){return this._documents.sparql(this.id)}Object.defineProperty(t,"__esModule",{value:!0});var k=r(10),H=r(7),V=r(9),z=r(36),G=r(24),Q=r(59),K=r(8),X=r(4),Y=r(0),W=r(13),J=function(){function e(){}return e.hasClassProperties=function(e){return Y.hasPropertyDefined(e,"_documents")&&Y.hasPropertyDefined(e,"_etag")&&Y.hasFunction(e,"refresh")&&Y.hasFunction(e,"save")&&Y.hasFunction(e,"saveAndRefresh")&&Y.hasFunction(e,"delete")&&Y.hasFunction(e,"getDownloadURL")&&Y.hasFunction(e,"addMember")&&Y.hasFunction(e,"addMembers")&&Y.hasFunction(e,"createAccessPoint")&&Y.hasFunction(e,"createAccessPoints")&&Y.hasFunction(e,"createChild")&&Y.hasFunction(e,"createChildren")&&Y.hasFunction(e,"createChildAndRetrieve")&&Y.hasFunction(e,"createChildrenAndRetrieve")&&Y.hasFunction(e,"getChildren")&&Y.hasFunction(e,"getMembers")&&Y.hasFunction(e,"listChildren")&&Y.hasFunction(e,"listMembers")&&Y.hasFunction(e,"removeMember")&&Y.hasFunction(e,"removeMembers")&&Y.hasFunction(e,"removeAllMembers")&&Y.hasFunction(e,"upload")&&Y.hasFunction(e,"executeRawASKQuery")&&Y.hasFunction(e,"executeASKQuery")&&Y.hasFunction(e,"executeRawSELECTQuery")&&Y.hasFunction(e,"executeSELECTQuery")&&Y.hasFunction(e,"executeRawDESCRIBEQuery")&&Y.hasFunction(e,"executeRawCONSTRUCTQuery")&&Y.hasFunction(e,"executeUPDATE")&&Y.hasFunction(e,"sparql")},e.is=function(t){return e.hasClassProperties(t)&&k.Factory.is(t)},e.create=function(t,r,n){void 0===n&&(n={});var i=k.Factory.create();return i.id=t,e.decorate(i,r,n)},e.createFrom=function(t,r,n,i){void 0===i&&(i={});var o=e.decorate(t,n,i);return o.id=r,o},e.decorate=function(t,r,a){if(void 0===a&&(a={}),k.Factory.decorate(t),z.Factory.decorate(t,a),e.hasClassProperties(t))return t;var H=t;return Object.defineProperties(H,{_documents:{writable:!1,enumerable:!1,configurable:!0,value:r},_etag:{writable:!0,enumerable:!1,configurable:!0,value:null},_savedFragments:{writable:!0,enumerable:!1,configurable:!0,value:[]},_syncSavedFragments:{writable:!1,enumerable:!1,configurable:!0,value:o},addType:{writable:!1,enumerable:!1,configurable:!0,value:s(H.addType)},hasType:{writable:!1,enumerable:!1,configurable:!0,value:u(H.hasType)},removeType:{writable:!1,enumerable:!1,configurable:!0,value:c(H.removeType)},hasPointer:{writable:!1,enumerable:!1,configurable:!0,value:function(){var e=H.hasPointer;return function(t){return X.URI.Util.isPrefixed(t)&&(t=V.Digester.resolvePrefixedURI(t,this._documents.getGeneralSchema())),!!e.call(this,t)||!W.Util.isBNodeID(t)&&this._documents.hasPointer(t)}}()},getPointer:{writable:!1,enumerable:!1,configurable:!0,value:function(){var e=H.getPointer,t=H.inScope;return function(r){return X.URI.Util.isPrefixed(r)&&(r=V.Digester.resolvePrefixedURI(r,this._documents.getGeneralSchema())),t.call(this,r)?e.call(this,r):this._documents.getPointer(r)}}()},inScope:{writable:!1,enumerable:!1,configurable:!0,value:function(){var e=H.inScope;return function(t){var r=K.Factory.is(t)?t.id:t;return X.URI.Util.isPrefixed(r)&&(r=V.Digester.resolvePrefixedURI(r,this._documents.getGeneralSchema())),!!e.call(this,r)||this._documents.inScope(r)}}()},refresh:{writable:!1,enumerable:!1,configurable:!0,value:p},save:{writable:!1,enumerable:!1,configurable:!0,value:d},saveAndRefresh:{writable:!1,enumerable:!1,configurable:!0,value:h},delete:{writable:!1,enumerable:!1,configurable:!0,value:g},getDownloadURL:{writable:!1,enumerable:!1,configurable:!0,value:y},addMember:{writable:!1,enumerable:!1,configurable:!0,value:v},addMembers:{writable:!1,enumerable:!1,configurable:!0,value:b},createChild:{writable:!1,enumerable:!1,configurable:!0,value:m},createChildren:{writable:!1,enumerable:!1,configurable:!0,value:P},createChildAndRetrieve:{writable:!1,enumerable:!1,configurable:!0,value:_},createChildrenAndRetrieve:{writable:!1,enumerable:!1,configurable:!0,value:O},createAccessPoint:{writable:!1,enumerable:!1,configurable:!0,value:S},createAccessPoints:{writable:!1,enumerable:!1,configurable:!0,value:R},listChildren:{writable:!1,enumerable:!1,configurable:!0,value:C},getChildren:{writable:!1,enumerable:!1,configurable:!0,value:E},listMembers:{writable:!1,enumerable:!1,configurable:!0,value:T},getMembers:{writable:!1,enumerable:!1,configurable:!0,value:w},removeMember:{writable:!1,enumerable:!1,configurable:!0,value:I},removeMembers:{writable:!1,enumerable:!1,configurable:!0,value:A},removeAllMembers:{writable:!1,enumerable:!1,configurable:!0,value:D},upload:{writable:!1,enumerable:!1,configurable:!0,value:j},executeRawASKQuery:{writable:!1,enumerable:!1,configurable:!0,value:U},executeASKQuery:{writable:!1,enumerable:!1,configurable:!0,value:x},executeRawSELECTQuery:{writable:!1,enumerable:!1,configurable:!0,value:M},executeSELECTQuery:{writable:!1,enumerable:!1,configurable:!0,value:L},executeRawCONSTRUCTQuery:{writable:!1,enumerable:!1,configurable:!0,value:F},executeRawDESCRIBEQuery:{writable:!1,enumerable:!1,configurable:!0,value:N},executeUPDATE:{writable:!1,enumerable:!1,configurable:!0,value:B},sparql:{writable:!1,enumerable:!1,configurable:!0,value:q},createFragment:{writable:!1,enumerable:!1,configurable:!0,value:l(H.createFragment)},createNamedFragment:{writable:!1,enumerable:!1,configurable:!0,value:f(H.createNamedFragment)},isDirty:{writable:!1,enumerable:!1,configurable:!0,value:n(H.isDirty)},revert:{writable:!1,enumerable:!1,configurable:!0,value:i(H.revert)}}),H},e}();t.Factory=J},function(e,t,r){"use strict";function n(e){if(c.URI.Util.isAbsolute(e))return e;var t=this.document._documents.getGeneralSchema();return s.Util.resolveURI(e,t)}function i(e){return function(t){t=n.call(this,t),e.call(this,t)}}function o(e){return function(t){return t=n.call(this,t),e.call(this,t)}}function a(e){return function(t){t=n.call(this,t),e.call(this,t)}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(9),u=r(36),c=r(4),l=function(){function e(){}return e.decorate=function(e,t){return void 0===t&&(t={}),u.Factory.decorate(e,t),Object.defineProperties(e,{addType:{writable:!1,enumerable:!1,configurable:!0,value:i(e.addType)},hasType:{writable:!1,enumerable:!1,configurable:!0,value:o(e.hasType)},removeType:{writable:!1,enumerable:!1,configurable:!0,value:a(e.removeType)}}),e},e}();t.Factory=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(11),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return i.EMPTY_SEPARATOR},t.prototype.getCompactSeparator=function(e){return i.EMPTY_SEPARATOR},t}(i.Token);t.Operator=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String?e===u.PatternBuilder.undefined?[s.UNDEF]:[s.OPEN_QUOTE,new a.StringLiteral(e),s.CLOSE_QUOTE]:"number"==typeof e||e instanceof Number?Number.isInteger(e.valueOf())?this.addType(e+"","integer"):this.addType(e+"","float"):"boolean"==typeof e||e instanceof Boolean?this.addType(e+"","boolean"):e instanceof Date?this.addType(e.toISOString(),"dateTime"):e.getSelfTokens()}function i(e,t){return t in o&&(t=o[t]),[s.OPEN_QUOTE,new a.StringLiteral(e),s.CLOSE_QUOTE,s.OFF_TYPE,s.OPEN_IRI,new a.StringLiteral(t),s.CLOSE_IRI]}var o=r(139),a=r(14),s=r(6),u=r(68);t.serialize=n,t.addType=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41),i=r(19),o=r(3),a=r(18),s=r(9),u=r(63),c=r(4),l=r(150),f=r(71),p=function(){function e(){this.settings=new Map,this.generalObjectSchema=new s.DigestedObjectSchema,this.typeObjectSchemaMap=new Map,this.auth=new i.Class(this),this.documents=new n.Class(this),this.registerDefaultObjectSchemas()}return Object.defineProperty(e.prototype,"baseURI",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentContext",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){return e},e.prototype.resolveSystemURI=function(e){if(!this.hasSetting("system.container"))throw new o.IllegalStateError('The "system.container" setting hasn\'t been defined.');var t=this.resolve(this.getSetting("system.container")),r=c.URI.Util.resolve(t,e);if(!r.startsWith(t))throw new o.IllegalArgumentError('The provided URI "'+e+"\" doesn't belong to the system container of your Carbon LDP.");return r},e.prototype.hasSetting=function(e){return this.settings.has(e)||!!this.parentContext&&this.parentContext.hasSetting(e)},e.prototype.getSetting=function(e){return this.settings.has(e)?this.settings.get(e):this.parentContext&&this.parentContext.hasSetting(e)?this.parentContext.getSetting(e):null},e.prototype.setSetting=function(e,t){this.settings.set(e,t)},e.prototype.deleteSetting=function(e){this.settings.delete(e)},e.prototype.hasObjectSchema=function(e){return e=this.resolveTypeURI(e),!!this.typeObjectSchemaMap.has(e)||!!this.parentContext&&this.parentContext.hasObjectSchema(e)},e.prototype.getObjectSchema=function(e){if(void 0===e&&(e=null),e)return e=this.resolveTypeURI(e),this.typeObjectSchemaMap.has(e)?this.typeObjectSchemaMap.get(e):this.parentContext&&this.parentContext.hasObjectSchema(e)?this.parentContext.getObjectSchema(e):null;if(this.generalObjectSchema)return this.generalObjectSchema;if(this.parentContext)return this.parentContext.getObjectSchema();throw new o.IllegalStateError},e.prototype.extendObjectSchema=function(e,t){void 0===t&&(t=null);var r=t?e:null;t=t||e;var n=s.Digester.digestSchema(t);r?this.extendTypeObjectSchema(n,r):this.extendGeneralObjectSchema(n)},e.prototype.clearObjectSchema=function(e){void 0===e&&(e=null),e?(e=this.resolveTypeURI(e),this.typeObjectSchemaMap.delete(e)):this.generalObjectSchema=this.parentContext?null:new s.DigestedObjectSchema},e.prototype.extendGeneralObjectSchema=function(e){var t;t=this.generalObjectSchema?this.generalObjectSchema:this.parentContext?this.parentContext.getObjectSchema():new s.DigestedObjectSchema,this.generalObjectSchema=s.Digester.combineDigestedObjectSchemas([new s.DigestedObjectSchema,t,e])},e.prototype.extendTypeObjectSchema=function(e,t){t=this.resolveTypeURI(t);var r;r=this.typeObjectSchemaMap.has(t)?this.typeObjectSchemaMap.get(t):this.parentContext&&this.parentContext.hasObjectSchema(t)?this.parentContext.getObjectSchema(t):new s.DigestedObjectSchema;var n=s.Digester.combineDigestedObjectSchemas([r,e]);this.typeObjectSchemaMap.set(t,n)},e.prototype.registerDefaultObjectSchemas=function(){this.extendObjectSchema(u.RDF_CLASS,u.SCHEMA),this.extendObjectSchema(f.PlatformMetadata.RDF_CLASS,f.PlatformMetadata.SCHEMA),this.extendObjectSchema(f.InstanceMetadata.RDF_CLASS,f.InstanceMetadata.SCHEMA),this.extendObjectSchema(l.RDF_CLASS,l.SCHEMA),this.extendObjectSchema(a.Entry.SCHEMA),this.extendObjectSchema(a.Error.RDF_CLASS,a.Error.SCHEMA),this.extendObjectSchema(a.ErrorResponse.RDF_CLASS,a.ErrorResponse.SCHEMA),this.extendObjectSchema(a.ResponseMetadata.RDF_CLASS,a.ResponseMetadata.SCHEMA),this.extendObjectSchema(a.DocumentMetadata.RDF_CLASS,a.DocumentMetadata.SCHEMA),this.extendObjectSchema(a.AddMemberAction.RDF_CLASS,a.AddMemberAction.SCHEMA),this.extendObjectSchema(a.RemoveMemberAction.RDF_CLASS,a.RemoveMemberAction.SCHEMA),this.extendObjectSchema(a.Map.RDF_CLASS,a.Map.SCHEMA),this.extendObjectSchema(a.ValidationError.RDF_CLASS,a.ValidationError.SCHEMA),this.extendObjectSchema(i.Role.RDF_CLASS,i.Role.SCHEMA),this.extendObjectSchema(i.ACE.RDF_CLASS,i.ACE.SCHEMA),this.extendObjectSchema(i.ACL.RDF_CLASS,i.ACL.SCHEMA),this.extendObjectSchema(i.User.RDF_CLASS,i.User.SCHEMA),this.extendObjectSchema(i.Credentials.RDF_CLASS,i.Credentials.SCHEMA),this.extendObjectSchema(i.Ticket.RDF_CLASS,i.Ticket.SCHEMA),this.extendObjectSchema(i.Token.RDF_CLASS,i.Token.SCHEMA)},e.prototype.resolveTypeURI=function(e){if(c.URI.Util.isAbsolute(e))return e;var t,r=this.getObjectSchema();return this.hasSetting("vocabulary")&&(t=this.resolve(this.getSetting("vocabulary"))),c.URI.Util.isPrefixed(e)?e=s.Digester.resolvePrefixedURI(e,r):t&&(e=t+e),e},e}();t.Class=p,t.instance=new p,t.default=t.instance},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value},e}();t.Value=n;var i=function(){function e(e){this.values=[],e&&(Array.isArray(e)?this.values=e:this.setValues(e))}return e.prototype.toString=function(){return this.values.join(", ")},e.prototype.setValues=function(e){this.values=[];for(var t=e.split(","),r=0,i=t.length;r<i;r++){var o=t[r].trim();this.values.push(new n(o))}},e}();t.Class=i;var o=function(){function e(){}return e.parseHeaders=function(e){for(var t=new Map,r=e.split(/\r?\n/),n=0,o=r.length;n<o;n++){var a=r[n];if(a.trim()){var s=a.split(":");if(s.length<2)throw new Error("ParseError: The header couldn't be parsed.");s.length>2&&(s[1]=s.slice(1).join(":"));var u=s[0].trim().toLowerCase(),c=new i(s[1].trim());if(t.has(u)){t.get(u).values.concat(c.values)}else t.set(u,c)}}return t},e}();t.Util=o,t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){return new Promise(function(t,r){try{t(JSON.parse(e))}catch(e){r(e)}})},e}();t.Class=n,t.default=n},function(e,t,r){"use strict";function n(e){var t=this;return o(e)?t.hasResource(e):t._documents.hasPointer(e)}function i(e){var t=this;if(!o(e))return t._documents.getPointer(e);var r=t.getResource(e);return r||t.createResource(e)}function o(e){return y.URI.Util.isBNodeID(e)}function a(e){var t=this,r=g.Factory.is(e)?e.id:e;return o(r)||t._documents.inScope(r)}function s(e){return this._resourcesIndex.has(e)}function u(e){return this._resourcesIndex.get(e)||null}function c(){var e=this;return b.A.from(e._resourcesIndex.values())}function l(e){return this.createResourceFrom({},e)}function f(e,t){var r=this;if(t){if(!o(t))throw new d.IllegalArgumentError('The id "'+t+'" is out of scope.');if(r._resourcesIndex.has(t))throw new d.IDAlreadyInUseError('The id "'+t+'" is already in use by another resource.')}else t=y.URI.Util.generateBNodeID();var n=v.Factory.createFrom(e,t);return r._resourcesIndex.set(t,n),n}function p(){for(var e=this._documents.getGeneralSchema(),t=new h.default,r=this.getResources(),n=[],i=0,o=r;i<o.length;i++){var a=o[i];n.push(t.expand(a,e,this._documents.getSchemaFor(a)))}return JSON.stringify(n)}Object.defineProperty(t,"__esModule",{value:!0});var d=r(3),h=r(31),g=r(8),y=r(4),v=r(5),b=r(0),m=function(){function e(){}return e.hasClassProperties=function(e){return b.hasPropertyDefined(e,"_documents")&&b.hasPropertyDefined(e,"_resourcesIndex")&&b.hasFunction(e,"hasResource")&&b.hasFunction(e,"getResource")&&b.hasFunction(e,"getResources")&&b.hasFunction(e,"createResource")&&b.hasFunction(e,"createResourceFrom")&&b.hasFunction(e,"hasPointer")&&b.hasFunction(e,"getPointer")&&b.hasFunction(e,"inScope")&&b.hasFunction(e,"toJSON")},e.create=function(t){return e.createFrom({},t)},e.createFrom=function(t,r){var n=e.decorate(t);return n._documents=r,n},e.decorate=function(t){return e.hasClassProperties(t)?t:(Object.defineProperties(t,{_resourcesIndex:{writable:!1,enumerable:!1,configurable:!0,value:new Map},hasPointer:{writable:!1,enumerable:!1,configurable:!0,value:n},getPointer:{writable:!1,enumerable:!1,configurable:!0,value:i},inScope:{writable:!1,enumerable:!1,configurable:!0,value:a},hasResource:{writable:!1,enumerable:!1,configurable:!0,value:s},getResource:{writable:!1,enumerable:!1,configurable:!0,value:u},getResources:{writable:!1,enumerable:!1,configurable:!0,value:c},createResource:{writable:!1,enumerable:!1,configurable:!0,value:l},createResourceFrom:{writable:!1,enumerable:!1,configurable:!0,value:f},toJSON:{writable:!1,enumerable:!1,configurable:!0,value:p}}),t)},e}();t.Factory=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(9),o=r(1),a=r(8),s=r(4),u=r(0),c=function(){function e(t){this._literalSerializers=t||e.getDefaultSerializers()}return Object.defineProperty(e.prototype,"literalSerializers",{get:function(){return this._literalSerializers},enumerable:!0,configurable:!0}),e.getDefaultSerializers=function(){var e=new Map;return e.set(o.XSD.DataType.date,s.Literal.Serializers.XSD.dateSerializer),e.set(o.XSD.DataType.dateTime,s.Literal.Serializers.XSD.dateTimeSerializer),e.set(o.XSD.DataType.time,s.Literal.Serializers.XSD.timeSerializer),e.set(o.XSD.DataType.integer,s.Literal.Serializers.XSD.integerSerializer),e.set(o.XSD.DataType.int,s.Literal.Serializers.XSD.integerSerializer),e.set(o.XSD.DataType.unsignedInt,s.Literal.Serializers.XSD.unsignedIntegerSerializer),e.set(o.XSD.DataType.long,s.Literal.Serializers.XSD.longSerializer),e.set(o.XSD.DataType.unsignedLong,s.Literal.Serializers.XSD.unsignedLongSerializer),e.set(o.XSD.DataType.float,s.Literal.Serializers.XSD.floatSerializer),e.set(o.XSD.DataType.double,s.Literal.Serializers.XSD.floatSerializer),e.set(o.XSD.DataType.boolean,s.Literal.Serializers.XSD.booleanSerializer),e.set(o.XSD.DataType.string,s.Literal.Serializers.XSD.stringSerializer),e},e.getPropertyURI=function(e,t,r){var i,o=null;if(null!==t.uri?(i=t.uri.toString(),s.URI.Util.isRelative(i)&&(o=i)):o=e,null!==o){if(null===r)throw new n.InvalidJSONLDSyntaxError("The context doesn't have a default vocabulary and the object schema does not define a proper absolute @id for the property '"+e+"'");i=r+o}return i},e.prototype.compact=function(e,t,r,n){void 0===n&&(n=null);var i=n?t:null,o=n?r:t;if(n=n||r,!u.isArray(e))return this.compactSingle(e,i,o,n);for(var a=e,s=i||[],c=0,l=a.length;c<l;c++){var f=a[c],p=s[c]=s[c]?s[c]:{};this.compactSingle(f,p,o,n)}return s},e.prototype.expand=function(e,t,r){if(!u.isArray(e))return this.expandSingle(e,t,r)},e.prototype.expandSingle=function(t,r,n){var o=this,a={};return a["@id"]=t.id?t.id:"",t.types&&(a["@type"]=t.types.map(function(e){return i.Util.resolveURI(e,r)})),u.forEachOwnProperty(t,function(t,c){if("id"!==t&&"types"!==t){var l,f=null;if(n.properties.has(t)){var p=u.O.clone(n.properties.get(t),{objects:!0});f=e.getPropertyURI(t,p,n.vocab),l=o.expandProperty(c,p,r,n)}else(s.URI.Util.isAbsolute(t)||null!==n.vocab)&&(l=o.expandPropertyValue(c,r,n),f=i.Util.resolveURI(t,r));l&&f&&(a[f]=l)}}),a},e.prototype.expandProperty=function(e,t,r,o){switch(t.containerType){case null:return t.literal?this.expandPropertyLiteral(e,t.literalType.toString()):!1===t.literal?this.expandPropertyPointer(e,r,o):this.expandPropertyValue(e,r,o);case i.ContainerType.LIST:return t.literal?this.expandPropertyLiteralList(e,t.literalType.toString()):!1===t.literal?this.expandPropertyPointerList(e,r,o):this.expandPropertyList(e,r,o);case i.ContainerType.SET:return t.literal?this.expandPropertyLiterals(e,t.literalType.toString()):!1===t.literal?this.expandPropertyPointers(e,r,o):this.expandPropertyValues(e,r,o);case i.ContainerType.LANGUAGE:return this.expandPropertyLanguageMap(e);default:throw new n.IllegalArgumentError("The containerType specified is not supported.")}},e.prototype.expandPropertyValue=function(e,t,r){if(u.isArray(e))return this.expandPropertyValues(e,t,r);var n=this.expandValue(e,t,r);return n?[n]:null},e.prototype.expandPropertyPointer=function(e,t,r){var n=this.expandPointer(e,t,r);return n?[n]:null},e.prototype.expandPropertyLiteral=function(e,t){var r=this.serializeLiteral(e,t);return null===r?null:[{"@value":r,"@type":t}]},e.prototype.expandPropertyList=function(e,t,r){e=u.isArray(e)?e:[e];var n=this.expandArray(e,t,r);return n?[{"@list":n}]:null},e.prototype.expandPropertyPointerList=function(e,t,r){return[{"@list":this.expandPropertyPointers(e,t,r)}]},e.prototype.expandPropertyLiteralList=function(e,t){return[{"@list":this.expandPropertyLiterals(e,t)}]},e.prototype.expandPropertyValues=function(e,t,r){e=u.isArray(e)?e:[e];var n=this.expandArray(e,t,r);return n||null},e.prototype.expandPropertyPointers=function(e,t,r){e=u.isArray(e)?e:[e];for(var n=[],i=0,o=e;i<o.length;i++){var a=o[i],s=this.expandPointer(a,t,r);s&&n.push(s)}return n},e.prototype.expandPropertyLiterals=function(e,t){e=u.isArray(e)?e:[e];for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n],a=this.serializeLiteral(o,t);a&&r.push({"@value":a,"@type":t})}return r},e.prototype.expandPropertyLanguageMap=function(e){var t=this;if(!u.isObject(e))return null;var r=[];return u.forEachOwnProperty(e,function(e,n){var i=t.literalSerializers.get(o.XSD.DataType.string).serialize(n);r.push({"@value":i,"@type":o.XSD.DataType.string,"@language":e})}),r},e.prototype.serializeLiteral=function(e,t){if(a.Factory.is(e))return null;if(!this.literalSerializers.has(t))return null;try{return this.literalSerializers.get(t).serialize(e)}catch(e){return null}},e.prototype.expandPointer=function(e,t,r){var n,o=!0;if(a.Factory.is(e)?(o=!1,e=e.id):u.isString(e)||(e=null),!(n=e))return null;if(n=i.Digester.resolvePrefixedURI(n,t),t.properties.has(n)){var s=t.properties.get(n);s.uri&&(n=s.uri.stringValue)}return o&&r.vocab&&(n=i.Util.resolveURI(n,t)),{"@id":n}},e.prototype.expandArray=function(e,t,r){for(var n=[],i=0,o=e;i<o.length;i++){var a=o[i],s=this.expandValue(a,t,r);s&&n.push(s)}return n.length?n:null},e.prototype.expandValue=function(e,t,r){return u.isArray(e)?null:a.Factory.is(e)?this.expandPointer(e,t,r):this.expandLiteral(e)},e.prototype.expandLiteral=function(e){var t,r;switch(!0){case u.isFunction(e):return null;case u.isDate(e):r=o.XSD.DataType.dateTime;break;case u.isNumber(e):r=o.XSD.DataType.float;break;case u.isBoolean(e):r=o.XSD.DataType.boolean;break;case u.isString(e):r=o.XSD.DataType.string;break;default:return null}return t=this.literalSerializers.get(r).serialize(e),{"@value":t,"@type":r}},e.prototype.compactSingle=function(e,t,r,o){var a=this,c=this.getPropertyURINameMap(r);if(!e["@id"])throw new n.IllegalArgumentError("The expandedObject doesn't have an @id defined.");return t.id=e["@id"],t.types=e["@type"]?e["@type"]:[],u.forEachOwnProperty(e,function(n,u){if("@id"!==n&&"@type"!==n){var l,f=n,p=e[n];c.has(n)?(f=c.get(n),l=r.properties.get(f)):(null!==r.vocab&&(f=s.URI.Util.getRelativeURI(n,r.vocab)),l=new i.DigestedPropertyDefinition,l.containerType=a.getPropertyContainerType(p)),t[f]=a.getPropertyValue(e,n,l,o)}}),t},e.prototype.getPropertyContainerType=function(e){return 1!==e.length?i.ContainerType.SET:s.List.Factory.is(e[0])?i.ContainerType.LIST:null},e.prototype.getPropertyValue=function(e,t,r,o){switch(r.containerType){case null:return r.literal?s.Node.Util.getPropertyLiteral(e,t,r.literalType.toString()):!1===r.literal?s.Node.Util.getPropertyPointer(e,t,o):s.Node.Util.getProperty(e,t,o);case i.ContainerType.LIST:return r.literal?s.Node.Util.getPropertyLiteralList(e,t,r.literalType.toString()):!1===r.literal?s.Node.Util.getPropertyPointerList(e,t,o):s.Node.Util.getPropertyList(e,t,o);case i.ContainerType.SET:return r.literal?s.Node.Util.getPropertyLiterals(e,t,r.literalType.toString()):!1===r.literal?s.Node.Util.getPropertyPointers(e,t,o):s.Node.Util.getProperties(e,t,o);case i.ContainerType.LANGUAGE:return s.Node.Util.getPropertyLanguageMap(e,t);default:throw new n.IllegalArgumentError("The containerType specified is not supported.")}},e.prototype.getPropertyURINameMap=function(t){var r=new Map;return t.properties.forEach(function(n,i){var o=e.getPropertyURI(i,n,t.vocab);r.set(o,i)}),r},e}();t.Class=c,t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(22),o=r(3),a=r(109);t.Serializers=a;var s=function(){function e(){}return e.from=function(e){if(n.isNull(e))throw new o.IllegalArgumentError("Null cannot be converted into a Literal");if(!n.isDefined(e))throw new o.IllegalArgumentError("The value is undefined");var t;switch(!0){case n.isDate(e):t=i.DataType.dateTime,e=e.toISOString();break;case n.isNumber(e):t=n.isInteger(e)?i.DataType.integer:i.DataType.double;break;case n.isString(e):t=i.DataType.string;break;case n.isBoolean(e):t=i.DataType.boolean;break;default:t=i.DataType.object,e=JSON.stringify(e)}var r={"@value":e.toString()};return t&&(r["@type"]=t),r},e.parse=function(e,t){void 0===t&&(t=null);var r;if(n.isString(e))r=e;else{var o=e;if(!o)return null;if(!n.hasProperty(o,"@value"))return null;t="@type"in o?o["@type"]:null,r=o["@value"]}if(null===t)return r;if(!n.hasProperty(i.DataType,t))return r;var a,s;switch(t){case i.DataType.date:case i.DataType.dateTime:a=new Date(r);break;case i.DataType.time:s=r.match(/(\d+):(\d+):(\d+)\.(\d+)Z/),a=new Date,a.setUTCHours(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]),parseFloat(s[4]));break;case i.DataType.duration:break;case i.DataType.gDay:case i.DataType.gMonth:case i.DataType.gMonthDay:case i.DataType.gYear:case i.DataType.gYearMonth:break;case i.DataType.byte:case i.DataType.decimal:case i.DataType.int:case i.DataType.integer:case i.DataType.long:case i.DataType.negativeInteger:case i.DataType.nonNegativeInteger:case i.DataType.nonPositiveInteger:case i.DataType.positiveInteger:case i.DataType.short:case i.DataType.unsignedLong:case i.DataType.unsignedInt:case i.DataType.unsignedShort:case i.DataType.unsignedByte:case i.DataType.double:case i.DataType.float:a=parseFloat(r);break;case i.DataType.boolean:a=n.parseBoolean(r);break;case i.DataType.string:a=r;break;case i.DataType.object:a=JSON.parse(r)}return a},e.is=function(e){return n.hasProperty(e,"@value")&&n.isString(e["@value"])},e.hasType=function(e,t){return!e["@type"]&&t===i.DataType.string||e["@type"]===t},e}();t.Factory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(47),o=r(34),a=r(32),s=r(50),u=r(22),c=function(){function e(){}return e.is=function(e){return n.hasProperty(e,"@id")&&n.isString(e["@id"])},e.create=function(e){return{"@id":e}},e}();t.Factory=c;var l=function(){function e(){}return e.areEqual=function(e,t){return e["@id"]===t["@id"]},e.hasType=function(t,r){return-1!==e.getTypes(t).indexOf(r)},e.getTypes=function(e){return"@type"in e?e["@type"]:[]},e.getPropertyURI=function(e,t){if(!(t in e))return null;if(!n.isArray(e[t]))return null;var r=e[t].find(function(e){return c.is(e)});return void 0!==r?r["@id"]:null},e.getFreeNodes=function(e){return n.isArray(e)?e.filter(function(e){return!i.Factory.is(e)}).filter(function(e){return c.is(e)}):[]},e.getProperty=function(e,t,r){var n=e[t];if(!n)return null;if(!n.length)return null;var i=n[0];return s.Util.parseValue(i,r)},e.getPropertyPointer=function(e,t,r){var n=e[t];if(!n)return null;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(c.is(a))return r.getPointer(a["@id"])}return null},e.getPropertyLiteral=function(e,t,r){var n=e[t];if(!n)return null;for(var i=0,o=n;i<o.length;i++){var s=o[i];if(a.Factory.is(s)&&a.Factory.hasType(s,r))return a.Factory.parse(s)}return null},e.getPropertyList=function(t,r,n){var i=t[r];if(!i)return null;var o=e.getList(i);if(!o)return null;for(var a=[],u=0,c=o["@list"];u<c.length;u++){var l=c[u];a.push(s.Util.parseValue(l,n))}return a},e.getPropertyPointerList=function(t,r,n){var i=t[r];if(!i)return null;var o=e.getList(i);if(!o)return null;for(var a=[],s=0,u=o["@list"];s<u.length;s++){var l=u[s];if(c.is(l)){var f=n.getPointer(l["@id"]);a.push(f)}}return a},e.getPropertyLiteralList=function(t,r,n){var i=t[r];if(!i)return null;var o=e.getList(i);if(!o)return null;for(var s=[],u=0,c=o["@list"];u<c.length;u++){var l=c[u];a.Factory.is(l)&&(a.Factory.hasType(l,n)&&s.push(a.Factory.parse(l)))}return s},e.getProperties=function(e,t,r){var n=e[t];if(!n)return null;if(!n.length)return null;for(var i=[],o=0,a=n;o<a.length;o++){var u=a[o],c=s.Util.parseValue(u,r);null!==c&&i.push(c)}return i},e.getPropertyPointers=function(e,t,r){var n=e[t];if(!n)return[];if(!n.length)return[];for(var i=[],o=0,a=n;o<a.length;o++){var s=a[o];if(c.is(s)){var u=r.getPointer(s["@id"]);null!==u&&i.push(u)}}return i},e.getPropertyURIs=function(e,t){var r=e[t];if(!r)return null;if(!r.length)return null;for(var n=[],i=0,o=r;i<o.length;i++){var a=o[i];c.is(a)&&n.push(a["@id"])}return n},e.getPropertyLiterals=function(e,t,r){var n=e[t];if(!n)return null;for(var i=[],o=0,s=n;o<s.length;o++){var u=s[o];a.Factory.is(u)&&(a.Factory.hasType(u,r)&&i.push(a.Factory.parse(u)))}return i},e.getPropertyLanguageMap=function(e,t){var r=e[t];if(!r)return null;for(var n={},i=0,o=r;i<o.length;i++){var s=o[i];if(a.Factory.is(s)&&a.Factory.hasType(s,u.DataType.string)){var c=s["@language"];c&&(n[c]=a.Factory.parse(s))}}return n},e.getList=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(o.Factory.is(n))return n}return null},e}();t.Util=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(){function e(){}return e.is=function(e){return n.hasPropertyDefined(e,"@list")},e}();t.Factory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),i=r(0),o=function(){function e(){}return e.hasClassProperties=function(e){return i.hasPropertyDefined(e,"document")},e.create=function(e,t){return this.createFrom({},e,t)},e.createFrom=function(t,r,o){void 0===o&&(o=null);var a=r&&i.isString(r)?r:"";o=o||r;var s=n.Factory.createFrom(t,a);return e.hasClassProperties(s)?s:(Object.defineProperties(s,{document:{writable:!1,enumerable:!1,configurable:!0,value:o}}),s)},e}();t.Factory=o},function(e,t,r){"use strict";function n(){var e=this;e._snapshot=a.O.clone(e,{arrays:!0}),"id"in e&&(e._snapshot.id=e.id),"types"in e&&(e._snapshot.types=a.O.clone(e.types))}function i(){var e=this;if(!a.O.areEqual(e,e._snapshot,{arrays:!0},{id:!0,types:!0}))return!0;var t=!1;return"id"in e&&(t=t||e._snapshot.id!==e.id),"types"in e&&(t=t||!a.O.areEqual(e._snapshot.types,e.types)),t}function o(){for(var e=this,t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];n in e._snapshot||delete e[n]}a.O.extend(e,e._snapshot,{arrays:!0})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=function(){function e(){}return e.hasClassProperties=function(e){return a.hasPropertyDefined(e,"_snapshot")&&a.hasFunction(e,"_syncSnapshot")&&a.hasFunction(e,"isDirty")&&a.hasFunction(e,"revert")},e.decorate=function(t,r){if(void 0===r&&(r={}),e.hasClassProperties(t))return t;var a=t;return Object.defineProperties(a,{_snapshot:{writable:!0,enumerable:!1,configurable:!0,value:r},_syncSnapshot:{writable:!1,enumerable:!1,configurable:!0,value:n},isDirty:{writable:!1,enumerable:!1,configurable:!0,value:i},revert:{writable:!1,enumerable:!1,configurable:!0,value:o}}),a},e}();t.Factory=s},function(e,t,r){"use strict";function n(e,t){var r=this,n="credentials"in this?Promise.resolve():i(this),o=[];return n.then(function(n){return n&&o.push(n),e?r.credentials.enable(t):r.credentials.disable(t)}).then(function(e){var t=(e[0],e[1]);return o.push.apply(o,t),[r,o]})}function i(e){return e.executeSELECTQuery("BASE<"+e.id+">SELECT?c FROM<>WHERE{GRAPH<>{<><"+o.CS.Predicate.credentials+">?c}}").then(function(t){var r=t[0].bindings[0],n=t[1];return e.credentials=u.Factory.decorate(r.credentials,e._documents),n})}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(20),s=r(0),u=r(58),c=function(){function e(){}return e.hasClassProperties=function(e){return s.isObject(e)&&s.hasFunction(e,"enableCredentials")&&s.hasFunction(e,"disableCredentials")},e.is=function(t){return e.hasClassProperties(t)&&a.Factory.is(t)},e.decorate=function(t,r){var i=t;return e.hasClassProperties(i)?i:(a.Factory.hasClassProperties(i)||a.Factory.decorate(i,r),Object.defineProperties(i,{enableCredentials:{writable:!1,enumerable:!1,configurable:!0,value:n.bind(i,!0)},disableCredentials:{writable:!1,enumerable:!1,configurable:!0,value:n.bind(i,!1)}}),i.credentials&&u.Factory.decorate(i.credentials,r),i)},e}();t.Factory=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(11),o=r(15),a=r(25),s=r(16),u=r(66),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof o.Identifier&&"UNDEF"!==e.value?i.NEW_LINE_SEPARATOR:e instanceof s.NewLineSymbol&&-1!==["}","]",")"].indexOf(e.value)?i.NEW_LINE_SEPARATOR:e instanceof u.LeftSymbol&&"("===e.value?i.NEW_LINE_SEPARATOR:e instanceof a.Operator?i.EMPTY_SEPARATOR:i.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return i.EMPTY_SEPARATOR},t}(i.Token);t.RightSymbol=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(40),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this),this.interfaces.graphPattern={getPattern:function(){return t.getSelfTokens().concat(t.patternTokens)}}},t}(i.TriplesPattern);t.TriplesSubject=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,r){"use strict";var n=r(26),i=r(6),o=function(){function e(e){this.resolver=e,this.patternTokens=[],this.init()}return e.prototype.has=function(e,t){return this.patternTokens=[],this._addPattern(e,t)},e.prototype.getSelfTokens=function(){return this.elementTokens},e.prototype.init=function(){var e=this;this.interfaces={addPattern:{and:function(t,r){return e.patternTokens.push(i.SAME_SUBJECT_SEPARATOR),e._addPattern(t,r)}}}},e.prototype._addPattern=function(e,t){var r="string"==typeof e||e instanceof String?this.resolver._resolveIRI(e,!0):e.getSelfTokens();return t=Array.isArray(t)?t:[t],t.forEach(function(e,t,o){r.push.apply(r,n.serialize(e)),t<o.length-1&&r.push(i.SAME_PROPERTY_SEPARATOR)}),(o=this.patternTokens).push.apply(o,r),Object.assign({},this.interfaces.addPattern,this.interfaces.graphPattern);var o},e}();t.TriplesPattern=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(7),o=r(4),a=r(0),s=r(51),u=r(19),c=r(10),l=r(30),f=r(17),p=r(23),d=r(24),h=r(20),g=r(63),y=r(8),v=r(1),b=r(9),m=r(18),P=r(64),_=r(5),O=r(149),S=r(65),R=r(0),C=function(){function e(e){if(void 0===e&&(e=null),this.context=e,this.pointers=new Map,this.documentsBeingResolved=new Map,this.context&&this.context.parentContext){var t=this.context.parentContext.documents.jsonldConverter;this._jsonldConverter=new f.Converter.Class(t.literalSerializers)}else this._jsonldConverter=new f.Converter.Class;var r=new Map;if(this.context&&this.context.parentContext){var n=this.context.parentContext.documents.documentDecorators;n&&(r=this._documentDecorators=a.M.extend(r,n))}else r.set(g.RDF_CLASS,{decorator:h.Factory.decorate}),r.set(u.ACL.RDF_CLASS,{decorator:u.PersistedACL.Factory.decorate}),r.set(u.User.RDF_CLASS,{decorator:u.PersistedUser.Factory.decorate,parameters:[this]}),r.set(u.Role.RDF_CLASS,{decorator:u.PersistedRole.Factory.decorate,parameters:[this]}),r.set(u.Credentials.RDF_CLASS,{decorator:u.PersistedCredentials.Factory.decorate,parameters:[this]});this._documentDecorators=r}return Object.defineProperty(e.prototype,"jsonldConverter",{get:function(){return this._jsonldConverter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"documentDecorators",{get:function(){return this._documentDecorators},enumerable:!0,configurable:!0}),e.prototype.inScope=function(e){var t=y.Factory.is(e)?e.id:e;if(o.URI.Util.isBNodeID(t))return!1;if(this.context){if(o.URI.Util.isPrefixed(t)&&(t=b.Digester.resolvePrefixedURI(t,this.context.getObjectSchema())),o.URI.Util.isRelative(t))return!0;if(o.URI.Util.isBaseOf(this.context.baseURI,t))return!0}else if(o.URI.Util.isAbsolute(t))return!0;return this.context&&this.context.parentContext?this.context.parentContext.documents.inScope(t):o.URI.Util.isRelative(t)},e.prototype.hasPointer=function(e){return e=this.getPointerID(e),!!this.pointers.has(e)||!(!this.context||!this.context.parentContext)&&this.context.parentContext.documents.hasPointer(e)},e.prototype.getPointer=function(e){var t=this.getPointerID(e);if(null===t){if(this.context&&this.context.parentContext)return this.context.parentContext.documents.getPointer(e);throw new n.IllegalArgumentError("The pointer id is not supported by this module.")}var r;return this.pointers.has(t)||(r=this.createPointer(t),this.pointers.set(t,r)),this.pointers.get(t)},e.prototype.removePointer=function(e){var t=a.isString(e)?e:e.id,r=this.getPointerID(t);return null===r?!(!this.context||!this.context.parentContext)&&this.context.parentContext.documents.removePointer(t):this.pointers.delete(r)},e.prototype.get=function(e,t){var r=this;return void 0===t&&(t={}),R.promiseMethod(function(){var n=r.getPointerID(e);if(e=r.getRequestURI(e),r.setDefaultRequestOptions(t,v.LDP.Class.RDFSource),r.hasPointer(e)){var a=r.getPointer(e);if(a.isResolved())return Promise.resolve([a,null])}if(r.documentsBeingResolved.has(n))return r.documentsBeingResolved.get(n);var s=i.Request.Service.get(e,t,new o.Document.Parser).then(function(t){var o=t[0],a=t[1],s=i.Response.Util.getETag(a);if(null===s)throw new i.Errors.BadResponseError("The response doesn't contain an ETag",a);var u=a.getHeader("Content-Location");if(u){if(1!==u.values.length)throw new i.Errors.BadResponseError("The response contains more than one Content-Location header.",a);if(!(e=u.toString()))throw new i.Errors.BadResponseError("The response doesn't contain a valid 'Content-Location' header.",a)}var c=r.getRDFDocument(e,o,a);if(null===c)throw new i.Errors.BadResponseError("No document was returned.",a);var l=r._getPersistedDocument(c,a);return l._etag=s,r.documentsBeingResolved.delete(n),[l,a]}).catch(function(e){return r.documentsBeingResolved.delete(n),Promise.reject(e)});return r.documentsBeingResolved.set(n,s),s})},e.prototype.exists=function(e,t){var r=this;return void 0===t&&(t={}),R.promiseMethod(function(){return e=r.getRequestURI(e),r.setDefaultRequestOptions(t,v.LDP.Class.RDFSource),i.Request.Service.head(e,t)}).then(function(e){return[!0,e]}).catch(function(e){return 404===e.statusCode?[!1,e.response]:Promise.reject(e)})},e.prototype.createChild=function(e,t,r,i){var o=this;void 0===i&&(i={});var s=a.isString(r)?r:null;return i=!a.isString(r)&&r?r:i,R.promiseMethod(function(){if(p.Factory.is(t))return Promise.reject(new n.IllegalArgumentError("The child provided has been already persisted."));var r=c.Factory.is(t)?t:c.Factory.createFrom(t);return o.setDefaultRequestOptions(i,v.LDP.Class.Container),o.persistDocument(e,s,r,i)})},e.prototype.createChildren=function(e,t,r,n){var i=this;void 0===n&&(n={});var o=a.isArray(r)?r:null;return n=!a.isArray(r)&&r?r:n,Promise.all(t.map(function(t,r){var s=null!==o&&r<o.length&&o[r]?o[r]:null,u=Object.assign({},n);return n.headers&&(u.headers=a.M.extend(new Map,n.headers)),i.createChild(e,t,s,u)})).then(function(e){return[e.map(function(e){return e[0]}),e.map(function(e){return e[1]})]})},e.prototype.createChildAndRetrieve=function(e,t,r,n){var o=this;void 0===n&&(n={});var a=[],s=i.Request.Util.isOptions(r)?r:n;return i.Request.Util.setPreferredRetrievalResource("Created",s),this.createChild(e,t,r,n).then(function(e){var t=e[0],r=e[1];return t.isResolved()?[t,r]:(a.push(r),o.get(t.id))}).then(function(e){var t=e[0],r=e[1];return a.push(r),[t,a]})},e.prototype.createChildrenAndRetrieve=function(e,t,r,n){void 0===n&&(n={});var o=[],a=i.Request.Util.isOptions(r)?r:n;return i.Request.Util.setPreferredRetrievalResource("Created",a),this.createChildren(e,t,r,n).then(function(e){var t=e[0],r=e[1];return o.push(r),t.every(function(e){return e.isResolved()})?[t,null]:y.Util.resolveAll(t)}).then(function(e){var t=e[0],r=e[1];return r&&o.push(r),[t,o]})},e.prototype.listChildren=function(e,t){var r=this;return void 0===t&&(t={}),R.promiseMethod(function(){e=r.getRequestURI(e),r.setDefaultRequestOptions(t,v.LDP.Class.Container);var n={include:[v.LDP.Class.PreferContainment],omit:[v.LDP.Class.PreferMembership,v.LDP.Class.PreferMinimalContainer,v.C.Class.PreferContainmentResources,v.C.Class.PreferMembershipResources]};return i.Request.Util.setContainerRetrievalPreferences(n,t),i.Request.Service.get(e,t,new o.Document.Parser)}).then(function(t){var n=t[0],i=t[1],a=r.getRDFDocument(e,n,i);if(null===a)return[[],i];var s=r.getDocumentResource(a,i);return[o.Node.Util.getPropertyPointers(s,v.LDP.Predicate.contains,r).map(function(e){return p.Factory.decorate(e,r)}),i]})},e.prototype.getChildren=function(e,t,r){var n=this,a=O.Factory.is(t)?t:null;r=i.Request.Util.isOptions(t)?t:i.Request.Util.isOptions(r)?r:{};var s;return R.promiseMethod(function(){e=n.getRequestURI(e),n.setDefaultRequestOptions(r,v.LDP.Class.Container),s=e,a&&(e+=O.Util.stringifyRetrievalPreferences(a,n.getGeneralSchema()));var t={include:[v.LDP.Class.PreferContainment,v.C.Class.PreferContainmentResources],omit:[v.LDP.Class.PreferMembership,v.LDP.Class.PreferMinimalContainer,v.C.Class.PreferMembershipResources]};return i.Request.Util.setContainerRetrievalPreferences(t,r),i.Request.Service.get(e,r,new f.Parser.Class)}).then(function(e){var t=e[0],r=e[1],i=o.Node.Util.getFreeNodes(t),a=o.Document.Util.getDocuments(t).filter(function(e){return e["@id"]!==s});return[n.getPersistedMetadataResources(i,a,r),r]})},e.prototype.createAccessPoint=function(e,t,r,i){var o=this;void 0===i&&(i={}),this.context&&(e=this.context.resolve(e));var u=a.isString(r)?r:null;return i=!a.isString(r)&&r?r:i,R.promiseMethod(function(){if(p.Factory.is(t))return Promise.reject(new n.IllegalArgumentError("The accessPoint provided has been already persisted."));var r=s.Factory.is(t)?t:s.Factory.createFrom(t,o.getPointer(e),t.hasMemberRelation,t.isMemberOfRelation);return r.membershipResource.id!==e?Promise.reject(new n.IllegalArgumentError("The documentURI must be the same as the accessPoint's membershipResource")):(o.setDefaultRequestOptions(i,v.LDP.Class.RDFSource),o.persistDocument(e,u,r,i))})},e.prototype.createAccessPoints=function(e,t,r,n){var i=this;void 0===n&&(n={});var o=a.isArray(r)?r:null;return n=!a.isArray(r)&&r?r:n,Promise.all(t.map(function(t,r){var s=null!==o&&r<o.length&&o[r]?o[r]:null,u=Object.assign({},n);return n.headers&&(u.headers=a.M.extend(new Map,n.headers)),i.createAccessPoint(e,t,s,u)})).then(function(e){return[e.map(function(e){return e[0]}),e.map(function(e){return e[1]})]})},e.prototype.upload=function(e,t,o,s){var u=this;void 0===s&&(s={});var c=a.isString(o)?o:null;if(s=!a.isString(o)&&o?o:s,"undefined"!=typeof Blob){if(!(t instanceof Blob))return Promise.reject(new n.IllegalArgumentError("The data is not a valid Blob object."));i.Request.Util.setContentTypeHeader(t.type,s)}else{if(!(t instanceof Buffer))return Promise.reject(new n.IllegalArgumentError("The data is not a valid Buffer object."));var l=r(!function(){var e=new Error('Cannot find module "file-type"');throw e.code="MODULE_NOT_FOUND",e}()),f=l(t);i.Request.Util.setContentTypeHeader(f?f.mime:"application/octet-stream",s)}return R.promiseMethod(function(){return e=u.getRequestURI(e),u.setDefaultRequestOptions(s,v.LDP.Class.Container),c&&i.Request.Util.setSlug(c,s),i.Request.Service.post(e,t,s)}).then(function(e){var t=e.getHeader("Location");if(null===t||t.values.length<1)throw new i.Errors.BadResponseError("The response is missing a Location header.",e);if(1!==t.values.length)throw new i.Errors.BadResponseError("The response contains more than one Location header.",e);var r=t.values[0].toString();return[u.getPointer(r),e]})},e.prototype.listMembers=function(e,t,r){var n=this,s=!a.isBoolean(t)||t,u=i.Request.Util.isOptions(t)?t:i.Request.Util.isOptions(r)?r:{};return R.promiseMethod(function(){e=n.getRequestURI(e),n.setDefaultRequestOptions(u,v.LDP.Class.Container);var t={include:[v.LDP.Class.PreferMinimalContainer,v.LDP.Class.PreferMembership],omit:[v.LDP.Class.PreferContainment,v.C.Class.PreferContainmentResources,v.C.Class.PreferMembershipResources]};return s?t.include.push(v.C.Class.NonReadableMembershipResourceTriples):t.omit.push(v.C.Class.NonReadableMembershipResourceTriples),i.Request.Util.setContainerRetrievalPreferences(t,u),i.Request.Service.get(e,u,new o.Document.Parser)}).then(function(t){var r=t[0],a=t[1],s=n.getRDFDocument(e,r,a);if(null===s)throw new i.Errors.BadResponseError("No document was returned.",a);var u=n.getDocumentResource(s,a),c=n.getMembershipResource(u,r,a);if(null===c)return[[],a];var l=o.Node.Util.getPropertyURI(u,v.LDP.Predicate.hasMemberRelation);return[o.Node.Util.getPropertyPointers(c,l,n).map(function(e){return p.Factory.decorate(e,n)}),a]})},e.prototype.getMembers=function(e,t,r,n){var s=this,u=!a.isBoolean(t)||t,c=O.Factory.is(t)?t:O.Factory.is(r)?r:null;n=i.Request.Util.isOptions(t)?t:i.Request.Util.isOptions(r)?r:i.Request.Util.isOptions(n)?n:{};var l;return R.promiseMethod(function(){e=s.getRequestURI(e),s.setDefaultRequestOptions(n,v.LDP.Class.Container),l=e,c&&(e+=O.Util.stringifyRetrievalPreferences(c,s.getGeneralSchema()));var t={include:[v.LDP.Class.PreferMinimalContainer,v.LDP.Class.PreferMembership,v.C.Class.PreferMembershipResources],omit:[v.LDP.Class.PreferContainment,v.C.Class.PreferContainmentResources]};return u?t.include.push(v.C.Class.NonReadableMembershipResourceTriples):t.omit.push(v.C.Class.NonReadableMembershipResourceTriples),i.Request.Util.setContainerRetrievalPreferences(t,n),i.Request.Service.get(e,n,new f.Parser.Class)}).then(function(e){var t=e[0],r=e[1],n=o.Node.Util.getFreeNodes(t),a=o.Document.Util.getDocuments(t),u=s.getRDFDocument(l,a,r);if(null===u)throw new i.Errors.BadResponseError("No document was returned.",r);var c=s.getDocumentResource(u,r),f=s.getMembershipResource(c,a,r);return null===f?[[],r]:(a=a.filter(function(e){return!o.Node.Util.areEqual(e,c)&&!o.Node.Util.areEqual(e,f)}),[s.getPersistedMetadataResources(n,a,r),r])})},e.prototype.addMember=function(e,t,r){return void 0===r&&(r={}),this.addMembers(e,[t],r)},e.prototype.addMembers=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){var o=n._parseMembers(t);e=n.getRequestURI(e),n.setDefaultRequestOptions(r,v.LDP.Class.Container),i.Request.Util.setContentTypeHeader("application/ld+json",r);var a=m.AddMemberAction.Factory.createDocument(o),s=a.toJSON(n,n.jsonldConverter);return i.Request.Service.put(e,s,r)})},e.prototype.removeMember=function(e,t,r){return void 0===r&&(r={}),this.removeMembers(e,[t],r)},e.prototype.removeMembers=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){var o=n._parseMembers(t);e=n.getRequestURI(e),n.setDefaultRequestOptions(r,v.LDP.Class.Container),i.Request.Util.setContentTypeHeader("application/ld+json",r);var a=m.RemoveMemberAction.Factory.createDocument(o),s={include:[v.C.Class.PreferSelectedMembershipTriples],omit:[v.C.Class.PreferMembershipTriples]};i.Request.Util.setContainerRetrievalPreferences(s,r,!1);var u=a.toJSON(n,n.jsonldConverter);return i.Request.Service.delete(e,u,r)})},e.prototype.removeAllMembers=function(e,t){var r=this;return void 0===t&&(t={}),R.promiseMethod(function(){e=r.getRequestURI(e),r.setDefaultRequestOptions(t,v.LDP.Class.Container);var n={include:[v.C.Class.PreferMembershipTriples],omit:[v.C.Class.PreferMembershipResources,v.C.Class.PreferContainmentTriples,v.C.Class.PreferContainmentResources,v.C.Class.PreferContainer]};return i.Request.Util.setContainerRetrievalPreferences(n,t,!1),i.Request.Service.delete(e,t)})},e.prototype.save=function(e,t){var r=this;return void 0===t&&(t={}),R.promiseMethod(function(){var n=r.getRequestURI(e.id);r.setDefaultRequestOptions(t,v.LDP.Class.RDFSource),i.Request.Util.setContentTypeHeader("application/ld+json",t),i.Request.Util.setIfMatchHeader(e._etag,t),e._normalize();var o=e.toJSON(r,r.jsonldConverter);return i.Request.Service.put(n,o,t)}).then(function(t){return r.applyResponseData(e,t)})},e.prototype.refresh=function(e,t){var r=this;void 0===t&&(t={});var n;return R.promiseMethod(function(){return n=r.getRequestURI(e.id),r.setDefaultRequestOptions(t,v.LDP.Class.RDFSource),i.Request.Util.setIfNoneMatchHeader(e._etag,t),i.Request.Service.get(n,t,new o.Document.Parser)}).then(function(e){var t=e[0],o=e[1];if(null===o)return[t,o];var a=i.Response.Util.getETag(o);if(null===a)throw new i.Errors.BadResponseError("The response doesn't contain an ETag",o);var s=r.getRDFDocument(n,t,o);if(null===s)throw new i.Errors.BadResponseError("No document was returned.",o);var u=r._getPersistedDocument(s,o);return u._etag=a,[u,o]}).catch(function(t){return 304===t.statusCode?[e,null]:Promise.reject(t)})},e.prototype.saveAndRefresh=function(e,t){var r=this;void 0===t&&(t={});var n=[],o=e._etag;return a.promiseMethod(function(){return i.Request.Util.setPreferredRetrievalResource("Modified",t),r.save(e,t)}).then(function(e){var t=e[0],i=e[1];return t._etag!==o?[t,i]:(n.push(i),r.refresh(t))}).then(function(t){var r=(t[0],t[1]);return n.push(r),[e,n]})},e.prototype.delete=function(e,t){var r=this;return void 0===t&&(t={}),R.promiseMethod(function(){return e=r.getRequestURI(e),r.setDefaultRequestOptions(t,v.LDP.Class.RDFSource),i.Request.Service.delete(e,t)}).then(function(t){var n=r.getPointerID(e);return r.pointers.delete(n),t})},e.prototype.getDownloadURL=function(e,t){var r=this;return this.context?R.promiseMethod(function(){return e=r.getRequestURI(e),r.context.auth.getAuthenticatedURL(e,t)}):Promise.reject(new n.IllegalStateError("This instance doesn't support Authenticated request."))},e.prototype.getGeneralSchema=function(){if(!this.context)return new b.DigestedObjectSchema;var e=b.Digester.combineDigestedObjectSchemas([this.context.getObjectSchema()]);return this.context.hasSetting("vocabulary")&&(e.vocab=this.context.resolve(this.context.getSetting("vocabulary"))),e},e.prototype.getSchemaFor=function(e){return"@id"in e?this.getDigestedObjectSchemaForExpandedObject(e):this.getDigestedObjectSchemaForDocument(e)},e.prototype.executeRawASKQuery=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){return e=n.getRequestURI(e),n.context&&n.context.auth.isAuthenticated()&&n.context.auth.addAuthentication(r),P.Service.executeRawASKQuery(e,t,r)})},e.prototype.executeASKQuery=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){return e=n.getRequestURI(e),n.context&&n.context.auth.isAuthenticated()&&n.context.auth.addAuthentication(r),P.Service.executeASKQuery(e,t,r)})},e.prototype.executeRawSELECTQuery=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){return e=n.getRequestURI(e),n.context&&n.context.auth.isAuthenticated()&&n.context.auth.addAuthentication(r),P.Service.executeRawSELECTQuery(e,t,r)})},e.prototype.executeSELECTQuery=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){return e=n.getRequestURI(e),n.context&&n.context.auth.isAuthenticated()&&n.context.auth.addAuthentication(r),P.Service.executeSELECTQuery(e,t,n,r)})},e.prototype.executeRawCONSTRUCTQuery=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){return e=n.getRequestURI(e),n.context&&n.context.auth.isAuthenticated()&&n.context.auth.addAuthentication(r),P.Service.executeRawCONSTRUCTQuery(e,t,r)})},e.prototype.executeRawDESCRIBEQuery=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){return e=n.getRequestURI(e),n.context&&n.context.auth.isAuthenticated()&&n.context.auth.addAuthentication(r),P.Service.executeRawDESCRIBEQuery(e,t,r)})},e.prototype.executeUPDATE=function(e,t,r){var n=this;return void 0===r&&(r={}),R.promiseMethod(function(){return e=n.getRequestURI(e),n.context&&n.context.auth.isAuthenticated()&&n.context.auth.addAuthentication(r),P.Service.executeUPDATE(e,t,r)})},e.prototype.sparql=function(e){var t=new S.default;t._documents=this,t._entryPoint=e;var r=t.base(e);if(this.context){r.base(this.context.baseURI),this.context.hasSetting("vocabulary")&&r.vocab(this.context.resolve(this.context.getSetting("vocabulary")));this.context.getObjectSchema().prefixes.forEach(function(e,t){r.prefix(t,e.stringValue)})}return r},e.prototype._getPersistedDocument=function(e,t){var r=this.getDocumentResource(e,t),n=o.Document.Util.getBNodeResources(e);n=n.concat(o.Document.Util.getFragmentResources(e));var i,a=r["@id"],s=this.getPointer(a);return i=p.Factory.is(s)?this.updatePersistedDocument(s,r,n):this.createPersistedDocument(s,r,n),i._resolved=!0,i},e.prototype._getFreeResources=function(e){var t=l.Factory.create(this),r=e.map(function(e){return t.createResource(e["@id"])});return this.compact(e,r,t),t},e.prototype.persistDocument=function(e,t,r,a){var s=this;if(e=this.getRequestURI(e),i.Request.Util.setContentTypeHeader("application/ld+json",a),r.id){var u=r.id;if(this.context&&(u=this.context.resolve(u)),!o.URI.Util.isBaseOf(e,u))return Promise.reject(new n.IllegalArgumentError("The document's URI is not relative to the parentURI specified"))}if(r.__CarbonSDK_InProgressOfPersisting)return Promise.reject(new n.IllegalArgumentError("The document is already being persisted."));Object.defineProperty(r,"__CarbonSDK_InProgressOfPersisting",{configurable:!0,enumerable:!1,writable:!1,value:!0});var c=r.toJSON(this,this.jsonldConverter);return t&&i.Request.Util.setSlug(t,a),i.Request.Service.post(e,c,a).then(function(e){delete r.__CarbonSDK_InProgressOfPersisting;var t=e.getHeader("Location");if(null===t||t.values.length<1)throw new i.Errors.BadResponseError("The response is missing a Location header.",e);if(1!==t.values.length)throw new i.Errors.BadResponseError("The response contains more than one Location header.",e);var n=s.getPointerID(t.values[0].toString());s.pointers.set(n,s.createPointerFrom(r,n));var o=h.Factory.decorate(r,s);return o.getFragments().forEach(d.Factory.decorate),s.applyResponseData(o,e)}).catch(function(e){return delete r.__CarbonSDK_InProgressOfPersisting,Promise.reject(e)})},e.prototype.getRDFDocument=function(e,t,r){if(t=t.filter(function(t){return t["@id"]===e}),t.length>1)throw new i.Errors.BadResponseError("Several documents share the same id.",r);return t.length>0?t[0]:null},e.prototype.getDocumentResource=function(e,t){var r=o.Document.Util.getDocumentResources(e);if(0===r.length)throw new i.Errors.BadResponseError("The RDFDocument: "+e["@id"]+", doesn't contain a document resource.",t);if(r.length>1)throw new i.Errors.BadResponseError("The RDFDocument: "+e["@id"]+", contains more than one document resource.",t);return r[0]},e.prototype.getPointerID=function(e){if(o.URI.Util.isBNodeID(e))throw new n.IllegalArgumentError("BNodes cannot be fetched directly.");if(this.context){if(o.URI.Util.isPrefixed(e)&&(e=b.Digester.resolvePrefixedURI(e,this.getGeneralSchema())),o.URI.Util.isRelative(e))return"/"===e[0]?e.substr(1):e;var t=this.context.baseURI;return o.URI.Util.isBaseOf(t,e)?e.substring(t.length):null}if(o.URI.Util.isPrefixed(e))throw new n.IllegalArgumentError("This Documents instance doesn't support prefixed URIs.");if(o.URI.Util.isRelative(e))throw new n.IllegalArgumentError("This Documents instance doesn't support relative URIs.");return e},e.prototype.createPointer=function(e){return this.createPointerFrom({},e)},e.prototype.createPointerFrom=function(e,t){var r=this,n=this.context?this.context.resolve(t):t,i=y.Factory.createFrom(e,n);return Object.defineProperty(i,"resolve",{writable:!1,enumerable:!1,configurable:!0,value:function(){return r.get(n)}}),i},e.prototype.compact=function(e,t,r){if(!a.isArray(e))return this.compactSingle(e,t,r);for(var n=e,i=t||[],o=0,s=n.length;o<s;o++){var u=n[o],c=i[o]=i[o]?i[o]:{};this.compactSingle(u,c,r)}return i},e.prototype.compactSingle=function(e,t,r){var n=this.getDigestedObjectSchemaForExpandedObject(e);return this.jsonldConverter.compact(e,t,n,r)},e.prototype.getDigestedObjectSchemaForExpandedObject=function(e){var t=o.Node.Util.getTypes(e);return this.getDigestedObjectSchema(t,e["@id"])},e.prototype.getDigestedObjectSchemaForDocument=function(e){var t=_.Util.getTypes(e);return this.getDigestedObjectSchema(t,e.id)},e.prototype.getDigestedObjectSchema=function(t,r){if(!this.context)return new b.DigestedObjectSchema;var n=[this.context.getObjectSchema()];!a.isDefined(r)||o.URI.Util.hasFragment(r)||o.URI.Util.isBNodeID(r)||n.push(e._documentSchema);for(var i=0,s=t;i<s.length;i++){var u=s[i];this.context.hasObjectSchema(u)&&n.push(this.context.getObjectSchema(u))}var c=b.Digester.combineDigestedObjectSchemas(n);return this.context.hasSetting("vocabulary")&&(c.vocab=this.context.resolve(this.context.getSetting("vocabulary"))),c},e.prototype.getRequestURI=function(e){if(o.URI.Util.isPrefixed(e)){if(!this.context)throw new n.IllegalArgumentError("This Documents instance doesn't support prefixed URIs.");if(e=b.Digester.resolvePrefixedURI(e,this.context.getObjectSchema()),o.URI.Util.isPrefixed(e))throw new n.IllegalArgumentError('The prefixed URI "'+e+'" could not be resolved.')}else if(o.URI.Util.isRelative(e)){if(!this.context)throw new n.IllegalArgumentError("This Documents instance doesn't support relative URIs.");e=this.context.resolve(e)}else if(this.context&&!o.URI.Util.isBaseOf(this.context.baseURI,e))throw new n.IllegalArgumentError('"'+e+"\" isn't a valid URI for this Carbon instance.");return e},e.prototype.setDefaultRequestOptions=function(e,t){return this.context&&this.context.auth.isAuthenticated()&&this.context.auth.addAuthentication(e),i.Request.Util.setAcceptHeader("application/ld+json",e),i.Request.Util.setPreferredInteractionModel(t,e),e},e.prototype.getMembershipResource=function(e,t,r){var n,a=o.Node.Util.getPropertyURI(e,v.LDP.Predicate.membershipResource);if(e["@id"]===a)n=e;else if(null===a){if(-1===e["@type"].indexOf(v.LDP.Class.BasicContainer))throw new i.Errors.BadResponseError("The document is not an ldp:BasicContainer and it doesn't contain an ldp:membershipResource triple.",r);n=e}else{var s=this.getRDFDocument(a,t,r);if(null===s)return null;n=this.getDocumentResource(s,r)}return n},e.prototype.createPersistedDocument=function(e,t,r){for(var n=p.Factory.decorate(e,this),i=[],o=0,a=r;o<a.length;o++){var s=a[o];i.push(n.createFragment(s["@id"]))}return this.compact(t,n,n),this.compact(r,i,n),n._syncSnapshot(),i.forEach(function(e){return e._syncSnapshot()}),n._syncSavedFragments(),this.decoratePersistedDocument(n),n},e.prototype.updatePersistedDocument=function(e,t,r){for(var n=0,i=r;n<i.length;n++){var o=i[n],s={},u=e.getFragment(o["@id"])||e.createFragment(s,o["@id"]),c=this.compactSingle(o,s,e);u&&a.O.shallowUpdate(u,c),u._syncSnapshot()}e._syncSavedFragments();var l=this.compact(t,{},e);return a.O.shallowUpdate(e,l),e._syncSnapshot(),this.decoratePersistedDocument(e),e},e.prototype.getPersistedMetadataResources=function(e,t,r){var n=this,o=this._getFreeResources(e),a=o.getResources().filter(m.ResponseMetadata.Factory.is);if(0===a.length)return[];if(a.length>1)throw new i.Errors.BadResponseError("The response contained multiple "+m.ResponseMetadata.RDF_CLASS+" objects.",r);return t.forEach(function(e){return n._getPersistedDocument(e,r)}),a[0].documentsMetadata.map(function(e){var t=e.relatedDocument;return t._etag=e.eTag,t})},e.prototype.decoratePersistedDocument=function(e){this._documentDecorators.forEach(function(t,r){if(e.hasType(r)){(n=t.decorator).call.apply(n,[null,e].concat(t.parameters));var n}})},e.prototype.updateFromPreferenceApplied=function(e,t,r){var n=i.Response.Util.getETag(r);if(null===n)throw new i.Errors.BadResponseError("The response doesn't contain an ETag",r);var o=this.getRDFDocument(e.id,t,r);if(null===o)throw new i.Errors.BadResponseError("No document was returned.",r);return e=this._getPersistedDocument(o,r),e._etag=n,[e,r]},e.prototype._parseMembers=function(e){var t=this;return e.map(function(e){if(a.isString(e))return t.getPointer(e);if(y.Factory.is(e))return e;throw new n.IllegalArgumentError("No Carbon.Pointer or URI provided.")})},e.prototype.applyResponseData=function(e,t){var r=this;return 204!==t.status&&t.data?(new f.Parser.Class).parse(t.data).then(function(n){var i=o.Node.Util.getFreeNodes(n);r.applyNodeMap(i);var a=t.getHeader("Preference-Applied");if(null===a||"return=representation"!==a.toString())return[e,t];var s=o.Document.Util.getDocuments(n);return r.updateFromPreferenceApplied(e,s,t)}):[e,t]},e.prototype.applyNodeMap=function(e){if(e.length)for(var t=this._getFreeResources(e),r=t.getResources().find(m.ResponseMetadata.Factory.is),n=0,i=r.documentsMetadata;n<i.length;n++){for(var o=i[n],a=o.relatedDocument,s=0,u=o.bNodesMap.entries;s<u.length;s++){var c=u[s],l=c.entryKey,f=c.entryValue,p=a.getFragment(l.id);p.id=f.id,a._fragmentsIndex.delete(l.id),a._fragmentsIndex.set(f.id,p)}a._syncSavedFragments()}},e._documentSchema=b.Digester.digestSchema(c.SCHEMA),e}();t.Class=C,t.default=C},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidJSONLDSyntaxError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.Error=n.default;var i=r(79);t.BadRequestError=i.default;var o=r(80);t.ConflictError=o.default;var a=r(81);t.ForbiddenError=a.default;var s=r(82);t.MethodNotAllowedError=s.default;var u=r(83);t.NotAcceptableError=u.default;var c=r(84);t.NotFoundError=c.default;var l=r(85);t.PreconditionFailedError=l.default;var f=r(86);t.PreconditionRequiredError=f.default;var p=r(87);t.RequestEntityTooLargeError=p.default;var d=r(88);t.RequestHeaderFieldsTooLargeError=d.default;var h=r(89);t.RequestURITooLongError=h.default;var g=r(90);t.TooManyRequestsError=g.default;var y=r(91);t.UnauthorizedError=y.default;var v=r(92);t.UnsupportedMediaTypeError=v.default;var b=r(93);t.BadResponseError=b.default;var m=r(94);t.BadGatewayError=m.default;var P=r(95);t.GatewayTimeoutError=P.default;var _=r(96);t.HTTPVersionNotSupportedError=_.default;var O=r(97);t.InternalServerErrorError=O.default;var S=r(98);t.NotImplementedError=S.default;var R=r(99);t.ServiceUnavailableError=R.default;var C=r(100);t.UnknownError=C.default;var E=[];t.client=E,E.push(i.default),E.push(o.default),E.push(a.default),E.push(s.default),E.push(u.default),E.push(c.default),E.push(l.default),E.push(f.default),E.push(p.default),E.push(d.default),E.push(h.default),E.push(g.default),E.push(y.default),E.push(v.default);var T=[];t.server=T,T.push(b.default),T.push(m.default),T.push(P.default),T.push(_.default),T.push(O.default),T.push(S.default),T.push(R.default);var w=new Map;t.statusCodeMap=w;for(var I=0,A=E.length;I<A;I++)w.set(E[I].statusCode,E[I]);for(var I=0,D=T.length;I<D;I++)w.set(T[I].statusCode,T[I])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){e[e.OPTIONS=0]="OPTIONS",e[e.HEAD=1]="HEAD",e[e.GET=2]="GET",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.PATCH=5]="PATCH",e[e.DELETE=6]="DELETE"}(n=t.Method||(t.Method={})),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),i=r(0),o=function(){function e(e,t,r){if(void 0===r&&(r={}),"undefined"!=typeof XMLHttpRequest&&e instanceof XMLHttpRequest){var n=e;this.status=n.status,this.data=n.responseText,this.setHeaders(n.getAllResponseHeaders())}else this.status=r.statusCode,this.data=t||"",this.setHeaders(r.headers);this.request=e}return e.prototype.getHeader=function(e){return e=e.toLowerCase(),this.headers.get(e)||null},e.prototype.setHeaders=function(e){if(i.isString(e))this.headers=n.Util.parseHeaders(e);else if(this.headers=new Map,i.isObject(e))for(var t=0,r=Object.keys(e);t<r.length;t++){var o=r[t];this.headers.set(o.toLowerCase(),new n.Class(e[o]))}},e}();t.Class=o;var a=function(){function e(){}return e.getETag=function(e){if(!e||!e.headers)return null;var t=e.getHeader("ETag");return t&&t.values.length?(t.values.length>1&&console.warn("The response contains more than one ETag. Response: %o",e),t.values[0].toString()):null},e}();t.Util=a,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),i=r(48),o=r(1),a=r(4),s=r(27),u=r(21);t.RDF_CLASS=o.C.Class.ErrorResponse,t.SCHEMA={errors:{"@id":o.C.Predicate.error,"@type":"@id","@container":"@set"},requestID:{"@id":o.C.Predicate.requestID,"@type":o.XSD.DataType.string},statusCode:{"@id":o.C.Predicate.httpStatusCode,"@type":o.XSD.DataType.int}};var c=function(){function e(){}return e.getMessage=function(e){return e.errors.map(function(e){return e.errorMessage}).join(", ")},e}();t.Util=c;var l=function(){function e(){}return e.prototype.parse=function(e,r){void 0===r&&(r={});var o=s.default.documents;return(new i.default).parse(e).then(function(e){for(var i=n.Factory.create(o),s=0,c=e;s<c.length;s++){var l=c[s],f=void 0,p=!1;if(a.Node.Util.hasType(l,t.RDF_CLASS)){if(p)throw new u.default("The input string contains more than once c:ErrorResponse.");f=i.createResourceFrom(r),p=!0}else f=i.getPointer(l["@id"]);o.jsonldConverter.compact(l,f,o.getSchemaFor(l),i)}if(!r)throw new u.default("The input string does not contains a c:ErrorResponse.");return r})},e}();t.Parser=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),i=r(33),o=r(0),a=r(13),s=function(){function e(){}return e.is=function(e){return o.hasProperty(e,"@graph")&&o.isArray(e["@graph"])},e.create=function(e,t){var r=t?i.Factory.create(t):{};return r["@graph"]=e,r},e}();t.Factory=s;var u=function(){function e(){}return e.getDocuments=function(e){if(o.isArray(e)){return e.filter(function(e){return s.is(e)})}return o.isObject(e)&&s.is(e)?[e]:[]},e.getResources=function(t){for(var r=i.Util.getFreeNodes(t),n=e.getDocuments(t),o=[].concat(r),a=0,s=n;a<s.length;a++){var u=s[a];o=o.concat(u["@graph"])}return o},e.getDocumentResources=function(t){for(var r=e.getResources(t),n=[],i=0,o=r.length;i<o;i++){var s=r[i],u=s["@id"];u&&(a.Util.hasFragment(u)||a.Util.isBNodeID(u)||n.push(s))}return n},e.getFragmentResources=function(t,r){var n=e.getResources(t),i=null;r&&(i=o.isString(r)?r:r["@id"]);for(var s=[],u=0,c=n.length;u<c;u++){var l=n[u],f=l["@id"];if(f&&a.Util.hasFragment(f))if(i){var p=a.Util.getDocumentURI(f);p===i&&s.push(l)}else s.push(l)}return s},e.getBNodeResources=function(t){for(var r=e.getResources(t),n=[],i=0,o=r.length;i<o;i++){var s=r[i];"@id"in s&&!a.Util.isBNodeID(s["@id"])||n.push(s)}return n},e}();t.Util=u;var c=function(){function e(){}return e.prototype.parse=function(e){return(new n.Parser.Class).parse(e).then(function(e){return u.getDocuments(e)})},e}();t.Parser=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),i=r(49),o=function(){function e(){}return e.prototype.parse=function(e){return(new n.default).parse(e).then(function(e){return i.default.expand(e)})},e}();t.Class=o,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),i=r(3),o=r(7),a=r(9),s=r(4),u=r(0),c=function(){function e(){}return e.expand=function(t){return this.retrieveContexts(t,Object.create(null),"").then(function(){var r=e.process(new a.DigestedObjectSchema,t);return u.isObject(r)&&"@graph"in r&&1===Object.keys(r).length?r=r["@graph"]:null===r&&(r=[]),u.isArray(r)||(r=[r]),r})},e.getTargetFromLinkHeader=function(e){for(var t=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,r=0,n=e.values;r<n.length;r++){var i=n[r],o=i.toString().match(t);if(o){for(var a=o[1],s=o[2],u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,c={};;){if(!(o=u.exec(s)))break;c[o[1]]=void 0===o[2]?o[3]:o[2]}if("http://www.w3.org/ns/json-ld#context"===c.rel)return a}}return null},e.findContextURLs=function(t,r,n,i){void 0===i&&(i=!1);var o=Object.keys(r).length;if(u.isArray(t))for(var a=0,c=t;a<c.length;a++){var l=c[a];e.findContextURLs(l,r,n)}else if(u.isPlainObject(t))for(var f in t)if("@context"===f){var p=t[f];if(u.isArray(p))for(var d=p,h=0,g=d.length;h<g;++h){var y=d[h];if(u.isString(y)){var v=y;v=s.URI.Util.resolve(n,v),i?u.isArray(r[v])?(Array.prototype.splice.apply(d,[h,1].concat(r[v])),h+=r[v].length-1,g=d.length):d[h]=r[v]:v in r||(r[v]=!0)}}else if(u.isString(p)){var v=p;v=s.URI.Util.resolve(n,v),i?t[f]=r[v]:v in r||(r[v]=null)}}else e.findContextURLs(t[f],r,n);return o<Object.keys(r).length},e.retrieveContexts=function(t,r,i){if(Object.keys(r).length>10)return Promise.reject(new n.default("Maximum number of @context URLs exceeded."));var a=Object.create(null);if(!e.findContextURLs(t,a,i))return Promise.resolve();var s=[];for(var c in a){if(c in r)return Promise.reject(new n.default("Cyclical @context URLs detected."));var l={sendCredentialsOnCORS:!1};o.Request.Util.setAcceptHeader("application/ld+json, application/json",l);var f=o.Request.Service.get(c,l,new o.JSONParser.Class);s.push(function(t,n){return n.then(function(n){var i=n[0],o=n[1],s=u.O.clone(r);s[t]=!0;var c={"@context":{}},l=o.getHeader("Content-Type");if(u.S.contains(l.toString(),"application/ld+json"))c["@context"]="@context"in i?i["@context"]:{};else{l=o.getHeader("Link");var f=void 0;l&&(f=e.getTargetFromLinkHeader(l)),f&&(c["@context"]=f)}return a[t]=c["@context"],e.retrieveContexts(c,s,t)})}(c,f))}return Promise.all(s).then(function(){e.findContextURLs(t,a,i,!0)})},e.isKeyword=function(e){if(!u.isString(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0;default:return!1}},e.isValidType=function(e){if(u.isString(e))return!0;if(!u.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++){var n=r[t];if(!u.isString(n))return!1}return!0},e.expandURI=function(t,r,n){return void 0===n&&(n={}),null===r||e.isKeyword(r)||s.URI.Util.isAbsolute(r)?r:t.properties.has(r)?t.properties.get(r).uri.stringValue:s.URI.Util.isPrefixed(r)?a.Digester.resolvePrefixedURI(r,t):t.prefixes.has(r)?t.prefixes.get(r).stringValue:n.vocab?null===t.vocab?null:t.vocab+r:(n.base&&s.URI.Util.resolve(t.base,r),r)},e.expandLanguageMap=function(e){for(var t=[],r=Object.keys(e).sort(),i=0,o=r;i<o.length;i++){var a=o[i],s=e[a];u.isArray(s)||(s=[s]);for(var c=0,l=s;c<l.length;c++){var f=l[c];if(null!==f){if(!u.isString(f))throw new n.default("Language map values must be strings.");t.push({"@value":f,"@language":a.toLowerCase()})}}}return t},e.getContainer=function(e,t){if(e.properties.has(t))return e.properties.get(t).containerType},e.expandValue=function(t,r,n){if(u.isNull(r)||!u.isDefined(r))return null;if("@id"===n)return e.expandURI(t,r,{base:!0});if("@type"===n)return e.expandURI(t,r,{vocab:!0,base:!0});var i=new a.DigestedPropertyDefinition;if(t.properties.has(n)&&(i=t.properties.get(n)),!1===i.literal||"@graph"===n&&u.isString(r)){var o={base:!0};return i.pointerType===a.PointerType.VOCAB&&(o.vocab=!0),{"@id":e.expandURI(t,r,o)}}if(e.isKeyword(n))return r;var s={};if(i.literalType)s["@type"]=i.literalType.stringValue;else if(u.isString(r)){var c=u.isDefined(i.language)?i.language:t.language;null!==c&&(s["@language"]=c)}return-1===["boolean","number","string"].indexOf(typeof r)&&(r=r.toString()),s["@value"]=r,s},e.process=function(t,r,o,c){if(u.isNull(r)||!u.isDefined(r))return null;if(!u.isArray(r)&&!u.isObject(r))return c||null!==o&&"@graph"!==o?e.expandValue(t,r,o):null;if(u.isArray(r)){var l=e.getContainer(t,o);c=c||l===a.ContainerType.LIST;for(var f=[],p=0,d=r;p<d.length;p++){var h=d[p],g=e.process(t,h,o);if(null!==g){if(c&&(u.isArray(g)||s.List.Factory.is(g)))throw new n.default("Lists of lists are not permitted.");u.isArray(g)||(g=[g]),Array.prototype.push.apply(f,g)}}return f}"@context"in r&&(t=a.Digester.combineDigestedObjectSchemas([a.Digester.digestSchema(r["@context"]),t]));for(var y={},v=Object.keys(r),b=0,m=v;b<m.length;b++){var P=m[b];if("@context"!==P){var _=e.expandURI(t,P,{vocab:!0});if(_&&(s.URI.Util.isAbsolute(_)||s.URI.Util.isBNodeID(_)||e.isKeyword(_))){var O=r[P];if(e.isKeyword(_)){if("@id"===_&&!u.isString(O))throw new n.default('"@id" value must a string.');if("@type"===_&&!e.isValidType(O))throw new n.default('"@type" value must a string, an array of strings.');if("@graph"===_&&!u.isObject(O)&&!u.isArray(O))throw new n.default('"@graph" value must not be an object or an array.');if("@value"===_&&(u.isObject(O)||u.isArray(O)))throw new n.default('"@value" value must not be an object or an array.');if("@language"===_){if(null===O)continue;if(!u.isString(O))throw new n.default('"@language" value must be a string.');O=O.toLowerCase()}if("@index"===_&&!u.isString(O))throw new n.default('"@index" value must be a string.');if("@reverse"===_&&!u.isObject(O))throw new n.default('"@reverse" value must be an object.');if("@index"===_||"@reverse"===_)throw new i.NotImplementedError('The SDK does not support "@index" and "@reverse" tags.')}var S=void 0,l=e.getContainer(t,P);if(l===a.ContainerType.LANGUAGE&&u.isObject(O))S=e.expandLanguageMap(O);else{var R=P,C="@list"===_;(C||"@set"===_)&&(R=o,C&&"@graph"===o&&(R=null)),S=e.process(t,O,R,C)}if(null!==S||"@value"===_){"@list"===_||s.List.Factory.is(S)||l!==a.ContainerType.LIST||(u.isArray(S)||(S=[S]),S={"@list":S});var E=-1===["@type","@id","@value","@language"].indexOf(_);e.addValue(y,_,S,{propertyIsArray:E})}}}}return"@value"in y?null===y["@value"]&&(y=null):"@type"in y?u.isArray(y["@type"])||(y["@type"]=[y["@type"]]):"@set"in y&&(y=y["@set"]),y},e.addValue=function(t,r,n,i){if(u.isArray(n)){var o=n;0===o.length&&i.propertyIsArray&&!u.hasProperty(t,r)&&(t[r]=[]);for(var a=0,s=o;a<s.length;a++){var c=s[a];e.addValue(t,r,c,i)}}else if(r in t){if(!e.hasValue(t,r,n)){var l=t[r];u.isArray(l)||(l=t[r]=[l]),l.push(n)}}else t[r]=i.propertyIsArray?[n]:n},e.hasProperty=function(e,t){if(t in e){var r=e[t];return!u.isArray(r)||r.length>0}return!1},e.compareValues=function(e,t){if(e===t)return!0;if(u.isObject(e)&&u.isObject(t)){if("@value"in e&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"])return!0;if("@id"in e)return e["@id"]===t["@id"]}return!1},e.hasValue=function(t,r,n){if(e.hasProperty(t,r)){var i=t[r],o=s.List.Factory.is(i);if(o||u.isArray(i))for(var a=o?i["@list"]:i,c=0,l=a;c<l.length;c++){var f=l[c];if(e.compareValues(f,n))return!0}else if(!u.isArray(n))return e.compareValues(i,n)}return!1},e}();t.Class=c,t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),i=r(32),o=r(33),a=function(){function e(){}return e.parseValue=function(t,r){if(i.Factory.is(t))return i.Factory.parse(t);if(o.Factory.is(t))return r.getPointer(t["@id"]);if(n.Factory.is(t)){for(var a=[],s=t["@list"],u=0,c=s;u<c.length;u++){var l=c[u];a.push(e.parseValue(l,r))}return a}return null},e}();t.Util=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),i=r(1);t.RDF_CLASS=i.C.Class.AccessPoint;var o=function(){function e(){}return e.is=function(e){return n.DirectContainer.Factory.is(e)},e.create=function(t,r,n){return e.createFrom({},t,r,n)},e.createFrom=function(e,t,r,i){return n.DirectContainer.Factory.createFrom(e,t,r,i)},e}();t.Factory=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),i=r(4),o=r(0),a=function(){function e(){}return e.hasClassProperties=function(e){return o.hasPropertyDefined(e,"slug")},e.create=function(e,t){return this.createFrom({},e,t)},e.createFrom=function(e,t,r){var o=r.id+"#"+t,a=n.Factory.createFrom(e,o,r);return this.hasClassProperties(a)?a:(Object.defineProperties(a,{slug:{enumerable:!1,configurable:!0,get:function(){return i.URI.Util.getFragment(a.id)},set:function(e){this.id=this.document.id+"#"+e}}}),a)},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(5);t.RDF_CLASS=n.C.Class.VolatileResource;var o=function(){function e(){}return e.is=function(e){return i.Factory.is(e)&&e.hasType(t.RDF_CLASS)},e}();t.Factory=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(0);t.RDF_CLASS=n.CS.Class.AccessControlEntry,t.SCHEMA={granting:{"@id":n.CS.Predicate.granting,"@type":n.XSD.DataType.boolean},permissions:{"@id":n.CS.Predicate.permission,"@type":"@id","@container":"@set"},subjects:{"@id":n.CS.Predicate.subject,"@type":"@id","@container":"@set"},subjectsClass:{"@id":n.CS.Predicate.subjectClass,"@type":"@id"}};var o=function(){function e(){}return e.hasClassProperties=function(e){return i.hasPropertyDefined(e,"granting")&&i.hasPropertyDefined(e,"permissions")&&i.hasPropertyDefined(e,"subjects")&&i.hasPropertyDefined(e,"subjectsClass")},e.createFrom=function(e,r,n,i,o){var a=e;return a.types||(a.types=[]),a.types.push(t.RDF_CLASS),a.granting=r,a.subjects=n,a.subjectsClass=i,a.permissions=o,a},e}();t.Factory=o},function(e,t,r){"use strict";function n(e){return _.Factory.is(e)?e:_.Factory.create(e)}function i(e){var t=this;return(O.isArray(e)?e:[e]).map(function(e){return t._parsePointer(e)})}function o(e,t,r,n,i){var o,a=i.filter(function(r){return 1===r.subjects.length&&r.granting===e&&_.Util.areEqual(r.subjects[0],t)});return 0===a.length?(o=m.Factory.createFrom(this.createFragment(),e,[t],r,[]),i.push(o)):o=a[0],Array.prototype.push.apply(o.permissions,n),o}function a(e,t,r,n,a){for(var s=i.call(this,t),u=this._parsePointer(r),c=i.call(this,n),l=0,f=s;l<f.length;l++){var p=f[l];g.call(this,p,c,a),o.call(this,e,p,u,c,a)}}function s(e,t,r){var n=this;n.entries=n.entries||[],a.call(this,!0,e,t,r,n.entries)}function u(e,t,r){var n=this;n.entries=n.entries||[],a.call(this,!1,e,t,r,n.entries)}function c(e,t,r,n){var i=this;i.inheritableEntries=i.inheritableEntries||[],a.call(this,e,t,r,n,i.inheritableEntries)}function l(e,t,r){for(var n=r.filter(function(t){return-1!==O.A.indexOf(t.subjects,e,_.Util.areEqual)}),i=0,o=n;i<o.length;i++){var a=o[i];if(-1!==O.A.indexOf(a.permissions,t,_.Util.areEqual))return a.granting}return null}function f(e,t,r){return r?l(this._parsePointer(e),this._parsePointer(t),r):null}function p(e,t){var r=this;return f.call(this,e,t,r.entries)}function d(e,t){var r=this,n=f.call(this,e,t,r.entries);return null===n?null:!n}function h(e,t){var r=this;return f.call(this,e,t,r.inheritableEntries)}function g(e,t,r){if(r)for(var n=this,i=n.entries===r?n.inheritableEntries:n.entries,a=r.filter(function(t){return-1!==O.A.indexOf(t.subjects,e,_.Util.areEqual)}),s=0,u=a;s<u.length;s++){var c=u[s];if(i&&-1!==O.A.indexOf(i,c,_.Util.areEqual)){r.splice(O.A.indexOf(r,c,_.Util.areEqual),1);var l=o.call(this,c.granting,e,c.subjectsClass,c.permissions,r);a.push(l)}else if(c.subjects.length>1){c.subjects.splice(O.A.indexOf(c.subjects,e,_.Util.areEqual),1);var l=o.call(this,c.granting,e,c.subjectsClass,c.permissions,r);a.push(l)}else{for(var f=0,p=t;f<p.length;f++){var d=p[f],h=O.A.indexOf(c.permissions,d,_.Util.areEqual);-1!==h&&c.permissions.splice(h,1)}0===c.permissions.length&&(r.splice(O.A.indexOf(r,c,_.Util.areEqual),1),n._removeFragment(c))}}}function y(e,t,r){var n=this._parsePointer(e),o=i.call(this,t);g.call(this,n,o,r)}function v(e,t){var r=this;y.call(this,e,t,r.entries)}function b(e,t){var r=this;y.call(this,e,t,r.inheritableEntries)}Object.defineProperty(t,"__esModule",{value:!0});var m=r(54),P=r(1),_=r(8),O=r(0);t.RDF_CLASS=P.CS.Class.AccessControlList,t.SCHEMA={entries:{"@id":P.CS.Predicate.accessControlEntry,"@type":"@id","@container":"@set"},accessTo:{"@id":P.CS.Predicate.accessTo,"@type":"@id"},inheritableEntries:{"@id":P.CS.Predicate.inheritableEntry,"@type":"@id","@container":"@set"}};var S=function(){function e(){}return e.hasClassProperties=function(e){return O.hasPropertyDefined(e,"accessTo")&&O.hasFunction(e,"_parsePointer")&&O.hasFunction(e,"grant")&&O.hasFunction(e,"deny")&&O.hasFunction(e,"configureChildInheritance")&&O.hasFunction(e,"grants")&&O.hasFunction(e,"denies")&&O.hasFunction(e,"getChildInheritance")&&O.hasFunction(e,"remove")&&O.hasFunction(e,"removeChildInheritance")},e.decorate=function(t){var r=t;return e.hasClassProperties(r)?r:(Object.defineProperties(r,{_parsePointer:{writable:!0,enumerable:!1,configurable:!0,value:n},grant:{writable:!0,enumerable:!1,configurable:!0,value:s},deny:{writable:!0,enumerable:!1,configurable:!0,value:u},configureChildInheritance:{writable:!0,enumerable:!1,configurable:!0,value:c},grants:{writable:!0,enumerable:!1,configurable:!0,value:p},denies:{writable:!0,enumerable:!1,configurable:!0,value:d},getChildInheritance:{writable:!0,enumerable:!1,configurable:!0,value:h},remove:{writable:!0,enumerable:!1,configurable:!0,value:v},removeChildInheritance:{writable:!0,enumerable:!1,configurable:!0,value:b}}),r)},e}();t.Factory=S},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof btoa?btoa(e):new Buffer(e).toString("base64")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),o=r(7),a=r(127),s=function(){function e(){}return e.prototype.isAuthenticated=function(){return!!this.credentials},e.prototype.authenticate=function(e){var t=this;if(null===e)throw new i.IllegalArgumentError("The authenticationToken cannot be null.");return new Promise(function(r,n){if(!e.username)throw new i.IllegalArgumentError("The username cannot be empty.");if(!e.password)throw new i.IllegalArgumentError("The password cannot be empty.");t.credentials=new a.Class(e.username,e.password),r(t.credentials)})},e.prototype.addAuthentication=function(e){if(!this.isAuthenticated())throw new i.IllegalStateError("The authenticator isn't authenticated.");var t=e.headers?e.headers:e.headers=new Map;return this.addBasicAuthenticationHeader(t),e},e.prototype.clearAuthentication=function(){this.credentials=null},e.prototype.addBasicAuthenticationHeader=function(e){if(!e.has("authorization")){var t=new o.Header.Class;e.set("authorization",t);var r="Basic "+n(this.credentials.username+":"+this.credentials.password);t.values.push(new o.Header.Value(r))}},e}();t.Class=s,t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(1),o=r(3);t.RDF_CLASS=i.CS.Class.Credentials,t.SCHEMA={email:{"@id":i.VCARD.Predicate.email,"@type":i.XSD.DataType.string},password:{"@id":i.CS.Predicate.password,"@type":i.XSD.DataType.string},enabled:{"@id":i.CS.Predicate.enabled,"@type":i.XSD.DataType.boolean},user:{"@id":i.CS.Predicate.credentialsOf,"@type":"@id"}};var a=function(){function e(){}return e.create=function(t,r){return e.createFrom({},t,r)},e.createFrom=function(e,r,i){var a=n.Factory.createFrom(e);if(!r)throw new o.IllegalArgumentError("The email cannot be empty.");if(!i)throw new o.IllegalArgumentError("The password cannot be empty.");return a.addType(t.RDF_CLASS),a.email=r,a.password=i,a},e}();t.Factory=a},function(e,t,r){"use strict";function n(e,t){var r=this,n=[];return(this.isResolved()?Promise.resolve([]):this.resolve()).then(function(i){var o=(i[0],i[1]);return o&&n.push(o),r.enabled=e,r.save(t)}).then(function(e){var t=(e[0],e[1]);return t&&n.push(t),[r,n]})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(20),o=r(0),a=r(37),s=function(){function e(){}return e.hasClassProperties=function(e){return o.isObject(e)&&o.hasFunction(e,"enable")&&o.hasFunction(e,"disable")},e.decorate=function(t,r){var o=t;return e.hasClassProperties(t)?o:(i.Factory.decorate(o,r),Object.defineProperties(o,{enable:{writable:!1,enumerable:!1,configurable:!0,value:n.bind(o,!0)},disable:{writable:!1,enumerable:!1,configurable:!0,value:n.bind(o,!1)}}),o.user&&(a.Factory.decorate(o.user,r),o.user.credentials=o),o)},e}();t.Factory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=function(){function e(){}return e.decorate=function(e,t){return void 0===t&&(t={}),n.Factory.decorate(e,t),e},e}();t.Factory=i},function(e,t,r){"use strict";function n(e,t,r){return l(this),this._roles.createChild(this.id,e,t,r)}function i(e){return l(this),this._roles.listUsers(this.id,e)}function o(e,t){return l(this),this._roles.getUsers(this.id,e,t)}function a(e,t){return l(this),this._roles.addUsers(this.id,[e],t)}function s(e,t){return l(this),this._roles.addUsers(this.id,e,t)}function u(e,t){return l(this),this._roles.removeUsers(this.id,[e],t)}function c(e,t){return l(this),this._roles.removeUsers(this.id,e,t)}function l(e){if(!e._roles)throw new f.IllegalStateError("The context of the current role, does not support roles management.")}Object.defineProperty(t,"__esModule",{value:!0});var f=r(3),p=r(20),d=r(0),h=function(){function e(){}return e.hasClassProperties=function(e){return d.hasPropertyDefined(e,"_roles")&&d.hasFunction(e,"createChild")&&d.hasFunction(e,"listUsers")&&d.hasFunction(e,"getUsers")&&d.hasFunction(e,"addUser")&&d.hasFunction(e,"addUsers")&&d.hasFunction(e,"removeUser")&&d.hasFunction(e,"removeUsers")},e.is=function(t){return e.hasClassProperties(t)&&p.Factory.is(t)},e.decorate=function(t,r){var l=t;if(e.hasClassProperties(l))return l;p.Factory.decorate(l,r);var f=r.context,d=f?f.auth.roles:null;return Object.defineProperties(l,{_roles:{writable:!1,enumerable:!1,configurable:!0,value:d},createChild:{writable:!0,enumerable:!1,configurable:!0,value:n},listUsers:{writable:!0,enumerable:!1,configurable:!0,value:i},getUsers:{writable:!0,enumerable:!1,configurable:!0,value:o},addUser:{writable:!0,enumerable:!1,configurable:!0,value:a},addUsers:{writable:!0,enumerable:!1,configurable:!0,value:s},removeUser:{writable:!0,enumerable:!1,configurable:!0,value:u},removeUsers:{writable:!0,enumerable:!1,configurable:!0,value:c}}),l},e}();t.Factory=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(5),o=r(0);t.RDF_CLASS=n.CS.Class.Token,t.SCHEMA={key:{"@id":n.CS.Predicate.tokenKey,"@type":n.XSD.DataType.string},expirationTime:{"@id":n.CS.Predicate.expirationTime,"@type":n.XSD.DataType.dateTime},user:{"@id":n.CS.Predicate.credentialsOf,"@type":"@id"}};var a=function(){function e(){}return e.is=function(t){return i.Factory.is(t)&&e.hasClassProperties(t)},e.hasClassProperties=function(e){return o.hasPropertyDefined(e,"key")&&o.hasPropertyDefined(e,"expirationTime")&&o.hasPropertyDefined(e,"user")},e.hasRequiredValues=function(e){return o.hasProperty(e,"key")&&o.hasProperty(e,"expirationTime")},e.decorate=function(e){return this.hasClassProperties(e),e},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._username=e,this._password=t}return Object.defineProperty(e.prototype,"username",{get:function(){return this._username},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0}),e}();t.Class=n,t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.RDF_CLASS=n.CS.Class.ProtectedDocument,t.SCHEMA={accessControlList:{"@id":n.CS.Predicate.accessControlList,"@type":"@id"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65);t.Builder=n;var i=r(146);t.RawResults=i;var o=r(70);t.RawResultsParser=o;var a=r(147);t.Service=a.default;var s=r(148);t.SELECTResults=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136);t.Class=n.default;var i=n.default.prototype,o=i.initInterfaces;i.initInterfaces=function(){o.call(this);var e=this;this.interfaces.finishSelect={execute:function(){return e._documents.executeSELECTQuery(e._entryPoint,e.toCompactString())},executeRaw:function(){return e._documents.executeRawSELECTQuery(e._entryPoint,e.toCompactString())}}},t.default=n.default},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(11),o=r(15),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof t||e instanceof o.Identifier?i.SPACE_SEPARATOR:i.EMPTY_SEPARATOR},t.prototype.getCompactSeparator=function(e){return i.EMPTY_SEPARATOR},t}(i.Token);t.LeftSymbol=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,r){"use strict";function n(e){var t=this.getTokens(e),r=a.OPEN_SINGLE_BLOCK,n=a.CLOSE_SINGLE_BLOCK;return this.isMultiLine(t)&&(r=a.OPEN_MULTI_BLOCK,n=a.CLOSE_MULTI_BLOCK),[r].concat(t,[n])}function i(e){var t=Array.isArray(e)?e:[e],r=[],n=void 0;return t.forEach(function(e,i){var o=e.getPattern();n===a.GRAPH_PATTERN_SEPARATOR&&(o[0]instanceof s.Identifier||o[0]===a.OPEN_MULTI_BLOCK||o[0]===a.OPEN_SINGLE_BLOCK)&&r.pop(),r.push.apply(r,o),n=o[o.length-1],i<t.length-1&&n!==a.CLOSE_MULTI_BLOCK&&n!==a.CLOSE_SINGLE_BLOCK&&r.push(n=a.GRAPH_PATTERN_SEPARATOR)}),r}function o(e){return void 0!==e.find(function(e){return e instanceof u.NewLineSymbol&&-1!==[".",";",",",""].indexOf(e.value)})}var a=r(6),s=r(15),u=r(16);t.getBlockTokens=n,t.getTokens=i,t.isMultiLine=o},function(e,t,r){"use strict";var n=r(138),i=r(140),o=r(141),a=r(142),s=r(143),u=r(69),c=r(6),l=r(67),f=r(144),p=r(14),d=function(){function e(e){this.resolver=e}return Object.defineProperty(e,"undefined",{get:function(){return"UNDEF"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"undefined",{get:function(){return e.undefined},enumerable:!0,configurable:!0}),e.prototype.resource=function(e){return new i.Resource(this.resolver,e)},e.prototype.var=function(e){return new o.Variable(this.resolver,e)},e.prototype.literal=function(e){if("string"==typeof e||e instanceof String)return new n.RDFLiteral(this.resolver,e);if("number"==typeof e||e instanceof Number)return new n.NumericLiteral(this.resolver,e);if("boolean"==typeof e||e instanceof Boolean)return new n.BooleanLiteral(this.resolver,e);throw new Error("InvalidArgumentError: No valid value of a literal was provided.")},e.prototype.collection=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw Error("InvalidArgumentError: The collection needs at least one value.");return new s.Collection(this.resolver,e)},e.prototype.blankNode=function(){return new a.BlankNode(this.resolver)},e.prototype.graph=function(e,t){var r="string"==typeof e?this.resolver._resolveIRI(e):e.getSelfTokens(),n=l.getBlockTokens(t);return new u.NotTriplesPattern([c.GRAPH].concat(r,n))},e.prototype.optional=function(e){var t=l.getBlockTokens(e);return new u.NotTriplesPattern([c.OPTIONAL].concat(t))},e.prototype.union=function(e,t){var r=l.getBlockTokens(e),n=l.getBlockTokens(t);return new u.NotTriplesPattern(r.concat([c.UNION],n))},e.prototype.minus=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.getBlockTokens(e);return new u.NotTriplesPattern([c.MINUS].concat(r))},e.prototype.values=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new f.ValuesPattern(this.resolver,e)},e.prototype.service=function(e,t){var r="string"==typeof e?this.resolver._resolveIRI(e):e.getSelfTokens(),n=l.getBlockTokens(t);return new u.NotTriplesPattern([c.SERVICE].concat(r,n))},e.prototype.serviceSilent=function(e,t){var r="string"==typeof e?this.resolver._resolveIRI(e):e.getSelfTokens(),n=l.getBlockTokens(t);return new u.NotTriplesPattern([c.SERVICE,c.SILENT].concat(r,n))},e.prototype.bind=function(e,t){t="string"==typeof t?this.var(t):t;var r=[c.BIND,c.OPEN_SINGLE_LIST,new p.StringLiteral(e),c.AS].concat(t.getSelfTokens(),[c.CLOSE_SINGLE_LIST]);return new u.NotTriplesPattern(r)},e.prototype.filter=function(e){return new u.NotTriplesPattern([c.FILTER,new p.StringLiteral(e)])},e}();t.PatternBuilder=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,r){"use strict";var n=function(){function e(e){this.patternTokens=e}return e.prototype.getPattern=function(){return this.patternTokens},e}();t.NotTriplesPattern=n,Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),i=function(){function e(){}return e.prototype.parse=function(e){return(new n.default).parse(e).then(function(e){return e})},e}();t.Class=i,t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(151);t.PlatformMetadata=n;var i=r(152);t.InstanceMetadata=i},function(e,t,r){"use strict";var n=r(73);e.exports=n.default},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(74),o=r(51),a=r(19),s=r(10),u=r(41),c=r(3),l=r(35),f=r(7),p=r(17),d=r(18),h=r(52),g=r(1),y=r(9),v=r(23),b=r(24),m=r(59),P=r(36),_=r(8),O=r(4),S=r(5),R=r(27),C=r(153),E=r(64),T=r(71),w=r(0),I=function(e){function t(t,r,n){void 0===r&&(r=!0);var i=e.call(this)||this;return t=O.URI.Util.hasProtocol(t)?O.URI.Util.removeProtocol(t):t,t=w.S.endsWith(t,"/")?t:t+"/",i._baseURI=(r?"https://":"http://")+t,n=n?w.extend({},C.defaultSettings,n):C.defaultSettings,w.M.extend(i.settings,w.M.from(n)),i}return n(t,e),Object.defineProperty(t,"version",{get:function(){return"1.0.0-alpha.1"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return t.version},enumerable:!0,configurable:!0}),t.prototype.getPlatformMetadata=function(){return this.getDocumentMetadata("system.platform.metadata")},t.prototype.getInstanceMetadata=function(){return this.getDocumentMetadata("system.instance.metadata")},t.prototype.getDocumentMetadata=function(e){var t=this;return this.hasSetting(e)?Promise.resolve().then(function(){return t.resolveSystemURI(t.getSetting(e))}).then(function(e){return t.documents.get(e)}).then(function(e){return e[0]}):Promise.reject(new c.IllegalStateError('The "'+e+"\" setting hasn't been defined."))},t.AccessPoint=o,t.Auth=a,t.Document=s,t.Documents=u,t.Errors=c,t.Fragment=l,t.HTTP=f,t.JSONLD=p,t.LDP=d,t.NamedFragment=h,t.NS=g,t.ObjectSchema=y,t.PersistedDocument=v,t.PersistedFragment=b,t.PersistedNamedFragment=m,t.PersistedResource=P,t.Pointer=_,t.RDF=O,t.Resource=S,t.SDKContext=R,t.Settings=C,t.SPARQL=E,t.System=T,t.Utils=w,t}(i.Class);t.Class=I,t.default=I},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(27),o=r(4),a=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r._parentContext=t||i.instance,r.generalObjectSchema=null,r.typeObjectSchemaMap=new Map,r}return n(t,e),Object.defineProperty(t.prototype,"baseURI",{get:function(){return this._baseURI},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentContext",{get:function(){return this._parentContext},enumerable:!0,configurable:!0}),t.prototype.resolve=function(e){return o.URI.Util.resolve(this.baseURI,e)},t}(i.Class);t.Class=a,t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IDAlreadyInUseError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalActionError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=function(e){function t(r){void 0===r&&(r="");var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=function(e){function t(r){void 0===r&&(r="");var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 400},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadRequestError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 409},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ConflictError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 403},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ForbiddenError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 405},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"MethodNotAllowedError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 406},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotAcceptableError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 404},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotFoundError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 412},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"PreconditionFailedError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 428},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"PreconditionRequiredError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 413},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestEntityTooLargeError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 431},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestHeaderFieldsTooLargeError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 414},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestURITooLongError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 429},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"TooManyRequestsError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 401},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"UnauthorizedError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 415},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"UnsupportedMediaTypeError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadResponseError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 502},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadGatewayError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 504},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"GatewayTimeoutError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 505},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"HTTPVersionNotSupportedError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 500},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"InternalServerErrorError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 501},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 503},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ServiceUnavailableError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=function(e){function t(r,n){var i=e.call(this,r,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"UnknownError"},enumerable:!0,configurable:!0}),t}(i.default);t.Class=o,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";function n(e,t){for(var r=e.keys(),n=r.next();!n.done;){var i=n.value;t(i,e.get(i).toString()),n=r.next()}}function i(e,t,r){if(r.status>=200&&r.status<=299)e(r);else if(r.status>=400&&r.status<600&&l.statusCodeMap.has(r.status)){var n=l.statusCodeMap.get(r.status),i=new n("",r);r.data||t(i);var o=new h.Parser;o.parse(r.data,i).then(function(e){i.message=h.Util.getMessage(e),t(i)}).catch(function(){i.message=r.data,t(i)})}else t(new l.UnknownError(r.data,r))}function o(e,t,r,o){return new Promise(function(a,s){var u=o.request?o.request:new XMLHttpRequest;u.open(e,t,!0),o.headers&&n(o.headers,function(e,t){return u.setRequestHeader(e,t)}),u.withCredentials=o.sendCredentialsOnCORS,o.timeout&&(u.timeout=o.timeout),u.onload=u.onerror=function(){var e=new d.default(u);i(a,s,e)},r?u.send(r):u.send()})}function a(e,t,o,a){return new Promise(function(s,u){function c(e,t){var r=[];t.on("data",function(e){"string"==typeof e&&(e=Buffer.from(e,"utf-8")),r.push(e)}).on("end",function(){var n=Buffer.concat(r).toString("utf8"),o=new d.default(e,n,t);i(s,u,o)})}function l(t){var h=f.parse(t),g=r("http:"===h.protocol?112:113),y={protocol:h.protocol,host:h.host,hostname:h.hostname,port:parseFloat(h.port),path:h.path,method:e,headers:{},withCredentials:a.sendCredentialsOnCORS};a.headers&&n(a.headers,function(e,t){return y.headers[e]=t});var v=g.request(y);a.timeout&&v.setTimeout(a.timeout),v.on("response",function(e){if(e.statusCode>=300&&e.statusCode<=399&&"location"in e.headers&&++p<10)return l(f.resolve(t,e.headers.location));c(v,e)}),v.on("error",function(e){var t=new d.default(v,e.message);i(s,u,t)}),v.end(o)}var f=r(111),p=0;l(t)})}function s(e){return g.isString(e)||"undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof Buffer&&e instanceof Buffer}Object.defineProperty(t,"__esModule",{value:!0});var u=r(3),c=r(28),l=r(43),f=r(44),p=r(1),d=r(45),h=r(46),g=r(0),y=function(){function e(){}return e.send=function(t,r,n,i,u){void 0===n&&(n=e.defaultOptions),void 0===i&&(i=e.defaultOptions),void 0===u&&(u=null);var c=null,l=g.hasProperty(i,"parse")?n:i;u=g.hasProperty(i,"parse")?i:u,s(n)?c=n:l=n||l,l=g.extend({},e.defaultOptions,l),g.isNumber(t)&&(t=f.default[t]);var p;return p="undefined"!=typeof XMLHttpRequest?o(t,r,c,l):a(t,r,c,l),null===u?p:p.then(function(e){return u.parse(e.data).then(function(t){return[t,e]})})},e.options=function(t,r){return void 0===r&&(r=e.defaultOptions),e.send(f.default.OPTIONS,t,r)},e.head=function(t,r){return void 0===r&&(r=e.defaultOptions),e.send(f.default.HEAD,t,r)},e.get=function(t,r,n){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=null),e.send(f.default.GET,t,null,r,n)},e.post=function(t,r,n,i){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===i&&(i=null),e.send(f.default.POST,t,r,n,i)},e.put=function(t,r,n,i){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===i&&(i=null),e.send(f.default.PUT,t,r,n,i)},e.patch=function(t,r,n,i){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===i&&(i=null),e.send(f.default.PATCH,t,r,n,i)},e.delete=function(t,r,n,i){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===i&&(i=null),e.send(f.default.DELETE,t,r,n,i)},e.defaultOptions={sendCredentialsOnCORS:!0},e}();t.Service=y;var v=function(){function e(){}return e.getHeader=function(e,t,r){if(void 0===r&&(r=!1),e=e.toLowerCase(),r){var n=t.headers?t.headers:t.headers=new Map;n.has(e)||n.set(e,new c.Class)}if(t.headers)return t.headers.get(e)},e.setAcceptHeader=function(e,t){return(t.headers?t.headers:t.headers=new Map).set("accept",new c.Class(e)),t},e.setContentTypeHeader=function(e,t){return(t.headers?t.headers:t.headers=new Map).set("content-type",new c.Class(e)),t},e.setIfMatchHeader=function(e,t){return(t.headers?t.headers:t.headers=new Map).set("if-match",new c.Class(e)),t},e.setIfNoneMatchHeader=function(e,t){return(t.headers?t.headers:t.headers=new Map).set("if-none-match",new c.Class(e)),t},e.setPreferredInteractionModel=function(t,r){return e.getHeader("prefer",r,!0).values.push(new c.Value(t+"; rel=interaction-model")),r},e.setPreferredRetrievalResource=function(t,r){var n,i=e.getHeader("prefer",r,!0);switch(t){case"Created":n=p.C.Class.CreatedResource;break;case"Modified":n=p.C.Class.ModifiedResource;break;default:throw new u.IllegalArgumentError("Invalid type of request: '"+t+"'.")}return i.values.push(new c.Value("return=representation; "+n)),r},e.setContainerRetrievalPreferences=function(t,r,n){void 0===n&&(n=!0);for(var i=e.getHeader("prefer",r,!0),o=n?"return=representation; ":"",a=["include","omit"],s=0,u=a;s<u.length;s++){var l=u[s];l in t&&t[l].length>0&&i.values.push(new c.Value(""+o+l+'="'+t[l].join(" ")+'"'))}return r},e.setSlug=function(t,r){return e.getHeader("slug",r,!0).values.push(new c.Value(t)),r},e.isOptions=function(e){return g.hasPropertyDefined(e,"headers")||g.hasPropertyDefined(e,"sendCredentialsOnCORS")||g.hasPropertyDefined(e,"timeout")||g.hasPropertyDefined(e,"request")},e}();t.Util=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namespace="https://carbonldp.com/ns/v1/platform#";var n=function(){function e(){}return Object.defineProperty(e,"AccessPoint",{get:function(){return t.namespace+"AccessPoint"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"AddMemberAction",{get:function(){return t.namespace+"AddMemberAction"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CreatedResource",{get:function(){return t.namespace+"CreatedResource"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Document",{get:function(){return t.namespace+"Document"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DocumentMetadata",{get:function(){return t.namespace+"DocumentMetadata"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Instance",{get:function(){return t.namespace+"Instance"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Map",{get:function(){return t.namespace+"Map"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ModifiedResource",{get:function(){return t.namespace+"ModifiedResource"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NonReadableMembershipResourceTriples",{get:function(){return t.namespace+"NonReadableMembershipResourceTriples"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Platform",{get:function(){return t.namespace+"Platform"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferContainer",{get:function(){return t.namespace+"PreferContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferContainmentResources",{get:function(){return t.namespace+"PreferContainmentResources"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferContainmentTriples",{get:function(){return t.namespace+"PreferContainmentTriples"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferMembershipResources",{get:function(){return t.namespace+"PreferMembershipResources"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferMembershipTriples",{get:function(){return t.namespace+"PreferMembershipTriples"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferSelectedMembershipTriples",{get:function(){return t.namespace+"PreferSelectedMembershipTriples"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"VolatileResource",{get:function(){return t.namespace+"VolatileResource"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"RDFRepresentation",{get:function(){return t.namespace+"RDFRepresentation"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"RemoveMemberAction",{get:function(){return t.namespace+"RemoveMemberAction"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorResponse",{get:function(){return t.namespace+"ErrorResponse"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Error",{get:function(){return t.namespace+"Error"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ResponseMetadata",{get:function(){return t.namespace+"ResponseMetadata"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ValidationError",{get:function(){return t.namespace+"ValidationError"},enumerable:!0,configurable:!0}),e}();t.Class=n;var i=function(){function e(){}return Object.defineProperty(e,"accessPoint",{get:function(){return t.namespace+"accessPoint"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"bNodesMap",{get:function(){return t.namespace+"bNodesMap"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"buildDate",{get:function(){return t.namespace+"buildDate"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"created",{get:function(){return t.namespace+"created"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"documentMetadata",{get:function(){return t.namespace+"documentMetadata"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultInteractionModel",{get:function(){return t.namespace+"defaultInteractionModel"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"entry",{get:function(){return t.namespace+"entry"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"error",{get:function(){return t.namespace+"error"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"errorCode",{get:function(){return t.namespace+"errorCode"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"errorDetails",{get:function(){return t.namespace+"errorDetails"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"errorMessage",{get:function(){return t.namespace+"errorMessage"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"errorParameters",{get:function(){return t.namespace+"errorParameters"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"eTag",{get:function(){return t.namespace+"eTag"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"httpStatusCode",{get:function(){return t.namespace+"httpStatusCode"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"entryKey",{get:function(){return t.namespace+"key"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"mediaType",{get:function(){return t.namespace+"mediaType"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"modified",{get:function(){return t.namespace+"modified"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"requestID",{get:function(){return t.namespace+"requestID"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"relatedDocument",{get:function(){return t.namespace+"relatedDocument"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"size",{get:function(){return t.namespace+"size"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"targetMember",{get:function(){return t.namespace+"targetMember"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"entryValue",{get:function(){return t.namespace+"value"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return t.namespace+"version"},enumerable:!0,configurable:!0}),e}();t.Predicate=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="https://carbonldp.com/ns/v1/patch#";t.namespace=n;var i=function(){function e(){}return e.ADD_ACTION=n+"addAction",e.SET_ACTION=n+"setAction",e.DELETE_ACTION=n+"deleteAction",e}();t.Predicate=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="https://carbonldp.com/ns/v1/security#";t.namespace=n;var i=function(){function e(){}return Object.defineProperty(e,"AccessControlEntry",{get:function(){return n+"AccessControlEntry"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"AccessControlList",{get:function(){return n+"AccessControlList"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"AllOrigins",{get:function(){return n+"AllOrigins"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CreateAccessPoint",{get:function(){return n+"CreateAccessPoint"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CreateChild",{get:function(){return n+"CreateChild"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Credentials",{get:function(){return n+"Credentials"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Delete",{get:function(){return n+"Delete"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Download",{get:function(){return n+"Download"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Extend",{get:function(){return n+"Extend"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ManageSecurity",{get:function(){return n+"ManageSecurity"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ProtectedDocument",{get:function(){return n+"ProtectedDocument"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Read",{get:function(){return n+"Read"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"RemoveMember",{get:function(){return n+"RemoveMember"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Role",{get:function(){return n+"Role"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Ticket",{get:function(){return n+"Ticket"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Token",{get:function(){return n+"Token"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Update",{get:function(){return n+"Update"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Upload",{get:function(){return n+"Upload"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"User",{get:function(){return n+"User"},enumerable:!0,configurable:!0}),e}();t.Class=i;var o=function(){function e(){}return Object.defineProperty(e,"accessControlEntry",{get:function(){return n+"accessControlEntry"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"accessControlList",{get:function(){return n+"accessControlList"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"accessTo",{get:function(){return n+"accessTo"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"allowsOrigin",{get:function(){return n+"allowsOrigin"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"childRole",{get:function(){return n+"childRole"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"credentials",{get:function(){return n+"credentials"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"credentialsOf",{get:function(){return n+"credentialsOf"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"description",{get:function(){return n+"description"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"enabled",{get:function(){return n+"enabled"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"expirationTime",{get:function(){return n+"expirationTime"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"forIRI",{get:function(){return n+"forIRI"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"granting",{get:function(){return n+"granting"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"inheritableEntry",{get:function(){return n+"inheritableEntry"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"namae",{get:function(){return n+"name"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"parentRole",{get:function(){return n+"parentRole"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"password",{get:function(){return n+"password"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"permission",{get:function(){return n+"permission"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"rootContainer",{get:function(){return n+"rootContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"subject",{get:function(){return n+"subject"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"subjectClass",{get:function(){return n+"subjectClass"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ticketKey",{get:function(){return n+"ticketKey"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tokenKey",{get:function(){return n+"tokenKey"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"user",{get:function(){return n+"user"},enumerable:!0,configurable:!0}),e}();t.Predicate=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="http://www.w3.org/ns/ldp#";t.namespace=n;var i=function(){function e(){}return Object.defineProperty(e,"Resource",{get:function(){return n+"Resource"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"RDFSource",{get:function(){return n+"RDFSource"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Container",{get:function(){return n+"Container"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"BasicContainer",{get:function(){return n+"BasicContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DirectContainer",{get:function(){return n+"DirectContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IndirectContainer",{get:function(){return n+"IndirectContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NonRDFSource",{get:function(){return n+"NonRDFSource"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MemberSubject",{get:function(){return n+"MemberSubject"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferContainment",{get:function(){return n+"PreferContainment"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferMembership",{get:function(){return n+"PreferMembership"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferEmptyContainer",{get:function(){return n+"PreferEmptyContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PreferMinimalContainer",{get:function(){return n+"PreferMinimalContainer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Page",{get:function(){return n+"Page"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PageSortCriterion",{get:function(){return n+"PageSortCriterion"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Ascending",{get:function(){return n+"Ascending"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Descending",{get:function(){return n+"Descending"},enumerable:!0,configurable:!0}),e}();t.Class=i;var o=function(){function e(){}return Object.defineProperty(e,"contains",{get:function(){return n+"contains"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"member",{get:function(){return n+"member"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"hasMemberRelation",{get:function(){return n+"hasMemberRelation"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMemberOfRelation",{get:function(){return n+"isMemberOfRelation"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"membershipResource",{get:function(){return n+"membershipResource"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"insertedContentRelation",{get:function(){return n+"insertedContentRelation"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"constrainedBy",{get:function(){return n+"constrainedBy"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pageSortCriteria",{get:function(){return n+"pageSortCriteria"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pageSortOrder",{get:function(){return n+"pageSortOrder"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pageSortCollation",{get:function(){return n+"pageSortCollation"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pageSequence",{get:function(){return n+"pageSequence"},enumerable:!0,configurable:!0}),e}();t.Predicate=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#";t.namespace=n;var i=function(){function e(){}return e.type=n+"type",e}();t.Predicate=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namespace="http://www.w3.org/2001/vcard-rdf/3.0#";var n=function(){function e(){}return Object.defineProperty(e,"email",{get:function(){return t.namespace+"email"},enumerable:!0,configurable:!0}),e}();t.Predicate=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(110);t.XSD=n},function(e,t,r){"use strict";function n(e){var t=String(e);return 1===t.length&&(t="0"+t),t}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=r(0),s="The value is not a number.",u=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isDate(e))throw new o.IllegalArgumentError("The value is not a Date object.");return e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())},e}();t.DateSerializer=u,t.dateSerializer=new u;var c=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isDate(e))throw new o.IllegalArgumentError("The value is not a Date object.");return e.toISOString()},e}();t.DateTimeSerializer=c,t.dateTimeSerializer=new c;var l=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isDate(e))throw new o.IllegalArgumentError("The value is not a Date object.");return n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},e}();t.TimeSerializer=l,t.timeSerializer=new l;var f=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isNumber(e))throw new o.IllegalArgumentError(s);return(~~e).toString()},e}();t.IntegerSerializer=f,t.integerSerializer=new f;var p=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isNumber(e))throw new o.IllegalArgumentError(s);return Math.trunc(e).toString()},e}();t.LongSerializer=p,t.longSerializer=new p;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.serialize=function(t){var r=e.prototype.serialize.call(this,t);return r=a.S.startsWith(r,"-")?r.substring(1):r},t}(f);t.UnsignedIntegerSerializer=d,t.unsignedIntegerSerializer=new d;var h=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isNumber(e))throw new o.IllegalArgumentError(s);return Math.trunc(Math.abs(e)).toString()},e}();t.UnsignedLongSerializer=h,t.unsignedLongSerializer=new h;var g=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isNumber(e))throw new o.IllegalArgumentError(s);return e===Number.POSITIVE_INFINITY?"INF":e===Number.NEGATIVE_INFINITY?"-INF":e.toString()},e}();t.FloatSerializer=g,t.floatSerializer=new g;var y=function(){function e(){}return e.prototype.serialize=function(e){return(!!e).toString()},e}();t.BooleanSerializer=y,t.booleanSerializer=new y;var v=function(){function e(){}return e.prototype.serialize=function(e){return String(e)},e}();t.StringSerializer=v,t.stringSerializer=new v},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIME_OUT=408]="REQUEST_TIME_OUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",e[e.REQUEST_URI_TOO_LARGE=414]="REQUEST_URI_TOO_LARGE",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIME_OUT=504]="GATEWAY_TIME_OUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(n=t.StatusCode||(t.StatusCode={})),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){return new Promise(function(t,r){t(e)})},e}();t.Class=n,t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(1),o=r(0);t.RDF_CLASS=i.C.Class.AddMemberAction,t.SCHEMA={targetMembers:{"@id":i.C.Predicate.targetMember,"@type":"@id","@container":"@set"}};var a=function(){function e(){}return e.hasClassProperties=function(e){return o.hasPropertyDefined(e,"targetMembers")},e.createDocument=function(e){var r=n.Factory.create();return r.createFragment({targetMembers:e}).types.push(t.RDF_CLASS),r},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),i=r(4),o=r(0),a=function(){function e(){}return e.createFrom=function(e,t,r){var a=t&&o.isString(t)?t:i.URI.Util.generateBNodeID();return r=r||t,n.Factory.createFrom(e,a,r)},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(3),o=r(1),a=r(0);t.RDF_CLASS=o.LDP.Class.DirectContainer;var s=function(){function e(){}return e.hasClassProperties=function(e){return a.hasPropertyDefined(e,"membershipResource")},e.is=function(r){return e.hasClassProperties(r)&&n.Factory.is(r)&&r.hasType(t.RDF_CLASS)},e.create=function(t,r,n){return e.createFrom({},t,r,n)},e.createFrom=function(t,r,s,u){if(e.is(t))throw new i.IllegalArgumentError("The base object is already a DirectContainer.");if(!r)throw new i.IllegalArgumentError("The property membershipResource cannot be null.");if(!s)throw new i.IllegalArgumentError("The property hasMemberRelation cannot be empty.");if(!u&&a.isDefined(u))throw new i.IllegalArgumentError("The property isMemberOfRelation cannot be empty.");var c=t;return n.Factory.is(t)||(c=n.Factory.createFrom(t)),c.types.push(o.LDP.Class.Container),c.types.push(o.LDP.Class.DirectContainer),c.membershipResource=r,c.hasMemberRelation=s,c.isMemberOfRelation=u,c},e}();t.Factory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(0),o=r(53);t.RDF_CLASS=n.C.Class.DocumentMetadata,t.SCHEMA={relatedDocument:{"@id":n.C.Predicate.relatedDocument,"@type":"@id"},eTag:{"@id":n.C.Predicate.eTag,"@type":n.XSD.DataType.string},bNodesMap:{"@id":n.C.Predicate.bNodesMap,"@type":"@id"}};var a=function(){function e(){}return e.hasClassProperties=function(e){return i.hasPropertyDefined(e,"relatedDocument")},e.is=function(r){return o.Factory.is(r)&&e.hasClassProperties(r)&&r.hasType(t.RDF_CLASS)},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.SCHEMA={entryKey:{"@id":n.C.Predicate.entryKey},entryValue:{"@id":n.C.Predicate.entryValue}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.RDF_CLASS=n.C.Class.Error,t.SCHEMA={errorCode:{"@id":n.C.Predicate.errorCode,"@type":n.XSD.DataType.string},errorMessage:{"@id":n.C.Predicate.errorMessage,"@language":"en"},errorParameters:{"@id":n.C.Predicate.errorParameters,"@type":"@id"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(0);t.RDF_CLASS=n.LDP.Class.IndirectContainer;var o=function(){function e(){}return e.hasClassProperties=function(e){return i.hasPropertyDefined(e,"insertedContentRelation")},e}();t.Factory=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(5);t.RDF_CLASS=n.C.Class.Map,t.SCHEMA={entries:{"@id":n.C.Predicate.entry,"@type":"@id","@container":"@set"}};var o=function(){function e(){}return e.is=function(e){return i.Factory.is(e)&&e.hasType(t.RDF_CLASS)&&e.hasOwnProperty("entries")},e}();t.Factory=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(1),o=r(0);t.RDF_CLASS=i.C.Class.RemoveMemberAction,t.SCHEMA={targetMembers:{"@id":i.C.Predicate.targetMember,"@type":"@id","@container":"@set"}};var a=function(){function e(){}return e.hasClassProperties=function(e){return o.hasPropertyDefined(e,"targetMembers")},e.createDocument=function(e){var r=n.Factory.create();return r.createFragment({targetMembers:e}).types.push(t.RDF_CLASS),r},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(53),o=r(0);t.RDF_CLASS=n.C.Class.ResponseMetadata,t.SCHEMA={documentsMetadata:{"@id":n.C.Predicate.documentMetadata,"@type":"@id","@container":"@set"}};var a=function(){function e(){}return e.is=function(e){return i.Factory.is(e)&&o.hasProperty(e,"documentsMetadata")&&e.hasType(t.RDF_CLASS)},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.RDF_CLASS=n.C.Class.ValidationError,t.SCHEMA={errorDetails:{"@id":n.C.Predicate.errorDetails,"@type":"@id"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._username=e,this._password=t}return Object.defineProperty(e.prototype,"username",{get:function(){return this._username},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0}),e}();t.Class=n,t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";function n(e){return o.Factory.is(e)?e:this.getPointer(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(55),o=r(8),a=r(0),s=function(){function e(){}return e.hasClassProperties=function(e){return a.hasPropertyDefined(e,"accessTo")},e.decorate=function(e){var t=i.Factory.decorate(e);Object.defineProperties(t,{_parsePointer:{writable:!0,enumerable:!1,configurable:!0,value:n}});var r=function(e){return e.subjects||t._removeFragment(e),!!e.subjects};return t.entries&&(t.entries=t.entries.filter(r)),t.inheritableEntries&&(t.inheritableEntries=t.inheritableEntries.filter(r)),t},e}();t.Factory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(21),o=r(1),a=r(0);t.RDF_CLASS=o.CS.Class.Role,t.SCHEMA={name:{"@id":o.CS.Predicate.namae,"@type":o.XSD.DataType.string},description:{"@id":o.CS.Predicate.description,"@type":o.XSD.DataType.string},parentRole:{"@id":o.CS.Predicate.parentRole,"@type":"@id"},childRoles:{"@id":o.CS.Predicate.childRole,"@type":"@id","@container":"@set"},users:{"@id":o.CS.Predicate.user,"@type":"@id","@container":"@set"}};var s=function(){function e(){}return e.hasClassProperties=function(e){return a.hasPropertyDefined(e,"name")},e.is=function(t){return e.hasClassProperties(t)&&n.Factory.is(t)},e.create=function(t,r){return e.createFrom({},t,r)},e.createFrom=function(e,t,r){if(n.Factory.hasClassProperties(e)||(e=n.Factory.createFrom(e)),!t)throw new i.default("The name cannot be empty.");var o=e;return o.name=t,o.description=r,o},e}();t.Factory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(7),o=r(20),a=r(13),s=r(60),u=r(0),c=function(){function e(e){this.context=e}return e.prototype.createChild=function(e,t,r,o){var c=this,l=u.isString(e)?e:e.id,f=u.isString(r)?r:null;o=i.Request.Util.isOptions(r)?r:o;var p,d,h;return u.promiseMethod(function(){if(p=c.getContainerURI(),l=a.Util.resolve(p,l),!a.Util.isBaseOf(p,l))throw new n.IllegalArgumentError("The parent role provided is not a valid role.");return c.context.documents.exists(l)}).then(function(e){var r=e[0];e[1];if(!r)throw new n.IllegalArgumentError("The parent role provided doesn't exist.");return c.context.documents.createChild(p,t,f,o)}).then(function(e){var t=e[0],r=e[1];return h=r,d=s.Factory.decorate(t,c.context.documents),c.context.documents.addMember(l,t)}).then(function(e){return[d,h]})},e.prototype.get=function(e,t){var r=this;return u.promiseMethod(function(){return r.context.documents.get(r.resolveURI(e),t)})},e.prototype.listUsers=function(e,t){var r=this;return this.getUsersAccessPoint(e).then(function(e){return r.context.documents.listMembers(e.id,t)}).then(function(e){var t=e[0],n=e[1];return[t.map(function(e){return o.Factory.decorate(e,r.context.documents)}),n]})},e.prototype.getUsers=function(e,t,r){var n=this;return this.getUsersAccessPoint(e).then(function(e){return n.context.documents.getMembers(e.id,t,r)})},e.prototype.addUser=function(e,t,r){return this.addUsers(e,[t],r)},e.prototype.addUsers=function(e,t,r){var n=this;return this.getUsersAccessPoint(e).then(function(e){return n.context.documents.addMembers(e.id,t,r)})},e.prototype.removeUser=function(e,t,r){return this.removeUsers(e,[t],r)},e.prototype.removeUsers=function(e,t,r){var n=this;return this.getUsersAccessPoint(e).then(function(e){return n.context.documents.removeMembers(e.id,t,r)})},e.prototype.resolveURI=function(e){var t=this.getContainerURI(),r=a.Util.resolve(t,e);if(!r.startsWith(t))throw new n.IllegalArgumentError('The provided URI "'+e+"\" isn't a valid Carbon LDP role.");return r},e.prototype.getUsersAccessPoint=function(e){var t=this;return u.promiseMethod(function(){var r=t.resolveURI(e);return t.context.documents.executeSELECTQuery(r,"PREFIX:<https://carbonldp.com/ns/v1/>SELECT DISTINCT?accessPoint{<"+r+">:platform#accessPoint?accessPoint.?accessPoint<http://www.w3.org/ns/ldp#hasMemberRelation>:security#user}")}).then(function(e){var t=e[0];e[1];return t.bindings[0].accessPoint})},e.prototype.getContainerURI=function(){if(!this.context.hasSetting("system.roles.container"))throw new n.IllegalStateError('The "system.roles.container" setting hasn\'t been defined.');return this.context.resolveSystemURI(this.context.getSetting("system.roles.container"))},e}();t.Class=c,t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(8),o=r(5),a=r(13);t.TICKETS_CONTAINER="auth-tickets/",t.RDF_CLASS=n.CS.Class.Ticket,t.SCHEMA={forURI:{"@id":n.CS.Predicate.forIRI,"@type":"@id"},expirationTime:{"@id":n.CS.Predicate.expirationTime,"@type":n.XSD.DataType.dateTime},ticketKey:{"@id":n.CS.Predicate.ticketKey,"@type":n.XSD.DataType.string}};var s=function(){function e(){}return e.create=function(t){return e.createFrom(o.Factory.create(a.Util.generateBNodeID()),t)},e.createFrom=function(e,r){var n=e;return n.forURI=i.Factory.create(r),n.types.push(t.RDF_CLASS),n},e}();t.Factory=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(7),o=r(17),a=r(18),s=r(1),u=r(4),c=r(5),l=r(56),f=r(61),p=r(62),d=r(0);t.TOKEN_CONTAINER="auth-tokens/";var h=function(){function e(e){if(null===e)throw new n.IllegalArgumentError("context cannot be null");this.context=e,this.basicAuthenticator=new l.default}return e.prototype.isAuthenticated=function(){return!!this._credentials&&this._credentials.expirationTime>new Date},e.prototype.authenticate=function(e){var t=this;if(e instanceof p.Class)return this.basicAuthenticator.authenticate(e).then(function(){return t.createToken()}).then(function(e){var r=e[0];e[1];return t.basicAuthenticator.clearAuthentication(),t._credentials=r,r});var r=e;return d.isString(r.expirationTime)&&(e.expirationTime=new Date(r.expirationTime)),r.expirationTime<=new Date?Promise.reject(new n.IllegalArgumentError("The token provided in not valid.")):(this._credentials=r,Promise.resolve(r))},e.prototype.addAuthentication=function(e){var t=e.headers?e.headers:e.headers=new Map;return this.addTokenAuthenticationHeader(t),e},e.prototype.clearAuthentication=function(){this._credentials=null},e.prototype.createToken=function(){var e=this,r={};return this.basicAuthenticator.addAuthentication(r),i.Request.Util.setAcceptHeader("application/ld+json",r),i.Request.Util.setPreferredInteractionModel(s.LDP.Class.RDFSource,r),Promise.resolve().then(function(){var n=e.context.resolveSystemURI(t.TOKEN_CONTAINER);return i.Request.Service.post(n,null,r,new o.Parser.Class)}).then(function(t){var r=t[0],n=t[1],o=u.Node.Util.getFreeNodes(r),s=e.context.documents._getFreeResources(o),l=s.getResources().filter(function(e){return c.Util.hasType(e,f.RDF_CLASS)});if(0===l.length)throw new i.Errors.BadResponseError("No '"+f.RDF_CLASS+"' was returned.",n);if(l.length>1)throw new i.Errors.BadResponseError("Multiple '"+f.RDF_CLASS+"' were returned. ",n);var p=l[0];u.Document.Util.getDocuments(r).filter(function(e){return e["@id"]===p.user.id}).forEach(function(t){return e.context.documents._getPersistedDocument(t,n)});var d=s.getResources().find(a.ResponseMetadata.Factory.is);return d&&d.documentsMetadata.forEach(function(e){e.relatedDocument._etag=e.eTag}),[p,n]})},e.prototype.addTokenAuthenticationHeader=function(e){if(!e.has("authorization")){var t=new i.Header.Class;e.set("authorization",t);var r="Token "+this._credentials.key;t.values.push(new i.Header.Value(r))}},e}();t.Class=h,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(0);t.RDF_CLASS=n.CS.Class.User,t.SCHEMA={name:{"@id":n.CS.Predicate.namae,"@type":n.XSD.DataType.string},credentials:{"@id":n.CS.Predicate.credentials,"@type":"@id"}};var o=function(){function e(){}return e.hasClassProperties=function(e){return i.hasPropertyDefined(e,"name")},e}();t.Factory=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(13),o=r(57),a=r(37),s=function(){function e(e){this.context=e}return e.prototype.register=function(e,t,r){var n=this,i=o.Factory.create(e,t);return i.enabled=r,Promise.resolve().then(function(){var e=n.getCredentialsContainerURI();return n.context.documents.createChildAndRetrieve(e,i)}).then(function(e){var t=e[0],r=e[1];return[t.user,r]})},e.prototype.get=function(e,t){var r=this;return new Promise(function(n){return n(r.context.documents.get(r.resolveURI(e),t))})},e.prototype.enableCredentials=function(e,t){return this.changeEnabledStatus(e,!0,t)},e.prototype.disableCredentials=function(e,t){return this.changeEnabledStatus(e,!1,t)},e.prototype.delete=function(e,t){var r=this;return new Promise(function(n){return n(r.context.documents.delete(r.resolveURI(e),t))})},e.prototype.changeEnabledStatus=function(e,t,r){var n=this;return Promise.resolve().then(function(){var i=n.resolveURI(e),o=n.context.documents.getPointer(i),s=a.Factory.decorate(o,n.context.documents);return t?s.enableCredentials(r):s.disableCredentials(r)})},e.prototype.resolveURI=function(e){var t=this.getContainerURI(),r=i.Util.resolve(t,e);if(!r.startsWith(t))throw new n.IllegalArgumentError('The provided URI "'+e+"\" isn't a valid Carbon LDP user.");return r},e.prototype.getContainerURI=function(){if(!this.context.hasSetting("system.users.container"))throw new n.IllegalStateError('The "system.users.container" setting hasn\'t been defined.');return this.context.resolve(this.context.getSetting("system.users.container"))},e.prototype.getCredentialsContainerURI=function(){if(!this.context.hasSetting("system.credentials.container"))throw new n.IllegalStateError('The "system.credentials.container" setting hasn\'t been defined.');return this.context.resolveSystemURI(this.context.getSetting("system.credentials.container"))},e}();t.Class=s,t.default=s},function(e,t,r){"use strict";var n=r(137),i=r(67),o=r(68),a=r(11),s=r(14),u=r(145),c=r(6),l=r(16),f=function(){function e(){this._prefixes=new Map,this.initInterfaces()}return e.prototype.base=function(e){return this._base=e,this.interfaces.queryClause},e.prototype.vocab=function(e){return this._vocab=e,this.interfaces.queryClause},e.prototype.prefix=function(e,t){return this._prefixes.set(e,{iri:t,used:!1}),this.interfaces.queryClause},e.prototype._select=function(e,t){var r=this;if(t&&0===t.length)throw new Error("IllegalArgumentError: Need to provide al least one variable.");return this._selects=e,t&&t.forEach(function(e){return r._selects.push(c.VAR_SYMBOL,new s.StringLiteral(e))}),Object.assign(this.interfaces.finishClause,this.interfaces.finishSelect),Object.assign({},this.interfaces.whereClause,this.interfaces.fromClause)},e.prototype.select=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._select([c.SELECT],e)},e.prototype.selectDistinct=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._select([c.SELECT,c.DISTINCT],e)},e.prototype.selectReduced=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._select([c.SELECT,c.REDUCED],e)},e.prototype.selectAll=function(){return this._select([c.SELECT,c.ALL])},e.prototype.selectAllDistinct=function(){return this._select([c.SELECT,c.DISTINCT,c.ALL])},e.prototype.selectAllReduced=function(){return this._select([c.SELECT,c.REDUCED,c.ALL])},e.prototype.from=function(e){return this._from=[c.FROM].concat(this._resolveIRI(e)),this.interfaces.whereClause},e.prototype.fromNamed=function(e){return this._from=[c.FROM,c.NAMED].concat(this._resolveIRI(e)),this.interfaces.whereClause},e.prototype.where=function(e){var t=e(new o.PatternBuilder(this));return this._where=[c.WHERE].concat(i.getBlockTokens(t)),Object.assign({},this.interfaces.groupClause,this.interfaces.havingClause,this.interfaces.orderClause,this.interfaces.limitClause,this.interfaces.offsetClause,this.interfaces.finishClause)},e.prototype.groupBy=function(e){return this._group=[c.GROUP,c.BY,new s.StringLiteral(e)],Object.assign({},this.interfaces.havingClause,this.interfaces.orderClause,this.interfaces.limitClause,this.interfaces.offsetClause,this.interfaces.finishClause)},e.prototype.having=function(e){return this._having=[c.HAVING,new s.StringLiteral(e)],Object.assign({},this.interfaces.orderClause,this.interfaces.limitClause,this.interfaces.offsetClause,this.interfaces.finishClause)},e.prototype.orderBy=function(e){return this._order=[c.ORDER,c.BY,new s.StringLiteral(e)],Object.assign({},this.interfaces.limitClause,this.interfaces.offsetClause,this.interfaces.finishClause)},e.prototype.limit=function(e){return this._limit=[c.LIMIT,new u.NumberLiteral(e)],this._offset?this.interfaces.finishClause:Object.assign({},this.interfaces.offsetClause,this.interfaces.finishClause)},e.prototype.offset=function(e){return this._offset=[c.OFFSET,new u.NumberLiteral(e)],this._limit?this.interfaces.finishClause:Object.assign({},this.interfaces.limitClause,this.interfaces.finishClause)},e.prototype.constructQuery=function(e){var t=[];if(this._base&&t.push(c.BASE,c.OPEN_IRI,new s.StringLiteral(this._base),c.CLOSE_IRI),this._prefixes.forEach(function(r,n){(r.used||e===a.TokenFormat.PRETTY)&&t.push(c.PREFIX,new s.StringLiteral(n+":"),c.OPEN_IRI,new s.StringLiteral(r.iri),c.CLOSE_IRI)}),this._selects&&t.push.apply(t,this._selects),this._from&&t.push.apply(t,this._from),this._where&&t.push.apply(t,this._where),this._order&&t.push.apply(t,this._order),this._having&&t.push.apply(t,this._having),this._group&&t.push.apply(t,this._group),this._limit&&t.push.apply(t,this._limit),this._offset&&t.push.apply(t,this._offset),e===a.TokenFormat.COMPACT)return t.reduce(function(r,n,i){var o=t[i+1];return o===c.EMPTY_SEPARATOR&&(o=t[i+2]),r+n.getTokenValue(e,o)},"");if(e===a.TokenFormat.PRETTY){var r=[],n={token:null,indentation:0,subject:0,property:0,spaces:0};return t.reduce(function(i,o,a){var s=t[a+1],u=o.getTokenValue(e,s);if(0===n.spaces?(n.subject+=u.length,u.endsWith(" ")&&n.spaces++):1===n.spaces&&(n.property+=u.length,u.endsWith(" ")&&n.spaces++),-1!==[c.OPEN_MULTI_BLOCK,c.OPEN_MULTI_BN,c.OPEN_MULTI_LIST].indexOf(o))r.push(n),n={token:o,indentation:n.indentation+4,subject:0,property:0,spaces:o===c.OPEN_MULTI_BLOCK?0:o===c.OPEN_MULTI_BN?1:2};else if(-1!==[c.CLOSE_MULTI_LIST].indexOf(o)){if(!(s instanceof l.NewLineSymbol)){for(var f=n;-1===[c.OPEN_MULTI_BLOCK,c.OPEN_MULTI_BN,c.OPEN_MULTI_LIST].indexOf(f.token);)f=r.pop();r.push(f),n={token:o,indentation:f.indentation+4,subject:0,property:0,spaces:1}}}else if(-1!==[c.SAME_SUBJECT_SEPARATOR,c.SAME_PROPERTY_SEPARATOR,c.CLOSE_MULTI_LIST].indexOf(o)){for(var p=n;-1===[c.OPEN_MULTI_BLOCK,c.OPEN_MULTI_BN,c.OPEN_MULTI_LIST,c.CLOSE_MULTI_LIST,c.CLOSE_MULTI_BN].indexOf(p.token);)p=r.pop();r.push(p),o===c.SAME_SUBJECT_SEPARATOR?n={token:o,indentation:p.indentation+n.subject,subject:n.subject,property:0,spaces:1}:o===c.SAME_PROPERTY_SEPARATOR&&(n={token:o,indentation:p.indentation+n.subject+n.property,subject:n.subject,property:n.property,spaces:2})}else if(o===c.GRAPH_PATTERN_SEPARATOR){for(;n.token!==c.OPEN_MULTI_BLOCK;)n=r.pop();n.spaces=0,n.subject=0,n.property=0}if(s===c.CLOSE_MULTI_BLOCK){for(;n.token!==c.OPEN_MULTI_BLOCK;)n=r.pop();n=r.pop()}else if(s===c.CLOSE_MULTI_BN){for(;n.token!==c.OPEN_MULTI_BN;)n=r.pop();n=r.pop()}else if(s===c.CLOSE_MULTI_LIST){for(;n.token!==c.OPEN_MULTI_LIST;)n=r.pop();n=r.pop()}return u.endsWith("\n")&&(u+=" ".repeat(n.indentation)),i+u},"")}},e.prototype.toCompactString=function(){return this.constructQuery(a.TokenFormat.COMPACT)},e.prototype.toString=function(){return this.toCompactString()},e.prototype.toPrettyString=function(){return this.constructQuery(a.TokenFormat.PRETTY)},e.prototype.initInterfaces=function(){this.interfaces={queryClause:{base:this.base.bind(this),vocab:this.vocab.bind(this),prefix:this.prefix.bind(this),select:this.select.bind(this),selectDistinct:this.selectDistinct.bind(this),selectReduced:this.selectReduced.bind(this),selectAll:this.selectAll.bind(this),selectAllDistinct:this.selectAllDistinct.bind(this),selectAllReduced:this.selectAllReduced.bind(this)},fromClause:{from:this.from.bind(this),fromNamed:this.fromNamed.bind(this)},whereClause:{where:this.where.bind(this)},groupClause:{groupBy:this.groupBy.bind(this)},havingClause:{having:this.having.bind(this)},orderClause:{orderBy:this.orderBy.bind(this)},limitClause:{limit:this.limit.bind(this)},offsetClause:{offset:this.offset.bind(this)},finishClause:{toCompactString:this.toCompactString.bind(this),toPrettyString:this.toPrettyString.bind(this)}}},e.prototype._resolveIRI=function(e,t){void 0===t&&(t=!1);var r;if(n.isPrefixed(e)){var i=n.getPrefixedParts(e),o=this._prefixes.get(i[0]);if(void 0===o)throw new Error("IllegalArgumentError: The used prefix has not been declared");r=[new s.StringLiteral(i[0]),c.PREFIX_SYMBOL,new s.StringLiteral(i[1])],o.used=!0}else r=n.resolve(e,t?this._vocab:void 0);return r},e}();t.SPARQLER=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f},function(e,t,r){"use strict";function n(e){return-1!==e.indexOf(":")}function i(e){return-1!==e.indexOf("://")}function o(e){return!n(e)}function a(e){return i(e)||!n(e)}function s(e){return!!e.match(p)&&!i(e)}function u(e){var t=p.exec(e);if(null===t||i(e))return null;var r=t[1]||"";return[r,e.substr(r.length+1).replace(d,"\\$1")]}function c(e,t){var r=[new l.StringLiteral(e)];return a(e)&&(o(e)&&t&&(e=t+e),r=[f.OPEN_IRI,new l.StringLiteral(e),f.CLOSE_IRI]),r}var l=r(14),f=r(6);t.isAbsolute=n,t.hasProtocol=i,t.isRelative=o,t.isIRI=a;var p=/([A-Za-z](([A-Za-z_\-0-9]|\.)*[A-Za-z_\-0-9])?)?:/,d=/([_~.\-!$&'|()*+,;=\/?#@%])/g;t.isPrefixed=s,t.getPrefixedParts=u,t.resolve=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(39),o=r(26),a=r(14),s=r(6),u=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r+"",n}return n(t,e),t}(i.TriplesSubject);t.Literal=u;var c=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.elementTokens=[s.OPEN_QUOTE,new a.StringLiteral(r),s.CLOSE_QUOTE],n}return n(t,e),t.prototype.ofType=function(e){return this.elementTokens=o.addType(this.value,e),this},t.prototype.withLanguage=function(e){return this.elementTokens=[s.OPEN_QUOTE,new a.StringLiteral(this.value),s.CLOSE_QUOTE,s.LANG_SYMBOL,new a.StringLiteral(e)],this},t}(u);t.RDFLiteral=c;var l=function(e){function t(t,r){var n=e.call(this,t,r)||this,i=Number.isInteger(r)?"integer":"float";return n.elementTokens=o.addType(n.value,i),n}return n(t,e),t}(u);t.NumericLiteral=l;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.elementTokens=o.addType(n.value,"boolean"),n}return n(t,e),t}(u);t.BooleanLiteral=f},function(e,t,r){"use strict";t.NAMESPACE="http://www.w3.org/2001/XMLSchema#",t.dateTime=t.NAMESPACE+"dateTime",t.integer=t.NAMESPACE+"integer",t.float=t.NAMESPACE+"float",t.boolean=t.NAMESPACE+"boolean",t.string=t.NAMESPACE+"string"},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(39),o=function(e){function t(t,r){var n=e.call(this,t)||this;return n.elementTokens=t._resolveIRI(r),n}return n(t,e),t}(i.TriplesSubject);t.Resource=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(39),o=r(14),a=r(6),s=function(e){function t(t,r){var n=e.call(this,t)||this;return n.elementTokens=[a.VAR_SYMBOL,new o.StringLiteral(r)],n}return n(t,e),t}(i.TriplesSubject);t.Variable=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(6),o=r(40),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getSelfTokens=function(){return this.patternTokens.find(function(e){return e===i.SAME_SUBJECT_SEPARATOR||e===i.SAME_PROPERTY_SEPARATOR})?[i.OPEN_MULTI_BN].concat(this.patternTokens,[i.CLOSE_MULTI_BN]):[i.OPEN_SINGLE_BN].concat(this.patternTokens,[i.CLOSE_SINGLE_BN])},t.prototype.init=function(){var t=this;e.prototype.init.call(this),this.interfaces.graphPattern={getPattern:function(){return t.getSelfTokens()},getSelfTokens:function(){return t.getSelfTokens()}}},t}(o.TriplesPattern);t.BlankNode=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(6),o=r(40),a=r(26),s=r(16),u=function(e){function t(t,r){var n=e.call(this,t)||this,o=[];r.forEach(function(e,t){o.push.apply(o,a.serialize(e)),t<r.length-1&&o.push(i.EMPTY_SEPARATOR)});var u=r.length<=1&&!o.find(function(e){return e instanceof s.NewLineSymbol});return n.elementTokens=[u?i.OPEN_SINGLE_LIST:i.OPEN_MULTI_LIST].concat(o,[u?i.CLOSE_SINGLE_LIST:i.CLOSE_MULTI_LIST]),n}return n(t,e),t.prototype.getPattern=function(){return this.getSelfTokens().concat(this.patternTokens)},t.prototype.init=function(){var t=this;e.prototype.init.call(this),this.interfaces.graphPattern={getPattern:function(){return t.getPattern()},getSelfTokens:function(){return t.getSelfTokens()}}},t}(o.TriplesPattern);t.Collection=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(69),o=r(6),a=r(26),s=function(e){function t(t,r){var n=e.call(this,[o.VALUES])||this;return n.init(),n.resolver=t,n.length=r.length,1===n.length?(i=n.patternTokens).push.apply(i,r[0].getSelfTokens().concat([o.OPEN_SINGLE_BLOCK])):(n.patternTokens.push(o.OPEN_SINGLE_LIST),r.forEach(function(e){return(t=n.patternTokens).push.apply(t,e.getSelfTokens());var t}),n.patternTokens.push(o.CLOSE_SINGLE_LIST,o.OPEN_MULTI_BLOCK)),n;var i}return n(t,e),t.prototype.has=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.length!==t.length)throw new Error("InvalidArgumentError: The number of variables and values are different.");return 1===this.length?(n=this.patternTokens).push.apply(n,a.serialize(t[0])):(this.patternTokens.push(o.OPEN_SINGLE_LIST),t.forEach(function(t){return(r=e.patternTokens).push.apply(r,a.serialize(t));var r}),this.patternTokens.push(o.CLOSE_SINGLE_LIST)),this.interfaces.addPattern;var n},t.prototype.getPattern=function(){return 1===this.length?this.patternTokens.push(o.CLOSE_SINGLE_BLOCK):this.patternTokens.push(o.CLOSE_MULTI_BLOCK),this.patternTokens},t.prototype.init=function(){var e=this;this.interfaces={addPattern:{and:this.has.bind(this),getPattern:function(){return e.getPattern()}}}},t}(i.NotTriplesPattern);t.ValuesPattern=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(11),o=r(15),a=r(25),s=r(38),u=function(e){function t(t){return e.call(this,t+"")||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof o.Identifier?i.NEW_LINE_SEPARATOR:e instanceof a.Operator||e instanceof s.RightSymbol?i.EMPTY_SEPARATOR:i.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return this.constructor===e.constructor?i.SPACE_SEPARATOR:i.EMPTY_SEPARATOR},t}(i.Token);t.NumberLiteral=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(){function e(){}return Object.defineProperty(e,"URI",{get:function(){return"uri"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LITERAL",{get:function(){return"literal"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"BNODE",{get:function(){return"bnode"},enumerable:!0,configurable:!0}),e}();t.ValueTypes=i;var o=function(){function e(){}return e.hasClassProperties=function(e){return n.hasPropertyDefined(e,"head")},e.is=function(t){return n.isObject(t)&&e.hasClassProperties(t)},e}();t.Factory=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(7),o=r(4),a=r(0),s=r(70),u=function(){function e(){}return e.executeRawASKQuery=function(t,r,n){return void 0===n&&(n={}),n=a.extend(n,e.defaultOptions),i.Request.Util.setAcceptHeader("application/sparql-results+json",n),i.Request.Util.setContentTypeHeader("application/sparql-query",n),i.Request.Service.post(t,r,n,e.resultsParser)},e.executeASKQuery=function(t,r,n){return void 0===n&&(n={}),e.executeRawASKQuery(t,r,n).then(function(e){var t=e[0],r=e[1];return[t.boolean,r]})},e.executeRawSELECTQuery=function(t,r,n){return void 0===n&&(n={}),n=a.extend(n,e.defaultOptions),i.Request.Util.setAcceptHeader("application/sparql-results+json",n),i.Request.Util.setContentTypeHeader("application/sparql-query",n),i.Request.Service.post(t,r,n,e.resultsParser)},e.executeSELECTQuery=function(t,r,n,i){return void 0===i&&(i={}),e.executeRawSELECTQuery(t,r,i).then(function(t){for(var r=t[0],i=t[1],o=r.results.bindings,a=[],s=0,u=o;s<u.length;s++){var c=u[s],l={};for(var f in c)if(c.hasOwnProperty(f)){var p=c[f];l[f]=e.parseRawBindingProperty(p,n)}a.push(l)}return[{vars:r.head.vars,bindings:a},i]})},e.executeRawCONSTRUCTQuery=function(t,r,n){return void 0===n&&(n={}),n=a.extend(n,e.defaultOptions),void 0===i.Request.Util.getHeader("Accept",n)&&i.Request.Util.setAcceptHeader("application/ld+json",n),i.Request.Util.setContentTypeHeader("application/sparql-query",n),i.Request.Service.post(t,r,n,e.stringParser)},e.executeRawDESCRIBEQuery=function(t,r,n){return void 0===n&&(n={}),n=a.extend(n,e.defaultOptions),void 0===i.Request.Util.getHeader("Accept",n)&&i.Request.Util.setAcceptHeader("application/ld+json",n),i.Request.Util.setContentTypeHeader("application/sparql-query",n),i.Request.Service.post(t,r,n,e.stringParser)},e.executeUPDATE=function(t,r,n){return void 0===n&&(n={}),n=a.extend(n,e.defaultOptions),void 0===i.Request.Util.getHeader("Accept",n)&&i.Request.Util.setAcceptHeader("application/ld+json",n),i.Request.Util.setContentTypeHeader("application/sparql-update",n),i.Request.Service.post(t,r,n)},e.parseRawBindingProperty=function(e,t){switch(e.type){case"uri":return t.getPointer(e.value);case"bnode":throw new n.NotImplementedError("BNodes cannot be queried directly");case"literal":return"datatype"in e?o.Literal.Factory.parse(e.value,e.datatype):o.Literal.Factory.parse(e.value);default:throw new n.IllegalArgumentError("The bindingProperty has an unsupported type")}},e.defaultOptions={},e.resultsParser=new s.default,e.stringParser=new i.StringParser.Class,e}();t.Class=u,t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),i=r(9),o=r(22),a=r(13),s=r(0),u=["numeric","string","boolean","dateTime"],c=function(){function e(){}return e.is=function(e){return s.hasPropertyDefined(e,"orderBy")||s.hasPropertyDefined(e,"limit")||s.hasPropertyDefined(e,"offset")},e}();t.Factory=c;var l=function(){function e(){}return e.stringifyRetrievalPreferences=function(e,t){var r="";if("limit"in e&&(r+="limit="+e.limit),"offset"in e&&(r+=(r?"&":"")+"offset="+e.offset),"orderBy"in e&&e.orderBy.length>0){r+=(r?"&":"")+"orderBy=";for(var s=[],c=0,l=e.orderBy;c<l.length;c++){var f=l[c],p="";if("@id"in f){var d=f["@id"],h=!1;d.startsWith("-")&&(h=!0,d=d.substr(1)),t&&a.Util.isRelative(d)&&(d=i.Util.resolveURI(d,t)),p+=(h?"-":"")+"<"+encodeURI(d).replace("#","%23")+">"}if("@type"in f){if(!p)throw new n.default("The @id property is missing in OrderBy property.");var g=f["@type"];if(-1===u.indexOf(g))throw new n.default("The @type value specified is not valid.");"numeric"!==g&&(g="<"+encodeURI(o.DataType[g]).replace("#","%23")+">"),p+=";"+g}if("@language"in f){if(!p)throw new n.default("The @id property is missing in OrderBy property.");p+=";"+f["@language"]}s.push(p)}r+=s.join(",")}return r?"?"+r:r},e}();t.Util=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(23),o=r(0);t.RDF_CLASS=n.C.Class.RDFRepresentation,t.SCHEMA={mediaType:{"@id":n.C.Predicate.mediaType,"@type":n.XSD.DataType.string},size:{"@id":n.C.Predicate.size,"@type":n.XSD.DataType.long}};var a=function(){function e(){}return e.hasClassProperties=function(e){return o.hasPropertyDefined(e,"mediaType")&&o.hasPropertyDefined(e,"size")},e.is=function(r){return e.hasClassProperties(r)&&i.Factory.is(r)&&r.hasType(t.RDF_CLASS)},e}();t.Factory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.RDF_CLASS=n.C.Class.Platform,t.SCHEMA={version:{"@id":n.C.Predicate.version,"@type":n.XSD.DataType.string},buildDate:{"@id":n.C.Predicate.buildDate,"@type":n.XSD.DataType.dateTime}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.RDF_CLASS=n.C.Class.Instance,t.SCHEMA={name:{"@id":n.CS.Predicate.namae,"@type":n.XSD.DataType.string},description:{"@id":n.CS.Predicate.description,"@type":n.XSD.DataType.string},allowsOrigins:{"@id":n.CS.Predicate.allowsOrigin,"@container":"@set"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19);t.defaultSettings={"auth.method":n.Method.TOKEN,"system.container":".system/","system.platform.metadata":"platform/","system.instance.metadata":"instance/","system.users.container":"users/","system.credentials.container":"credentials/","system.roles.container":"roles/",vocabulary:"vocabulary/#"},t.default=t.defaultSettings}])});