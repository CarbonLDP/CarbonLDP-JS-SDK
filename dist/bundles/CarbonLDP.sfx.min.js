!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CarbonLDP=t():e.CarbonLDP=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=180)}([function(e,t,r){"use strict";function n(e,t){return"function"==typeof e[t]}function o(e,t){return!!e&&s(e[t])}function i(e,t){return!!e&&!!Object.getOwnPropertyDescriptor(e,t)}function s(e){return void 0!==e}function a(e){return null===e}function c(e){return Array.isArray(e)}function u(e){return"string"==typeof e||e instanceof String}function l(e){return"boolean"==typeof e}function f(e){return"number"==typeof e||e instanceof Number}function p(e){return!!f(e)&&e%1==0}function d(e){return!!f(e)&&e%1!=0}function h(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function v(e){return"object"==typeof e&&!!e}function y(e){return v(e)&&!c(e)&&!h(e)&&!m(e)&&!("undefined"!=typeof Blob&&e instanceof Blob)&&!("[object Set]"===Object.prototype.toString.call(e))}function g(e){return"function"==typeof e}function m(e){return v(e)&&n(e,"get")&&n(e,"has")&&o(e,"size")&&n(e,"clear")&&n(e,"delete")&&n(e,"entries")&&n(e,"forEach")&&n(e,"get")&&n(e,"has")&&n(e,"keys")&&n(e,"set")&&n(e,"values")}function _(e){if(!u(e))return!1;switch(e.toLowerCase()){case"true":case"yes":case"y":case"1":return!0;case"false":case"no":case"n":case"0":default:return!1}}function b(e,t){if(!v(e)&&!g(e))throw new Error("IllegalArgument");for(var r in e)if(e.hasOwnProperty(r)&&!1===t(r,e[r]))break}function P(e){return new Promise(function(t){return t(e?e():void 0)})}function O(e){var t=[],r=[];return e.forEach(function(e){t.push(e[0]),r.push(e[1])}),[t,r]}function T(e,t,r,n,o,i){if(void 0===i&&(i={}),e===t)return!0;if(!v(e)||!v(t))return!1;if(h(e))return e.getTime()===t.getTime();for(var s=S.joinWithoutDuplicates(Object.keys(e),Object.keys(t)),a=0,u=s;a<u.length;a++){var l=u[a];if(!(l in e&&l in t))return!1;if(typeof e!=typeof t)return!1;if(!(l in i)&&!g(e[l])){var f=y(e[l]);if(c(e[l])&&r.arrays||f&&r.objects||h(e[l])){if(f){for(var p=n.length;p--;)if(n[p]===e[l])return o[p]===t[l];n.push(e[l]),o.push(t[l])}if(!T(e[l],t[l],r,n,o))return!1;f&&(n.pop(),o.pop())}else if(e[l]!==t[l])return!1}}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.hasFunction=n,t.hasProperty=o,t.hasPropertyDefined=i,t.isDefined=s,t.isNull=a,t.isArray=c,t.isString=u,t.isBoolean=l,t.isNumber=f,t.isInteger=p,t.isDouble=d,t.isDate=h,t.isObject=v,t.isPlainObject=y,t.isFunction=g,t.isMap=m,t.parseBoolean=_,t.forEachOwnProperty=b,t.promiseMethod=P,t.mapTupleArray=O;var S=function(){function e(){}return e.from=function(e){for(var t=[],r=e.next();!r.done;)t.push(r.value),r=e.next();return t},e.joinWithoutDuplicates=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0].slice(),n=1,o=e.length;n<o;n++)r=r.concat(e[n].filter(function(e){return r.indexOf(e)<0}));return r},e.indexOf=function(e,t,r){if(void 0===r&&(r=function(e,t){return e===t}),!e)return-1;for(var n=0,o=e.length;n<o;++n)if(r(e[n],t))return n;return-1},e}();t.ArrayUtils=S;var w=function(){function e(){}return e.extend=function(t,r,n){if(void 0===n&&(n={arrays:!1,objects:!1}),!c(r)&&!y(r)||!c(t)&&!y(t))return null;r.__CarbonSDK_circularReferenceFlag=t;for(var o=0,i=Object.keys(r);o<i.length;o++){var s=i[o];if(!g(r[s])&&"__CarbonSDK_circularReferenceFlag"!==s){var a=r[s];(c(a)&&n.arrays||y(a)&&n.objects)&&(a="__CarbonSDK_circularReferenceFlag"in a?a.__CarbonSDK_circularReferenceFlag:s in t&&t[s].constructor===a.constructor?e.extend(t[s],a,n):e.clone(a,n)),null!==a?t[s]=a:t[s]&&delete t[s]}}return delete r.__CarbonSDK_circularReferenceFlag,t},e.clone=function(t,r){void 0===r&&(r={arrays:!1,objects:!1});var n=c(t);if(!n&&!y(t))return null;var o=n?[]:Object.create(Object.getPrototypeOf(t));return e.extend(o,t,r)},e.areEqual=function(e,t,r,n){return void 0===r&&(r={arrays:!1,objects:!1}),void 0===n&&(n={}),T(e,t,r,[e],[t],n)},e.areShallowlyEqual=function(e,t){if(e===t)return!0;if(!v(e)||!v(t))return!1;var r=[];for(var n in e)if(e.hasOwnProperty(n)&&!g(e[n])){if(!(n in t))return!1;if(e[n]!==t[n])return!1;r.push(n)}for(var n in t)if(t.hasOwnProperty(n)&&!g(t[n])){if(!(n in e))return!1;if(-1===r.indexOf(n))return!1}return!0},e}();t.ObjectUtils=w;var E=function(){function e(){}return e.startsWith=function(e,t){return 0===e.lastIndexOf(t,0)},e.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},e.contains=function(e,t){return-1!==e.indexOf(t)},e}();t.StringUtils=E;var R=function(){function e(){}return e.from=function(e){var t=new Map;return b(e,function(e,r){t.set(e,r)}),t},e.extend=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,o=t.length;n<o;n++){var i=t[n];if(i)for(var s=i.entries(),a=s.next();!a.done;){var c=a.value,u=c[0],l=c[1];e.set(u,l),a=s.next()}}return e},e}();t.MapUtils=R;var j=function(){function e(){}return e.is=function(t){return e.regExp.test(t)},e.generate=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.regExp=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,e}();t.UUIDUtils=j},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(11)),n(r(65)),n(r(239)),n(r(240)),n(r(66)),n(r(241)),n(r(14))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(28)),n(r(202)),n(r(203)),n(r(29)),n(r(62)),n(r(204)),n(r(205))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(38)),n(r(86)),n(r(60)),n(r(182)),n(r(49)),n(r(61)),n(r(37)),n(r(25)),n(r(183)),n(r(184)),n(r(87)),n(r(88)),n(r(89)),n(r(90)),n(r(91)),n(r(185)),n(r(92)),n(r(186)),n(r(187)),n(r(188)),n(r(189)),n(r(190)),n(r(191)),n(r(192)),n(r(193)),n(r(194)),n(r(195)),n(r(196)),n(r(197)),n(r(198)),n(r(199)),n(r(200)),n(r(201))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(7),s=function(e){function t(t,r){var n=e.call(this,t)||this;return i.TransientResource.createFrom(n),n.errors=[],n.requestID=null,n.response=r,n.statusCode=r.status,n}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"HTTPError"},enumerable:!0,configurable:!0}),t}(o.AbstractError);t.HTTPError=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.VAR_SYMBOL=new n.LeftSymbol("?"),t.PREFIX_SYMBOL=new n.Operator(":"),t.OFF_TYPE=new n.Operator("^^"),t.LANG_SYMBOL=new n.Operator("@"),t.ALL=new n.RightSymbol("*"),t.OPEN_IRI=new n.LeftSymbol("<"),t.CLOSE_IRI=new n.RightSymbol(">"),t.OPEN_QUOTE=new n.LeftSymbol('"'),t.CLOSE_QUOTE=new n.RightSymbol('"'),t.GRAPH_PATTERN_SEPARATOR=new n.NewLineSymbol("."),t.SAME_SUBJECT_SEPARATOR=new n.NewLineSymbol(";"),t.SAME_PROPERTY_SEPARATOR=new n.NewLineSymbol(","),t.EMPTY_SEPARATOR=new n.NewLineSymbol(""),t.OPEN_MULTI_BLOCK=new n.NewLineSymbol("{"),t.CLOSE_MULTI_BLOCK=new n.NewLineSymbol("}"),t.OPEN_SINGLE_BLOCK=new n.LeftSymbol("{"),t.CLOSE_SINGLE_BLOCK=new n.RightSymbol("}"),t.OPEN_MULTI_BN=new n.NewLineSymbol("["),t.CLOSE_MULTI_BN=new n.NewLineSymbol("]"),t.OPEN_SINGLE_BN=new n.LeftSymbol("["),t.CLOSE_SINGLE_BN=new n.RightSymbol("]"),t.OPEN_MULTI_LIST=new n.NewLineSymbol("("),t.CLOSE_MULTI_LIST=new n.NewLineSymbol(")"),t.OPEN_SINGLE_LIST=new n.LeftSymbol("("),t.CLOSE_SINGLE_LIST=new n.RightSymbol(")"),t.BASE=new n.Identifier("BASE"),t.PREFIX=new n.Identifier("PREFIX"),t.SELECT=new n.Identifier("SELECT"),t.FROM=new n.Identifier("FROM"),t.NAMED=new n.Identifier("NAMED"),t.WHERE=new n.Identifier("WHERE"),t.GROUP=new n.Identifier("GROUP"),t.BY=new n.Identifier("BY"),t.HAVING=new n.Identifier("HAVING"),t.ORDER=new n.Identifier("ORDER"),t.LIMIT=new n.Identifier("LIMIT"),t.OFFSET=new n.Identifier("OFFSET"),t.GRAPH=new n.Identifier("GRAPH"),t.OPTIONAL=new n.Identifier("OPTIONAL"),t.UNION=new n.Identifier("UNION"),t.MINUS=new n.Identifier("MINUS"),t.VALUES=new n.Identifier("VALUES"),t.UNDEF=new n.Identifier("UNDEF"),t.DISTINCT=new n.Identifier("DISTINCT"),t.REDUCED=new n.Identifier("REDUCED"),t.SERVICE=new n.Identifier("SERVICE"),t.SILENT=new n.Identifier("SILENT"),t.BIND=new n.Identifier("BIND"),t.AS=new n.Identifier("AS"),t.FILTER=new n.Identifier("FILTER")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(211);t.PersistedResource=n.PersistedResource;var o=r(103);t.TransientResource=o.TransientResource},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(n){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,n)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=Object({NODE_ENV:"prod"}).DEBUG),e}t=e.exports=r(282),t.log=s,t.formatArgs=i,t.save=a,t.load=c,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,r(102))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(98)),n(r(40)),n(r(52)),n(r(51)),n(r(41)),n(r(108))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.C={namespace:"https://carbonldp.com/ns/v1/platform#",AccessPoint:"https://carbonldp.com/ns/v1/platform#AccessPoint",AccessPointCreated:"https://carbonldp.com/ns/v1/platform#AccessPointCreated",AddMemberAction:"https://carbonldp.com/ns/v1/platform#AddMemberAction",ChildCreated:"https://carbonldp.com/ns/v1/platform#ChildCreatedEvent",Document:"https://carbonldp.com/ns/v1/platform#Document",DocumentCreatedDetails:"https://carbonldp.com/ns/v1/platform#DocumentCreatedEventDetails",DocumentDeleted:"https://carbonldp.com/ns/v1/platform#DocumentDeleted",DocumentMetadata:"https://carbonldp.com/ns/v1/platform#DocumentMetadata",DocumentModified:"https://carbonldp.com/ns/v1/platform#DocumentModified",ErrorResponse:"https://carbonldp.com/ns/v1/platform#ErrorResponse",Error:"https://carbonldp.com/ns/v1/platform#Error",Instance:"https://carbonldp.com/ns/v1/platform#Instance",Map:"https://carbonldp.com/ns/v1/platform#Map",MemberAdded:"https://carbonldp.com/ns/v1/platform#MemberAddedEvent",MemberAddedDetails:"https://carbonldp.com/ns/v1/platform#MemberAddedEventDetails",MemberRemoved:"https://carbonldp.com/ns/v1/platform#MemberRemovedEvent",MemberRemovedDetails:"https://carbonldp.com/ns/v1/platform#MemberRemovedEventDetails",NonReadableMembershipResourceTriples:"https://carbonldp.com/ns/v1/platform#NonReadableMembershipResourceTriples",Platform:"https://carbonldp.com/ns/v1/platform#Platform",PlatformInstance:"https://carbonldp.com/ns/v1/platform#PlatformInstance",PreferContainer:"https://carbonldp.com/ns/v1/platform#PreferContainer",PreferContainmentResources:"https://carbonldp.com/ns/v1/platform#PreferContainmentResources",PreferContainmentTriples:"https://carbonldp.com/ns/v1/platform#PreferContainmentTriples",PreferDocumentETags:"https://carbonldp.com/ns/v1/platform#PreferDocumentETags",PreferMembershipResources:"https://carbonldp.com/ns/v1/platform#PreferMembershipResources",PreferMembershipTriples:"https://carbonldp.com/ns/v1/platform#PreferMembershipTriples",PreferResultsContext:"https://carbonldp.com/ns/v1/platform#PreferResultsContext",PreferSelectedMembershipTriples:"https://carbonldp.com/ns/v1/platform#PreferSelectedMembershipTriples",QueryMetadata:"https://carbonldp.com/ns/v1/platform#QueryMetadata",RemoveMemberAction:"https://carbonldp.com/ns/v1/platform#RemoveMemberAction",ResponseMetadata:"https://carbonldp.com/ns/v1/platform#ResponseMetadata",ValidationError:"https://carbonldp.com/ns/v1/platform#ValidationError",VolatileResource:"https://carbonldp.com/ns/v1/platform#VolatileResource",accessPoint:"https://carbonldp.com/ns/v1/platform#accessPoint",bNodesMap:"https://carbonldp.com/ns/v1/platform#bNodesMap",buildDate:"https://carbonldp.com/ns/v1/platform#buildDate",created:"https://carbonldp.com/ns/v1/platform#created",createdDocument:"https://carbonldp.com/ns/v1/platform#createdDocument",details:"https://carbonldp.com/ns/v1/platform#details",defaultInteractionModel:"https://carbonldp.com/ns/v1/platform#defaultInteractionModel",documentMetadata:"https://carbonldp.com/ns/v1/platform#documentMetadata",entry:"https://carbonldp.com/ns/v1/platform#entry",entryKey:"https://carbonldp.com/ns/v1/platform#key",entryValue:"https://carbonldp.com/ns/v1/platform#value",error:"https://carbonldp.com/ns/v1/platform#error",errorCode:"https://carbonldp.com/ns/v1/platform#errorCode",errorDetails:"https://carbonldp.com/ns/v1/platform#errorDetails",errorMessage:"https://carbonldp.com/ns/v1/platform#errorMessage",errorParameters:"https://carbonldp.com/ns/v1/platform#errorParameters",eTag:"https://carbonldp.com/ns/v1/platform#eTag",httpStatusCode:"https://carbonldp.com/ns/v1/platform#httpStatusCode",instance:"https://carbonldp.com/ns/v1/platform#instance",mediaType:"https://carbonldp.com/ns/v1/platform#mediaType",member:"https://carbonldp.com/ns/v1/platform#member",modified:"https://carbonldp.com/ns/v1/platform#modified",requestID:"https://carbonldp.com/ns/v1/platform#requestID",relatedDocument:"https://carbonldp.com/ns/v1/platform#relatedDocument",size:"https://carbonldp.com/ns/v1/platform#size",target:"https://carbonldp.com/ns/v1/platform#target",targetMember:"https://carbonldp.com/ns/v1/platform#targetMember",version:"https://carbonldp.com/ns/v1/platform#version"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(94);t.ContainerType=n.ContainerType;var o=r(95);t.DigestedObjectSchema=o.DigestedObjectSchema;var i=r(96);t.DigestedObjectSchemaProperty=i.DigestedObjectSchemaProperty;var s=r(206);t.ObjectSchemaDigester=s.ObjectSchemaDigester;var a=r(242);t.ObjectSchemaResolver=a.ObjectSchemaResolver;var c=r(97);t.ObjectSchemaUtils=c.ObjectSchemaUtils;var u=r(109);t.PointerType=u.PointerType},function(e,t,r){"use strict";function n(){i.call(this)}var o=r(2),i=r(138);o(n,i),n.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},n.prototype.once=function(e,t){function r(){n.removeListener(e,r),o||(o=!0,t.apply(this,arguments))}var n=this,o=!1;this.on(e,r)},n.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),o=1;o<r;o++)n[o-1]=arguments[o];for(var i=0;i<t.length;i++)t[i].apply(this,n)}},n.prototype.on=n.prototype.addListener=i.prototype.addEventListener,n.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XSD={namespace:"http://www.w3.org/2001/XMLSchema#",boolean:"http://www.w3.org/2001/XMLSchema#boolean",byte:"http://www.w3.org/2001/XMLSchema#byte",date:"http://www.w3.org/2001/XMLSchema#date",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",decimal:"http://www.w3.org/2001/XMLSchema#decimal",double:"http://www.w3.org/2001/XMLSchema#double",duration:"http://www.w3.org/2001/XMLSchema#duration",float:"http://www.w3.org/2001/XMLSchema#float",gDay:"http://www.w3.org/2001/XMLSchema#gDay",gMonth:"http://www.w3.org/2001/XMLSchema#gMonth",gMonthDay:"http://www.w3.org/2001/XMLSchema#gMonthDay",gYear:"http://www.w3.org/2001/XMLSchema#gYear",gYearMonth:"http://www.w3.org/2001/XMLSchema#gYearMonth",int:"http://www.w3.org/2001/XMLSchema#int",integer:"http://www.w3.org/2001/XMLSchema#integer",long:"http://www.w3.org/2001/XMLSchema#long",negativeInteger:"http://www.w3.org/2001/XMLSchema#negativeInteger",nonNegativeInteger:"http://www.w3.org/2001/XMLSchema#nonNegativeInteger",nonPositiveInteger:"http://www.w3.org/2001/XMLSchema#nonPositiveInteger",object:"http://www.w3.org/2001/XMLSchema#object",positiveInteger:"http://www.w3.org/2001/XMLSchema#positiveInteger",short:"http://www.w3.org/2001/XMLSchema#short",string:"http://www.w3.org/2001/XMLSchema#string",time:"http://www.w3.org/2001/XMLSchema#time",unsignedByte:"http://www.w3.org/2001/XMLSchema#unsignedByte",unsignedInt:"http://www.w3.org/2001/XMLSchema#unsignedInt",unsignedLong:"http://www.w3.org/2001/XMLSchema#unsignedLong",unsignedShort:"http://www.w3.org/2001/XMLSchema#unsignedShort"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(215))},function(e,t,r){"use strict";var n=r(137),o=function(){};o=r(9)("sockjs-client:utils:url"),e.exports={getOrigin:function(e){if(!e)return null;var t=new n(e);if("file:"===t.protocol)return null;var r=t.port;return r||(r="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return o("same",e,t,r),r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(216))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(67);t.BasePersistedDocument=o.BasePersistedDocument;var i=r(72);t.CRUDDocument=i.CRUDDocument,n(r(263)),n(r(53))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(153),o=r(154),i=r(33),s=function(){function e(t,r,s){var a=this.constructor,c=t instanceof Function?void 0:t,u=t instanceof Function?t:n.finishDecorator;this._iriResolver=u!==o.subFinishDecorator?s||(c?c._iriResolver?new i.IRIResolver(c._iriResolver):void 0:new i.IRIResolver):void 0;var l=c?c._tokens:[];r||(r=[]),this._tokens=l.concat(r),this._finishDecorator=c?c._finishDecorator:u,a===e&&Object.freeze(this)}return e}();t.Container=s,t.default=s},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(250)),n(r(251)),n(r(252)),n(r(253)),n(r(255)),n(r(256)),n(r(257)),n(r(258)),n(r(117))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(153)),n(r(310)),n(r(154)),n(r(311)),n(r(312)),n(r(313)),n(r(318)),n(r(319)),n(r(320)),n(r(321))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(245)),n(r(111))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(247)),n(r(261)),n(r(99)),n(r(100))},function(e,t,r){(function(e,n){var o;(function(){function i(e,t){function r(e){if(r[e]!==y)return r[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=r("json-stringify")&&r("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,l="function"==typeof u&&_;if(l){(s=function(){return 1}).toJSON=s;try{l="0"===u(0)&&"0"===u(new n)&&'""'==u(new o)&&u(m)===y&&u(y)===y&&u()===y&&"1"===u(s)&&"[1]"==u([s])&&"[null]"==u([y])&&"null"==u(null)&&"[null,null,null]"==u([y,m,null])&&u({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===u(null,s)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new c(-1))}catch(e){l=!1}}i=l}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){s=f(a);var p=5==s.a.length&&1===s.a[0];if(p){try{p=!f('"\t"')}catch(e){}if(p)try{p=1!==f("01")}catch(e){}if(p)try{p=1!==f("1.")}catch(e){}}}}catch(e){p=!1}i=p}}return r[e]=!!i}e||(e=u.Object()),t||(t=u.Object());var n=e.Number||u.Number,o=e.String||u.String,s=e.Object||u.Object,c=e.Date||u.Date,l=e.SyntaxError||u.SyntaxError,f=e.TypeError||u.TypeError,p=e.Math||u.Math,d=e.JSON||u.JSON;"object"==typeof d&&d&&(t.stringify=d.stringify,t.parse=d.parse);var h,v,y,g=s.prototype,m=g.toString,_=new c(-0xc782b5b800cec);try{_=-109252==_.getUTCFullYear()&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(e){}if(!r("json")){var b=r("bug-string-char-index");if(!_)var P=p.floor,O=[0,31,59,90,120,151,181,212,243,273,304,334],T=function(e,t){return O[t]+365*(e-1970)+P((e-1969+(t=+(t>1)))/4)-P((e-1901+t)/100)+P((e-1601+t)/400)};if((h=g.hasOwnProperty)||(h=function(e){var t,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=m?h=function(e){var t=this.__proto__,r=e in(this.__proto__=null,this);return this.__proto__=t,r}:(t=r.constructor,h=function(e){var r=(this.constructor||t).prototype;return e in this&&!(e in r&&this[e]===r[e])}),r=null,h.call(this,e)}),v=function(e,t){var r,n,o,i=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r;for(o in n)h.call(n,o)&&i++;return r=n=null,i?v=2==i?function(e,t){var r,n={},o="[object Function]"==m.call(e);for(r in e)o&&"prototype"==r||h.call(n,r)||!(n[r]=1)||!h.call(e,r)||t(r)}:function(e,t){var r,n,o="[object Function]"==m.call(e);for(r in e)o&&"prototype"==r||!h.call(e,r)||(n="constructor"===r)||t(r);(n||h.call(e,r="constructor"))&&t(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],v=function(e,t){var r,o,i="[object Function]"==m.call(e),s=!i&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(r in e)i&&"prototype"==r||!s.call(e,r)||t(r);for(o=n.length;r=n[--o];s.call(e,r)&&t(r));}),v(e,t)},!r("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},w=function(e,t){return("000000"+(t||0)).slice(-e)},E=function(e){for(var t='"',r=0,n=e.length,o=!b||n>10,i=o&&(b?e.split(""):e);r<n;r++){var s=e.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=S[s];break;default:if(s<32){t+="\\u00"+w(2,s.toString(16));break}t+=o?i[r]:e.charAt(r)}}return t+'"'},R=function(e,t,r,n,o,i,s){var a,c,u,l,p,d,g,_,b,O,S,j,A,D,M,C;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if("[object Date]"!=(c=m.call(a))||h.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||h.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(T){for(p=P(a/864e5),u=P(p/365.2425)+1970-1;T(u+1,0)<=p;u++);for(l=P((p-T(u,0))/30.42);T(u,l+1)<=p;l++);p=1+p-T(u,l),d=(a%864e5+864e5)%864e5,g=P(d/36e5)%24,_=P(d/6e4)%60,b=P(d/1e3)%60,O=d%1e3}else u=a.getUTCFullYear(),l=a.getUTCMonth(),p=a.getUTCDate(),g=a.getUTCHours(),_=a.getUTCMinutes(),b=a.getUTCSeconds(),O=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+w(6,u<0?-u:u):w(4,u))+"-"+w(2,l+1)+"-"+w(2,p)+"T"+w(2,g)+":"+w(2,_)+":"+w(2,b)+"."+w(3,O)+"Z"}else a=null;if(r&&(a=r.call(t,e,a)),null===a)return"null";if("[object Boolean]"==(c=m.call(a)))return""+a;if("[object Number]"==c)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==c)return E(""+a);if("object"==typeof a){for(D=s.length;D--;)if(s[D]===a)throw f();if(s.push(a),S=[],M=i,i+=o,"[object Array]"==c){for(A=0,D=a.length;A<D;A++)j=R(A,a,r,n,o,i,s),S.push(j===y?"null":j);C=S.length?o?"[\n"+i+S.join(",\n"+i)+"\n"+M+"]":"["+S.join(",")+"]":"[]"}else v(n||a,function(e){var t=R(e,a,r,n,o,i,s);t!==y&&S.push(E(e)+":"+(o?" ":"")+t)}),C=S.length?o?"{\n"+i+S.join(",\n"+i)+"\n"+M+"}":"{"+S.join(",")+"}":"{}";return s.pop(),C}};t.stringify=function(e,t,r){var n,o,i,s;if(a[typeof t]&&t)if("[object Function]"==(s=m.call(t)))o=t;else if("[object Array]"==s){i={};for(var c,u=0,l=t.length;u<l;c=t[u++],("[object String]"==(s=m.call(c))||"[object Number]"==s)&&(i[c]=1));}if(r)if("[object Number]"==(s=m.call(r))){if((r-=r%1)>0)for(n="",r>10&&(r=10);n.length<r;n+=" ");}else"[object String]"==s&&(n=r.length<=10?r:r.slice(0,10));return R("",(c={},c[""]=e,c),o,i,n,"",[])}}if(!r("json-parse")){var j,A,D=o.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},C=function(){throw j=A=null,l()},I=function(){for(var e,t,r,n,o,i=A,s=i.length;j<s;)switch(o=i.charCodeAt(j)){case 9:case 10:case 13:case 32:j++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?i.charAt(j):i[j],j++,e;case 34:for(e="@",j++;j<s;)if((o=i.charCodeAt(j))<32)C();else if(92==o)switch(o=i.charCodeAt(++j)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[o],j++;break;case 117:for(t=++j,r=j+4;j<r;j++)(o=i.charCodeAt(j))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||C();e+=D("0x"+i.slice(t,j));break;default:C()}else{if(34==o)break;for(o=i.charCodeAt(j),t=j;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++j);e+=i.slice(t,j)}if(34==i.charCodeAt(j))return j++,e;C();default:if(t=j,45==o&&(n=!0,o=i.charCodeAt(++j)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(j+1))>=48&&o<=57&&C(),n=!1;j<s&&(o=i.charCodeAt(j))>=48&&o<=57;j++);if(46==i.charCodeAt(j)){for(r=++j;r<s&&(o=i.charCodeAt(r))>=48&&o<=57;r++);r==j&&C(),j=r}if(101==(o=i.charCodeAt(j))||69==o){for(o=i.charCodeAt(++j),43!=o&&45!=o||j++,r=j;r<s&&(o=i.charCodeAt(r))>=48&&o<=57;r++);r==j&&C(),j=r}return+i.slice(t,j)}if(n&&C(),"true"==i.slice(j,j+4))return j+=4,!0;if("false"==i.slice(j,j+5))return j+=5,!1;if("null"==i.slice(j,j+4))return j+=4,null;C()}return"$"},x=function(e){var t,r;if("$"==e&&C(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=I());r||(r=!0))r&&(","==e?"]"==(e=I())&&C():C()),","==e&&C(),t.push(x(e));return t}if("{"==e){for(t={};"}"!=(e=I());r||(r=!0))r&&(","==e?"}"==(e=I())&&C():C()),","!=e&&"string"==typeof e&&"@"==(b?e.charAt(0):e[0])&&":"==I()||C(),t[e.slice(1)]=x(I());return t}C()}return e},L=function(e,t,r){var n=N(e,t,r);n===y?delete e[t]:e[t]=n},N=function(e,t,r){var n,o=e[t];if("object"==typeof o&&o)if("[object Array]"==m.call(o))for(n=o.length;n--;)L(o,n,r);else v(o,function(e){L(o,e,r)});return r.call(e,t,o)};t.parse=function(e,t){var r,n;return j=0,A=""+e,r=x(I()),"$"!=I()&&C(),j=A=null,t&&"[object Function]"==m.call(t)?N((n={},n[""]=r,n),"",t):r}}}return t.runInContext=i,t}var s=r(290),a={function:!0,object:!0},c=a[typeof t]&&t&&!t.nodeType&&t,u=a[typeof window]&&window||this,l=c&&a[typeof e]&&e&&!e.nodeType&&"object"==typeof n&&n;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(u=l),c&&!s)i(u,c);else{var f=u.JSON,p=u.JSON3,d=!1,h=i(u,u.JSON3={noConflict:function(){return d||(d=!0,u.JSON=f,u.JSON3=p,f=p=null),h}});u.JSON={parse:h.parse,stringify:h.stringify}}s&&void 0!==(o=function(){return h}.call(t,r,t,e))&&(e.exports=o)}).call(this)}).call(t,r(289)(e),r(8))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SEPARATOR="",t.SPACE_SEPARATOR=" ",t.NEW_LINE_SEPARATOR="\n";var n;!function(e){e[e.PRETTY=0]="PRETTY",e[e.COMPACT=1]="COMPACT"}(n=t.TokenFormat||(t.TokenFormat={}));var o=function(){function e(e){this.value=e}return e.prototype.getTokenValue=function(e,r){var o=t.EMPTY_SEPARATOR;if(void 0!==r)switch(e){case n.PRETTY:o=this.getPrettySeparator(r);break;case n.COMPACT:o=this.getCompactSeparator(r)}return this.value+o},e}();t.Token=o,t.default=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(30));t.Errors=i,n(r(64)),n(r(105)),n(r(50)),n(r(63)),n(r(106)),n(r(249)),n(r(115))},function(e,t,r){"use strict";(function(t){var n=r(35),o={},i=!1,s=t.chrome&&t.chrome.app&&t.chrome.app.runtime;e.exports={attachEvent:function(e,r){void 0!==t.addEventListener?t.addEventListener(e,r,!1):t.document&&t.attachEvent&&(t.document.attachEvent("on"+e,r),t.attachEvent("on"+e,r))},detachEvent:function(e,r){void 0!==t.addEventListener?t.removeEventListener(e,r,!1):t.document&&t.detachEvent&&(t.document.detachEvent("on"+e,r),t.detachEvent("on"+e,r))},unloadAdd:function(e){if(s)return null;var t=n.string(8);return o[t]=e,i&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in o&&delete o[e]},triggerUnloadCallbacks:function(){for(var e in o)o[e](),delete o[e]}};var a=function(){i||(i=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)}).call(t,r(8))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.setPrototypeOf(n,r.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(n,n.constructor),n}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"AbstractError"},enumerable:!0,configurable:!0}),t}(Error);t.AbstractError=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalArgumentError"},enumerable:!0,configurable:!0}),t}(o.AbstractError);t.IllegalArgumentError=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(101)),s=o(r(104));n(r(101)),n(r(104)),n(r(5)),n(r(237)),t.statusCodeMap=new Map;var a=function(e){return Object.keys(e).map(function(t){return e[t]}).forEach(function(e){return t.statusCodeMap.set(e.statusCode,e)})};a(i),a(s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(1),i={target:{"@id":o.C.target,"@type":"@id"}};t.EventMessage={SCHEMA:i,is:function(e){return n.TransientResource.is(e)&&e.hasOwnProperty("target")}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(33)),n(r(59))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(59),o=r(6),i=r(4),s=function(){function e(t,r){var n=this.constructor;this._prefixes=t?new Map(t._prefixes.entries()):new Map,this._vocab=r||(t?t._vocab:void 0),n===e&&Object.freeze(this)}return e.prototype.resolve=function(e,t){void 0===t&&(t=!1);var r;if(n.isPrefixed(e)){var s=n.getPrefixedParts(e),a=s[0],c=s[1],u=this._prefixes.get(a);if(void 0===u)throw new Error("The used prefix has not been declared");r=[new i.StringLiteral(a),o.PREFIX_SYMBOL,new i.StringLiteral(c)],u||this._prefixes.set(a,!0)}else r=n.resolve(e,t?this._vocab:void 0);return r},e}();t.IRIResolver=s},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(244)),n(r(165))},function(e,t,r){"use strict";var n=r(279),o="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(e){for(var t=o.length,r=n.randomBytes(e),i=[],s=0;s<e;s++)i.push(o.substr(r[s]%t,1));return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},function(e,t,r){"use strict";function n(e){return function(t,r,n){c("create ajax sender",t,r);var o={};"string"==typeof r&&(o.headers={"Content-type":"text/plain"});var i=s.addPath(t,"/xhr_send"),a=new e("POST",i,r,o);return a.once("finish",function(e){if(c("finish",e),a=null,200!==e&&204!==e)return n(new Error("http status "+e));n()}),function(){c("abort"),a.close(),a=null;var e=new Error("Aborted");e.code=1e3,n(e)}}}function o(e,t,r,o){a.call(this,e,t,n(o),r,o)}var i=r(2),s=r(16),a=r(139),c=function(){};c=r(9)("sockjs-client:ajax-based"),i(o,a),e.exports=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(38),i=r(60),s=r(49),a=r(61),c=r(25),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof o.Identifier&&"AS"!==e.value||e instanceof i.NewLineSymbol&&(")"===e.value||"}"===e.value)?c.NEW_LINE_SEPARATOR:e instanceof s.Operator||e instanceof a.RightSymbol&&")"!==e.value?c.EMPTY_SEPARATOR:c.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return this.constructor===e.constructor||e instanceof o.Identifier?c.SPACE_SEPARATOR:c.EMPTY_SEPARATOR},t}(c.Token);t.StringLiteral=u,t.default=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(37),i=r(25),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return"UNION"===this.value?i.NEW_LINE_SEPARATOR:i.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return this.constructor===e.constructor||e instanceof o.StringLiteral?i.SPACE_SEPARATOR:i.EMPTY_SEPARATOR},t}(i.Token);t.Identifier=s,t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinPatterns=function(e){return e.map(function(e){return"select"===e.token?"{ "+e+" }":e}).join(". ")}},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.RDFList={is:function(e){return o.hasPropertyDefined(e,"@list")}}},function(e,t,r){"use strict";function n(e,r){for(var n=r.prefixes.entries();;){var o=n.next();if(o.done)return e;var i=o.value,s=i[0],a=i[1];if(t.URI.isAbsolute(a)&&e.startsWith(a))return t.URI.prefix(e,s,a)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),i=r(0);t.URI={hasFragment:function(e){return-1!==e.indexOf("#")},hasQuery:function(e){return-1!==e.indexOf("?")},hasProtocol:function(e){return i.StringUtils.startsWith(e,"https://")||i.StringUtils.startsWith(e,"http://")},isAbsolute:function(e){return i.StringUtils.startsWith(e,"http://")||i.StringUtils.startsWith(e,"https://")||i.StringUtils.startsWith(e,"://")},isRelative:function(e){return!t.URI.isAbsolute(e)},isBNodeID:function(e){return i.StringUtils.startsWith(e,"_:")},generateBNodeID:function(){return"_:"+i.UUIDUtils.generate()},isPrefixed:function(e){return!t.URI.isAbsolute(e)&&!t.URI.isBNodeID(e)&&i.StringUtils.contains(e,":")},isFragmentOf:function(e,r){if(!t.URI.hasFragment(e))return!1;var n=t.URI.getDocumentURI(e);return""===n||n===r},isBaseOf:function(e,r){if(e===r)return!0;if(""===e)return!0;if(t.URI.isRelative(r)&&!t.URI.isPrefixed(r))return!0;if(r.startsWith(e)){if(i.StringUtils.endsWith(e,"/")||i.StringUtils.endsWith(e,"#"))return!0;var n=r.substring(e.length);if(i.StringUtils.startsWith(n,"/")||i.StringUtils.startsWith(n,"#"))return!0}return!1},getRelativeURI:function(e,t){return e.startsWith(t)?e.substring(t.length):e},getDocumentURI:function(e){var t=e.split("#");if(t.length>2)throw new Error("IllegalArgument: The URI provided has more than one # sign.");return t[0]},getFragment:function(e){var t=e.split("#");if(t.length<2)return null;if(t.length>2)throw new Error("IllegalArgument: The URI provided has more than one # sign.");return t[1]},getSlug:function(e){var r=e.split("#");if(2===r.length)return t.URI.getSlug(r[1]);if(r.length>2)throw new o.IllegalArgumentError("Invalid URI: The uri contains two '#' symbols.");if(""===(e=r[0]))return e;if("/"===e)return e;var n=e.split("/");return""===n[n.length-1]?n[n.length-2]+"/":n[n.length-1]},getParameters:function(e){var r=new Map;return t.URI.hasQuery(e)?(e.replace(/^.*\?/,"").split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),o=t.length>0?t.join("="):null;r.has(n)?r.set(n,[].concat(r.get(n),o)):r.set(n,o)}),r):r},resolve:function(e,r){if(!e||t.URI.isAbsolute(r)||t.URI.isBNodeID(r)||t.URI.isPrefixed(r))return r;var n=e.substr(0,e.indexOf("://")+3),o=e.substr(e.indexOf("://")+3,e.length-1);return-1===o.lastIndexOf("/")&&(o+="/"),i.StringUtils.startsWith(r,"?")||i.StringUtils.startsWith(r,"#")?(t.URI.hasQuery(o)&&(o=o.substr(0,o.indexOf("?"))),!t.URI.hasFragment(o)||i.StringUtils.startsWith(r,"?")&&!i.StringUtils.endsWith(o,"#")||(o=t.URI.getDocumentURI(o))):(o=o.substr(0,o.lastIndexOf("/")+1),i.StringUtils.endsWith(o,"?")||i.StringUtils.endsWith(o,"#")||i.StringUtils.endsWith(o,"/")||(o+="/")),i.StringUtils.startsWith(r,"/")&&(r=r.substr(1,r.length)),n+o+r},removeProtocol:function(e){return t.URI.hasProtocol(e)?e.substring(e.indexOf("://")+3):e},prefix:function(e,r,o){if(!i.isString(r))return n(e,r);var s=r;return t.URI.isPrefixed(e)||!e.startsWith(o)?e:s+":"+e.substring(o.length)}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(68)),n(r(114)),n(r(248))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(118)),n(r(70)),n(r(120)),n(r(121)),n(r(71));var o=r(259);t.QueryDocumentDocument=o.QueryDocumentDocument,n(r(128)),n(r(129)),n(r(122)),n(r(54)),n(r(123)),n(r(119))},function(e,t,r){"use strict";function n(e){e&&(e+=".");var t=e.replace(/\./g,"\\.");return new RegExp("^"+t+"[^.]+$")}function o(e,t,r,n){var o=n.uri,i=n.literalType,s=n.pointerType,a=e.compactIRI(o),c=e.getVariable(t),u=e.getVariable(r),l=[new v.SubjectToken(c).addPredicate(new v.PredicateToken(a).addObject(u))];return null!==i&&l.push(new v.FilterToken("datatype( "+u+" ) = "+e.compactIRI(i))),null!==s&&l.push(new v.FilterToken("! isLiteral( "+u+" )")),l}function i(e,t){return(new v.OptionalToken).addPattern(new v.SubjectToken(e.getVariable(t)).addPredicate(new v.PredicateToken("a").addObject(e.getVariable(t+".types"))))}function s(e,t){return new v.GraphToken(e.getVariable(t)).addPattern(new v.SubjectToken(e.getVariable(t+"._subject")).addPredicate(new v.PredicateToken(e.getVariable(t+"._predicate")).addObject(e.getVariable(t+"._object"))))}function a(e,t){return new v.SubjectToken(e.getVariable(t)).addPredicate(new v.PredicateToken(e.getVariable(t+"._predicate")).addObject(e.getVariable(t+"._object")))}function c(e){return e.split(".").slice(0,-1).join(".")}function u(e){return e.predicates.map(function(e){return e.predicate}).some(function(e){return y.isObject(e)&&"variable"===e.token})}function l(e){var t=new Map;return f(t,e),Array.from(t.values())}function f(e,t){t.forEach(function(t){if("optional"===t.token||"graph"===t.token)return f(e,t.patterns);if("subject"===t.token){if(t.predicates.map(function(e){return e.objects}).some(function(e){return e.some(function(e){return"variable"===e.token})})){var r=p(e,t);if(u(r))return;u(t)&&(r.predicates.length=0),(n=r.predicates).push.apply(n,t.predicates)}var n}})}function p(e,t){var r=t.subject.toString();if(e.has(r))return e.get(r);var n=new v.SubjectToken(t.subject);return e.set(r,n),n}function d(e,t){if(void 0===e||!t)return e;var r=t.split("."),n=r[0],o=r.slice(1);return d(e[n],o.join("."))}function h(e,t){return typeof e!=typeof t||"object"==typeof e&&e instanceof Date!=t instanceof Date}Object.defineProperty(t,"__esModule",{value:!0});var v=r(4),y=r(0);t.getLevelRegExp=n,t.createPropertyPatterns=o,t.createTypesPattern=i,t.createGraphPattern=s,t.createAllPattern=a,t.getParentPath=c,t.isFullTriple=u,t.getAllTriples=l,t.getPathProperty=d,t.areDifferentType=h},function(e,t,r){"use strict";function n(e,t,r){i.call(this,e,t,r,{noCredentials:!0})}var o=r(2),i=r(140);o(n,i),n.enabled=i.enabled,e.exports=n},function(e,t,r){"use strict";(function(t){e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(t,r(8))},function(e,t,r){"use strict";(function(t){var n=r(27),o=r(24),i=r(46),s=function(){};s=r(9)("sockjs-client:utils:iframe"),e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in t||(t[e.exports.WPrefix]={})},postMessage:function(r,n){t.parent!==t?t.parent.postMessage(o.stringify({windowId:e.exports.currentWindowId,type:r,data:n||""}),"*"):s("Cannot postMessage, no parent window.",r,n)},createIframe:function(e,r){var o,i,a=t.document.createElement("iframe"),c=function(){s("unattach"),clearTimeout(o);try{a.onload=null}catch(e){}a.onerror=null},u=function(){s("cleanup"),a&&(c(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),n.unloadDel(i))},l=function(e){s("onerror",e),a&&(u(),r(e))},f=function(e,t){s("post",e,t);try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(e,t)},0)}catch(e){}};return a.src=e,a.style.display="none",a.style.position="absolute",a.onerror=function(){l("onerror")},a.onload=function(){s("onload"),clearTimeout(o),o=setTimeout(function(){l("onload timeout")},2e3)},t.document.body.appendChild(a),o=setTimeout(function(){l("timeout")},15e3),i=n.unloadAdd(u),{post:f,cleanup:u,loaded:c}},createHtmlfile:function(r,o){var i,a,c,u=["Active"].concat("Object").join("X"),l=new t[u]("htmlfile"),f=function(){clearTimeout(i),c.onerror=null},p=function(){l&&(f(),n.unloadDel(a),c.parentNode.removeChild(c),c=l=null,CollectGarbage())},d=function(e){s("onerror",e),l&&(p(),o(e))},h=function(e,t){try{setTimeout(function(){c&&c.contentWindow&&c.contentWindow.postMessage(e,t)},0)}catch(e){}};l.open(),l.write('<html><script>document.domain="'+t.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[e.exports.WPrefix]=t[e.exports.WPrefix];var v=l.createElement("div");return l.body.appendChild(v),c=l.createElement("iframe"),v.appendChild(c),c.src=r,c.onerror=function(){d("onerror")},i=setTimeout(function(){d("timeout")},15e3),a=n.unloadAdd(p),{post:h,cleanup:p,loaded:f}}},e.exports.iframeEnabled=!1,t.document&&(e.exports.iframeEnabled=("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!i.isKonqueror())}).call(t,r(8))},function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String?e===c.PatternBuilder.undefined?[a.UNDEF]:[a.OPEN_QUOTE,new s.StringLiteral(e),a.CLOSE_QUOTE]:"number"==typeof e||e instanceof Number?Number.isInteger(e.valueOf())?this.addType(e+"","integer"):this.addType(e+"","float"):"boolean"==typeof e||e instanceof Boolean?this.addType(e+"","boolean"):e instanceof Date?this.addType(e.toISOString(),"dateTime"):e.getSelfTokens()}function o(e,t){return t in i&&(t=i[t]),[a.OPEN_QUOTE,new s.StringLiteral(e),a.CLOSE_QUOTE,a.OFF_TYPE,a.OPEN_IRI,new s.StringLiteral(t),a.CLOSE_IRI]}Object.defineProperty(t,"__esModule",{value:!0});var i=r(316),s=r(37),a=r(6),c=r(156);t.serialize=n,t.addType=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(25),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return o.EMPTY_SEPARATOR},t.prototype.getCompactSeparator=function(e){return o.EMPTY_SEPARATOR},t}(o.Token);t.Operator=i,t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){return new Promise(function(t){return t(JSON.parse(e))})},e}();t.JSONParser=n},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(14),i=n(r(0)),s=r(98),a=r(40),c=r(52),u=r(41),l=r(108);t.RDFNode={is:function(e){return i.hasProperty(e,"@id")&&i.isString(e["@id"])},create:function(e){return{"@id":e}},getID:function(e){return e["@id"]},getRelativeID:function(e){var r=t.RDFNode.getID(e);return u.URI.hasFragment(r)?u.URI.getFragment(r):r},areEqual:function(e,r){return t.RDFNode.getID(e)===t.RDFNode.getID(r)},isFragment:function(e){var r=t.RDFNode.getID(e);return u.URI.hasFragment(r)||u.URI.isBNodeID(r)},hasType:function(e,r){return-1!==t.RDFNode.getTypes(e).indexOf(r)},getTypes:function(e){return"@type"in e?e["@type"]:[]},getFreeNodes:function(e){return Array.isArray(e)?e.filter(function(e){return!s.RDFDocument.is(e)}).filter(t.RDFNode.is):[]},getList:function(e){if(Array.isArray(e))return e.find(a.RDFList.is)},getProperties:function(e,t){if(Array.isArray(e))return e.map(l.RDFValue.parse.bind(null,t)).filter(function(e){return!i.isNull(e)})},getPropertyPointers:function(e,r){if(Array.isArray(e))return e.filter(t.RDFNode.is).map(t.RDFNode.getID).map(r.getPointer,r).filter(function(e){return!i.isNull(e)})},getPropertyLiterals:function(e,t){if(Array.isArray(e))return e.filter(c.RDFLiteral.is).filter(function(e){return c.RDFLiteral.hasType(e,t)}).map(c.RDFLiteral.parse)},getPropertyLanguageMap:function(e){if(Array.isArray(e)){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];if(c.RDFLiteral.is(i)&&c.RDFLiteral.hasType(i,o.XSD.string)){var s=i["@language"];s&&(t[s]=c.RDFLiteral.parse(i))}}return t}}}},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(3)),i=r(14),s=n(r(0)),a=n(r(238));t.Serializers=a,t.RDFLiteral={from:function(e){if(s.isNull(e))throw new o.IllegalArgumentError("Null cannot be converted into a Literal");if(!s.isDefined(e))throw new o.IllegalArgumentError("The value is undefined");var t;switch(!0){case s.isDate(e):t=i.XSD.dateTime,e=e.toISOString();break;case s.isNumber(e):t=s.isInteger(e)?i.XSD.integer:i.XSD.double;break;case s.isString(e):t=i.XSD.string;break;case s.isBoolean(e):t=i.XSD.boolean;break;default:t=i.XSD.object,e=JSON.stringify(e)}var r={"@value":e.toString()};return t&&(r["@type"]=t),r},parse:function(e,t){var r;if(s.isString(e))r=e;else{var n=e;if(!n)return null;if(!s.hasProperty(n,"@value"))return null;t="@type"in n?n["@type"]:null,r=n["@value"]}var o,a=r;switch(t){case i.XSD.date:case i.XSD.dateTime:a=new Date(r);break;case i.XSD.time:o=r.match(/(\d+):(\d+):(\d+)\.(\d+)Z/),a=new Date,a.setUTCHours(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),parseFloat(o[4]));break;case i.XSD.duration:break;case i.XSD.gDay:case i.XSD.gMonth:case i.XSD.gMonthDay:case i.XSD.gYear:case i.XSD.gYearMonth:break;case i.XSD.byte:case i.XSD.decimal:case i.XSD.int:case i.XSD.integer:case i.XSD.long:case i.XSD.negativeInteger:case i.XSD.nonNegativeInteger:case i.XSD.nonPositiveInteger:case i.XSD.positiveInteger:case i.XSD.short:case i.XSD.unsignedLong:case i.XSD.unsignedInt:case i.XSD.unsignedShort:case i.XSD.unsignedByte:case i.XSD.double:case i.XSD.float:a=parseFloat(r);break;case i.XSD.boolean:a=s.parseBoolean(r);break;case i.XSD.string:a=r;break;case i.XSD.object:a=JSON.parse(r)}return a},is:function(e){return s.hasProperty(e,"@value")&&s.isString(e["@value"])},hasType:function(e,t){return!e["@type"]&&t===i.XSD.string||e["@type"]===t}}},function(e,t,r){"use strict";function n(e){return"id"in e?e.id:"slug"in e?p.URI.hasFragment(e.slug)?e.slug:"#"+e.slug:""}function o(e,r,i){void 0===i&&(i=new Set),Object.keys(r).map(function(e){return r[e]}).forEach(function(r){if(Array.isArray(r))return o(e,r,i);if(v.isPlainObject(r)&&!(t.TransientDocument.is(r)||r._registry&&r._registry!==e)){var s=n(r);if(!i.has(s)&&(!s||e.inScope(s,!0))){var a=e.hasPointer(s,!0)?e.getPointer(s,!0):e._register(r);i.add(a.id),o(e,a,i)}}})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(112),s=r(15),a=r(3),c=r(23),u=r(130),l=r(12),f=r(17),p=r(10),d=r(42),h=r(7),v=r(0),y=r(1),g={_context:void 0,_registry:void 0,_normalize:function(){var e=new Set;o(this,this,e),this.getPointers(!0).map(f.Pointer.getID).filter(p.URI.isBNodeID).filter(function(t){return!e.has(t)}).forEach(this.removePointer,this)},_getLocalID:function(e){return p.URI.isBNodeID(e)?e:p.URI.isFragmentOf(e,this.id)?p.URI.getFragment(e):p.URI.isRelative(e)?e:d.Registry.PROTOTYPE._getLocalID.call(this,e)},_register:function(e){e.slug&&(e.id=e.slug),e.id||(e.id=p.URI.generateBNodeID());var t=d.Registry.PROTOTYPE._register.call(this,e);if(p.URI.isBNodeID(t.id))return i.TransientBlankNode.decorate(t);var r=u.TransientNamedFragment.decorate(t);return r.slug=this._getLocalID(r._id),r},hasFragment:function(e){if(!this.inScope(e,!0))return!1;var t=this._getLocalID(e);return this._resourcesMap.has(t)},getFragment:function(e){if(!this.inScope(e,!0))throw new a.IllegalArgumentError('"'+e+'" is out of scope.');var t=this._getLocalID(e),r=this._resourcesMap.get(t);return r||null},getNamedFragment:function(e){if(p.URI.isBNodeID(e))throw new a.IllegalArgumentError('Invalid named fragment slug "'+e+'", it can\'t start with "_:".');return this.getFragment(e)},getFragments:function(){return Array.from(this._resourcesMap.values())},createFragment:function(e,r){var n=v.isObject(e)?e:{};(r=v.isString(e)?e:r)&&(n.id=r);var o=this._register(n);return t.TransientDocument._convertNestedObjects(this,o),o},createNamedFragment:function(e,r){if(!(r=v.isString(e)?e:r))throw new a.IllegalArgumentError("The slug can't be empty.");if(p.URI.isBNodeID(r))throw new a.IllegalArgumentError('Invalid named fragment slug "'+r+'", it can\'t start with "_:".');var n=v.isObject(e)?e:{},o=Object.assign(n,{slug:r}),i=this._register(o);return t.TransientDocument._convertNestedObjects(this,i),i},removeNamedFragment:function(e){var t=f.Pointer.getID(e);if(p.URI.isBNodeID(t))throw new a.IllegalArgumentError('"'+t+'" is not a valid named fragment.');return this._removeFragment(t)},_removeFragment:function(e){return!!this.inScope(e,!0)&&this.removePointer(e)},toJSON:function(e){var t=v.isObject(e)?e:this._registry,r=t?t.getGeneralSchema():new l.DigestedObjectSchema,n=t?t.jsonldConverter:new c.JSONLDConverter,o=[this].concat(this.getFragments()).map(function(e){var o=t?t.getSchemaFor(e):new l.DigestedObjectSchema;return n.expand(e,r,o)});return{"@id":this.id,"@graph":o}}};t.TransientDocument={PROTOTYPE:g,TYPE:y.C.Document,isDecorated:function(e){return v.isObject(e)&&s.ModelDecorator.hasPropertiesFrom(g,e)},is:function(e){return h.TransientResource.is(e)&&d.Registry.isDecorated(e)&&t.TransientDocument.isDecorated(e)},decorate:function(e){if(t.TransientDocument.isDecorated(e))return e;var r=s.ModelDecorator.decorateMultiple(e,h.TransientResource,d.Registry);return s.ModelDecorator.definePropertiesFrom(g,r)},createFrom:function(e){if(t.TransientDocument.is(e))throw new a.IllegalArgumentError("The object provided is already a Document.");var r=t.TransientDocument.decorate(e);return t.TransientDocument._convertNestedObjects(r,r),r},create:function(e){var r=Object.assign({},e);return t.TransientDocument.createFrom(r)},_convertNestedObjects:function(e,t){return o(e,t),t}}},function(e,t,r){"use strict";function n(e){switch(e){case o.ALL:return a.createAllPattern;case o.FULL:return a.createGraphPattern;case o.EMPTY:case o.PARTIAL:return a.createTypesPattern;default:return null}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(4),s=r(12),a=r(44);!function(e){e[e.FULL=0]="FULL",e[e.PARTIAL=1]="PARTIAL",e[e.ALL=2]="ALL",e[e.EMPTY=3]="EMPTY"}(o=t.QueryPropertyType||(t.QueryPropertyType={}));var c=function(){function e(e,t){this.name=t,this.variable=e.getVariable(t),this._optional=!0,this._context=e,this._patterns=[]}return e.prototype.addPattern=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this._patterns).push.apply(r,e),this;var r},e.prototype.getPatterns=function(){var e=this._patterns.slice(),t=n(this.getType());if(t){e[e.findIndex(function(e){return void 0===e})]=t(this._context,this.name)}return this._optional?[(r=new i.OptionalToken).addPattern.apply(r,e)]:e;var r},e.prototype.getSchema=function(){return this._schema?this._schema:this._schema=new s.DigestedObjectSchema},e.prototype.isOptional=function(){return this._optional},e.prototype.setOptional=function(e){return this._optional=e,this},e.prototype.getType=function(){return this._type},e.prototype.setType=function(e){return void 0===this._type&&this._patterns.push(void 0),this._type=e,this},e.prototype.getTriple=function(){return this._patterns.find(function(e){return e instanceof i.SubjectToken})},e.prototype.toString=function(){return""+this.variable},e}();t.QueryProperty=c},function(e,t,r){"use strict";function n(e,t){s(e),i.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){s("finish",e,t),r._chunkHandler(e,t),r.xo=null;var n=200===e?"network":"permanent";s("close",n),r.emit("close",null,n),r._cleanup()})}var o=r(2),i=r(13).EventEmitter,s=function(){};s=r(9)("sockjs-client:receiver:xhr"),o(n,i),n.prototype._chunkHandler=function(e,t){if(s("_chunkHandler",e),200===e&&t)for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(-1===(r=n.indexOf("\n")))break;var o=n.slice(0,r);o&&(s("message",o),this.emit("message",o))}},n.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},n.prototype.abort=function(){s("abort"),this.xo&&(this.xo.close(),s("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var o=r(2),i=r(140);o(n,i),n.enabled=i.enabled&&i.supportsCORS,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(4),i=r(48),s=function(){function e(e){this.resolver=e,this.patternTokens=[],this.init()}return e.prototype.has=function(e,t){return this.patternTokens=[],this._addPattern(e,t)},e.prototype.getSelfTokens=function(){return this.elementTokens},e.prototype.init=function(){var e=this;this.interfaces={addPattern:{and:function(t,r){return e.patternTokens.push(n.SAME_SUBJECT_SEPARATOR),e._addPattern(t,r)}}}},e.prototype._addPattern=function(e,t){var r="string"==typeof e?this._resolvePath(e):e.getSelfTokens();return t=Array.isArray(t)?t:[t],t.forEach(function(e,t,o){r.push.apply(r,i.serialize(e)),t<o.length-1&&r.push(n.SAME_PROPERTY_SEPARATOR)}),(o=this.patternTokens).push.apply(o,r),Object.assign({},this.interfaces.addPattern,this.interfaces.graphPattern);var o},e.prototype._resolvePath=function(t){var r=this,n=t.split(/(<.*?>)/).reduce(function(e,t){return t.startsWith("<")?e.push(t):e.push.apply(e,t.split(/([|\/^?*+!()])/)),e},[]).reduce(function(t,n){return n?(-1!==e.PATH_OPERATORS.indexOf(n)?t.push(new o.Operator(n)):"a"===n?t.push(new o.StringLiteral(n)):(n.startsWith("<")&&n.endsWith(">")&&(n=n.slice(1,-1)),t.push.apply(t,r.resolver.resolve(n,!0))),t):t},[]);return n[0]instanceof o.Operator&&n.unshift(new o.LeftSymbol("")),n[n.length-1]instanceof o.Operator&&n.push(new o.RightSymbol("")),n},e.PATH_OPERATORS=["|","/","^","?","*","+","!","(",")"],e}();t.TriplesPattern=s,t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(57),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this),this.interfaces.graphPattern={getPattern:function(){return t.getSelfTokens().concat(t.patternTokens)}}},t}(o.TriplesPattern);t.TriplesSubject=i,t.default=i},function(e,t,r){"use strict";function n(e){return-1!==e.indexOf(":")}function o(e){return-1!==e.indexOf("://")}function i(e){return!n(e)}function s(e){return o(e)||!n(e)}function a(e){return d.test(e)}function c(e){return v.test(e)&&!o(e)}function u(e){var t=h.exec(e);if(null===t||o(e))return null;var r=t[1]||"";return[r,e.substr(r.length+1).replace(y,"\\$1")]}function l(e,t){var r=[new f.StringLiteral(e)];return s(e)&&(i(e)&&t&&(e=t+e),r=[p.OPEN_IRI,new f.StringLiteral(e),p.CLOSE_IRI]),r}Object.defineProperty(t,"__esModule",{value:!0});var f=r(37),p=r(6);t.isAbsolute=n,t.hasProtocol=o,t.isRelative=i,t.isIRI=s;var d=/^_:/;t.isBNodeLabel=a;var h=/([A-Za-z](([A-Za-z_\-0-9]|\.)*[A-Za-z_\-0-9])?)?:/,v=/^(?!_:)[^]*?:/,y=/([_~.\-!$&'|()*+,;=\/?#@%])/g;t.isPrefixed=c,t.getPrefixedParts=u,t.resolve=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(25),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof t&&-1!==[".",";",","].indexOf(e.value)?o.SPACE_SEPARATOR:o.NEW_LINE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return o.EMPTY_SEPARATOR},t}(o.Token);t.NewLineSymbol=i,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(38),i=r(86),s=r(60),a=r(49),c=r(25),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof o.Identifier&&"UNDEF"!==e.value?c.NEW_LINE_SEPARATOR:e instanceof s.NewLineSymbol&&-1!==["}","]",")"].indexOf(e.value)?c.NEW_LINE_SEPARATOR:e instanceof i.LeftSymbol&&"("===e.value?c.NEW_LINE_SEPARATOR:e instanceof a.Operator?c.EMPTY_SEPARATOR:c.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return c.EMPTY_SEPARATOR},t}(c.Token);t.RightSymbol=u,t.default=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),i=function(e){function t(t){return e.call(this,t)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateError"},enumerable:!0,configurable:!0}),t}(o.AbstractError);t.IllegalStateError=i},function(e,t,r){"use strict";function n(e,t){for(var r=e.keys(),n=r.next();!n.done;){var o=n.value;t(o,e.get(o).toString()),n=r.next()}}function o(e,t,r){r.status>=200&&r.status<=299?e(r):t(r)}function i(e,t,r,i){return new Promise(function(s,a){var c=i.request?i.request:new XMLHttpRequest;c.open(e,t,!0),i.headers&&n(i.headers,function(e,t){return c.setRequestHeader(e,t)}),c.withCredentials=i.sendCredentialsOnCORS,i.timeout&&(c.timeout=i.timeout),c.onload=c.onerror=function(){var e=new O.Response(c);o(s,a,e)},r?c.send(r):c.send()})}function s(e,t,r,i){return new Promise(function(s,a){function c(e,t){var r=[];t.on("data",function(e){"string"==typeof e&&(e=Buffer.from(e,"utf-8")),r.push(e)}).on("end",function(){var n=Buffer.concat(r).toString("utf8"),i=new O.Response(e,n,t);o(s,a,i)})}function u(t){var f=h.default.parse(t),v="http:"===f.protocol?p.default:d.default,y={protocol:f.protocol,hostname:f.hostname,port:f.port,path:f.path,method:e,headers:{}};i.headers&&n(i.headers,function(e,t){return y.headers[e]=t});var g=v.request(y);i.timeout&&g.setTimeout(i.timeout),g.on("response",function(e){if(e.statusCode>=300&&e.statusCode<=399&&"location"in e.headers&&++l<10)return u(h.default.resolve(t,e.headers.location));c(g,e)}),g.on("error",function(e){var t=new O.Response(g,e.message);o(s,a,t)}),g.end(r)}var l=0;u(t)})}function a(e,t,r,n){return"undefined"!=typeof XMLHttpRequest?i(e,t,r,n):s(e,t,r,n)}function c(e){return m.isString(e)||"undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof Buffer&&e instanceof Buffer}var u=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var p=l(r(207)),d=l(r(208)),h=l(r(209)),v=r(3),y=r(12),g=r(10),m=f(r(0)),_=r(30),b=r(64),P=r(105),O=r(106),T=function(){function e(){}return e.send=function(t,r,n,o,i){var s=this;void 0===n&&(n=e.defaultOptions),void 0===o&&(o=e.defaultOptions),void 0===i&&(i=null);var u=null,l=m.hasProperty(o,"parse")?n:o;i=m.hasProperty(o,"parse")?o:i,c(n)?u=n:l=n||l,l=Object.assign({},e.defaultOptions,l),m.isNumber(t)&&(t=P.HTTPMethod[t]);var f=a(t,r,u,l).then(function(e){return"GET"===t&&l.headers?s._handleGETResponse(r,l,e):e});return null===i?f:f.then(function(e){return i.parse(e.data).then(function(t){return[t,e]})})},e.options=function(t,r){return void 0===r&&(r=e.defaultOptions),e.send(P.HTTPMethod.OPTIONS,t,r)},e.head=function(t,r){return void 0===r&&(r=e.defaultOptions),e.send(P.HTTPMethod.HEAD,t,r)},e.get=function(t,r,n){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=null),e.send(P.HTTPMethod.GET,t,null,r,n)},e.post=function(t,r,n,o){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===o&&(o=null),e.send(P.HTTPMethod.POST,t,r,n,o)},e.put=function(t,r,n,o){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===o&&(o=null),e.send(P.HTTPMethod.PUT,t,r,n,o)},e.patch=function(t,r,n,o){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===o&&(o=null),e.send(P.HTTPMethod.PATCH,t,r,n,o)},e.delete=function(t,r,n,o){return void 0===r&&(r=e.defaultOptions),void 0===n&&(n=e.defaultOptions),void 0===o&&(o=null),e.send(P.HTTPMethod.DELETE,t,r,n,o)},e._handleGETResponse=function(e,t,r){var n=this;return Promise.resolve().then(function(){return n._contentTypeIsAccepted(t,r)?r:(n._setNoCacheHeaders(t),n._isChromiumAgent()||n._setFalseETag(t),a("GET",e,null,t).then(function(e){if(!n._contentTypeIsAccepted(t,r))throw new _.BadResponseError("The server responded with an unacceptable Content-Type",r);return e}))})},e._contentTypeIsAccepted=function(e,t){var r=e.headers.has("accept")?e.headers.get("accept").values:[],n=t.headers.has("content-type")?t.headers.get("content-type"):null;return!n||r.some(n.hasValue,n)},e._setNoCacheHeaders=function(e){e.headers.set("pragma",new b.Header("no-cache")).set("cache-control",new b.Header("no-cache, max-age=0"))},e._isChromiumAgent=function(){return"undefined"!=typeof window&&!window.chrome},e._setFalseETag=function(e){e.headers.set("if-none-match",new b.Header)},e.defaultOptions={sendCredentialsOnCORS:!0},e}();t.RequestService=T;var S=function(){function e(){}return e.getHeader=function(e,t,r){if(void 0===r&&(r=!1),e=e.toLowerCase(),r){var n=t.headers?t.headers:t.headers=new Map;n.has(e)||n.set(e,new b.Header)}if(t.headers)return t.headers.get(e)},e.setAcceptHeader=function(e,t){return(t.headers?t.headers:t.headers=new Map).set("accept",new b.Header(e)),t},e.setContentTypeHeader=function(e,t){return(t.headers?t.headers:t.headers=new Map).set("content-type",new b.Header(e)),t},e.setIfMatchHeader=function(e,t){if(e){return(t.headers?t.headers:t.headers=new Map).set("if-match",new b.Header(e)),t}},e.setIfNoneMatchHeader=function(e,t){if(e){return(t.headers?t.headers:t.headers=new Map).set("if-none-match",new b.Header(e)),t}},e.setPreferredInteractionModel=function(t,r){return e.getHeader("prefer",r,!0).values.push(t+"; rel=interaction-model"),r},e.setPreferredRetrieval=function(t,r){return e.getHeader("prefer",r,!0).values.push("return="+t),r},e.setRetrievalPreferences=function(t,r){for(var n=e.getHeader("prefer",r,!0),o=["include","omit"],i=0,s=o;i<s.length;i++){var a=s[i];a in t&&t[a].length>0&&n.values.push(a+'="'+t[a].join(" ")+'"')}return r},e.setSlug=function(t,r){return e.getHeader("slug",r,!0).values.push(t),r},e.isOptions=function(e){return m.hasPropertyDefined(e,"headers")||m.hasPropertyDefined(e,"sendCredentialsOnCORS")||m.hasPropertyDefined(e,"timeout")||m.hasPropertyDefined(e,"request")},e.cloneOptions=function(e){var t=u({},e,{headers:new Map});return e.headers&&e.headers.forEach(function(e,r){return t.headers.set(r,new b.Header(e.values.slice()))}),t},e.getRequestURLFor=function(e,t,r){if(r&&e._context){var n=e.getGeneralSchema();r=y.ObjectSchemaUtils.resolveURI(r,n)}var o=r?g.URI.resolve(t.id,r):t.id,i=e._getLocalID(o);if(e._context)return g.URI.resolve(e._context.baseURI,i);if(g.URI.isRelative(o))throw new v.IllegalArgumentError('"'+o+'" cannot be used as URL for the request.');return o},e}();t.RequestUtils=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t){this.values=Array.isArray(t)?t:e._parseValues(t)}return e.parseHeaders=function(t){var r=new Map;return t.split(/\r?\n/).forEach(function(t){if(t.trim()){var n=t.split(":");if(n.length<2)throw new Error("ParseError: The header couldn't be parsed.");var o=n[0].trim().toLowerCase(),i=e._parseValues(n.slice(1).join(":"));r.has(o)?(s=r.get(o).values).push.apply(s,i):r.set(o,new e(i));var s}}),r},e._parseValues=function(e){return e?e.split(",").map(function(e){return e.trim()}):[]},e.prototype.hasValue=function(e){return-1!==this.values.indexOf(e)},e.prototype.toString=function(){return this.values.join(", ")},e}();t.Header=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CS={namespace:"https://carbonldp.com/ns/v1/security#",AccessControlEntry:"https://carbonldp.com/ns/v1/security#AccessControlEntry",AccessControlList:"https://carbonldp.com/ns/v1/security#AccessControlList",AllOrigins:"https://carbonldp.com/ns/v1/security#AllOrigins",AuthenticatedUserInformationAccessor:"https://carbonldp.com/ns/v1/security#AuthenticatedUserInformationAccessor",AuthenticatedUserMetadata:"https://carbonldp.com/ns/v1/security#AuthenticatedUserMetadata",CreateAccessPoint:"https://carbonldp.com/ns/v1/security#CreateAccessPoint",CreateChild:"https://carbonldp.com/ns/v1/security#CreateChild",Credentials:"https://carbonldp.com/ns/v1/security#Credentials",CredentialsSet:"https://carbonldp.com/ns/v1/security#CredentialsSet",Delete:"https://carbonldp.com/ns/v1/security#Delete",Download:"https://carbonldp.com/ns/v1/security#Download",Extend:"https://carbonldp.com/ns/v1/security#Extend",LDAPCredentials:"https://carbonldp.com/ns/v1/security#LDAPCredentials",ManageSecurity:"https://carbonldp.com/ns/v1/security#ManageSecurity",PreferAuthToken:"https://carbonldp.com/ns/v1/security#PreferAuthToken",ProtectedDocument:"https://carbonldp.com/ns/v1/security#ProtectedDocument",Read:"https://carbonldp.com/ns/v1/security#Read",RemoveMember:"https://carbonldp.com/ns/v1/security#RemoveMember",Role:"https://carbonldp.com/ns/v1/security#Role",Ticket:"https://carbonldp.com/ns/v1/security#Ticket",TokenCredentials:"https://carbonldp.com/ns/v1/security#TokenCredentials",Update:"https://carbonldp.com/ns/v1/security#Update",Upload:"https://carbonldp.com/ns/v1/security#Upload",User:"https://carbonldp.com/ns/v1/security#User",UsernameAndPasswordCredentials:"https://carbonldp.com/ns/v1/security#UsernameAndPasswordCredentials",accessControlEntry:"https://carbonldp.com/ns/v1/security#accessControlEntry",accessControlList:"https://carbonldp.com/ns/v1/security#accessControlList",accessTo:"https://carbonldp.com/ns/v1/security#accessTo",allowsOrigin:"https://carbonldp.com/ns/v1/security#allowsOrigin",authToken:"https://carbonldp.com/ns/v1/security#authToken",authenticatedUserMetadata:"https://carbonldp.com/ns/v1/security#authenticatedUserMetadata",childRole:"https://carbonldp.com/ns/v1/security#childRole",credentials:"https://carbonldp.com/ns/v1/security#credentials",credentialsOf:"https://carbonldp.com/ns/v1/security#credentialsOf",description:"https://carbonldp.com/ns/v1/security#description",enabled:"https://carbonldp.com/ns/v1/security#enabled",expires:"https://carbonldp.com/ns/v1/security#expires",forIRI:"https://carbonldp.com/ns/v1/security#forIRI",granting:"https://carbonldp.com/ns/v1/security#granting",inheritableEntry:"https://carbonldp.com/ns/v1/security#inheritableEntry",ldapServer:"https://carbonldp.com/ns/v1/security#ldapServer",ldapUserDN:"https://carbonldp.com/ns/v1/security#ldapUserDN",name:"https://carbonldp.com/ns/v1/security#name",parentRole:"https://carbonldp.com/ns/v1/security#parentRole",password:"https://carbonldp.com/ns/v1/security#password",permission:"https://carbonldp.com/ns/v1/security#permission",rootContainer:"https://carbonldp.com/ns/v1/security#rootContainer",subject:"https://carbonldp.com/ns/v1/security#subject",subjectClass:"https://carbonldp.com/ns/v1/security#subjectClass",ticketKey:"https://carbonldp.com/ns/v1/security#ticketKey",token:"https://carbonldp.com/ns/v1/security#token",user:"https://carbonldp.com/ns/v1/security#user",username:"https://carbonldp.com/ns/v1/security#username"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHACL={namespace:"http://www.w3.org/ns/shacl#",ValidationReport:"http://www.w3.org/ns/shacl#ValidationReport",ValidationResult:"http://www.w3.org/ns/shacl#ValidationResult",conforms:"http://www.w3.org/ns/shacl#conforms",detail:"http://www.w3.org/ns/shacl#detail",focusNode:"http://www.w3.org/ns/shacl#focusNode",result:"http://www.w3.org/ns/shacl#result",resultMessage:"http://www.w3.org/ns/shacl#resultMessage",resultPath:"http://www.w3.org/ns/shacl#resultPath",resultSeverity:"http://www.w3.org/ns/shacl#resultSeverity",shapesGraphWellFormed:"http://www.w3.org/ns/shacl#shapesGraphWellFormed",sourceConstraintComponent:"http://www.w3.org/ns/shacl#sourceConstraintComponent",sourceShape:"http://www.w3.org/ns/shacl#sourceShape",value:"http://www.w3.org/ns/shacl#value"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(22),i=r(7),s=r(0),a=r(53),c={_resolved:!1,_eTag:void 0,get _savedFragments(){return[]},isResolved:function(){return!!this._resolved},isOutdated:function(){return null===this._eTag},_syncSavedFragments:function(){this._savedFragments=Array.from(this._resourcesMap.values()).map(o.Fragment.decorate),this._savedFragments.forEach(function(e){return e._syncSnapshot()})}};t.BasePersistedDocument={PROTOTYPE:c,isDecorated:function(e){return s.isObject(e)&&n.ModelDecorator.hasPropertiesFrom(c,e)},decorate:function(e){if(t.BasePersistedDocument.isDecorated(e))return e;var r=n.ModelDecorator.decorateMultiple(e,a.TransientDocument,i.PersistedResource);return n.ModelDecorator.definePropertiesFrom(c,r)},is:function(e){return a.TransientDocument.is(e)&&i.PersistedResource.isDecorated(e)&&t.BasePersistedDocument.isDecorated(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(3),i=r(17),s=r(0),a={get _resourcesMap(){return new Map},_context:void 0,_registry:void 0,inScope:function(e,t){try{var r=i.Pointer.getID(e);return this._getLocalID(r),!0}catch(r){return!(!0===t||!this._registry)&&this._registry.inScope(e)}},hasPointer:function(e,t){if(this.inScope(e,!0)){var r=this._getLocalID(e);if(this._resourcesMap.has(r))return!0}return!(!0===t||!this._registry)&&this._registry.hasPointer(e)},getPointer:function(e,t){if(!this.inScope(e,!0)){if(!0===t||!this._registry)throw new o.IllegalArgumentError('"'+e+'" is out of scope.');return this._registry.getPointer(e)}var r=this._getLocalID(e);return this._resourcesMap.has(r)?this._resourcesMap.get(r):!0!==t&&this._registry&&this._registry.hasPointer(e)?this._registry.getPointer(e):this._register({id:e})},getPointers:function(e){var t=Array.from(this._resourcesMap.values());return!0!==e&&this._registry?this._registry.getPointers().concat(t):t},removePointer:function(e,t){var r=i.Pointer.getID(e);if(this.inScope(r,!0)){var n=this._getLocalID(r);if(this._resourcesMap.delete(n))return!0}return!(!0===t||!this._registry)&&this._registry.removePointer(e)},_getLocalID:function(e){throw new o.IllegalArgumentError('"'+e+'" is out of scope.')},_register:function(e){if(!e.id)throw new o.IllegalArgumentError("The resource ID is required.");var t=this._getLocalID(e.id);if(this._resourcesMap.has(t))throw new o.IDAlreadyInUseError('"'+e.id+'" is already being used.');var r=i.Pointer.decorate(e);return r._registry=this,this._resourcesMap.set(t,r),r}};t.Registry={PROTOTYPE:a,isDecorated:function(e){return s.isObject(e)&&n.ModelDecorator.hasPropertiesFrom(a,e)},decorate:function(e){return t.Registry.isDecorated(e)?e:n.ModelDecorator.definePropertiesFrom(a,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(23),i=r(12),s=r(10),a=r(42),c=r(7),u=r(0),l={_context:void 0,_registry:void 0,_getLocalID:function(e){return s.URI.isBNodeID(e)?e:a.Registry.PROTOTYPE._getLocalID.call(this,e)},_register:function(e){e.id||(e.id=s.URI.generateBNodeID());var t=a.Registry.PROTOTYPE._register.call(this,e);return c.TransientResource.decorate(t)},toJSON:function(){var e=this,t=this._registry?this._registry.getGeneralSchema():new i.DigestedObjectSchema,r=this._registry?this._registry.jsonldConverter:new o.JSONLDConverter;return this.getPointers(!0).map(function(n){var o=e._registry?e._registry.getSchemaFor(n):t;return r.expand(n,t,o)})}};t.FreeResources={PROTOTYPE:l,is:function(e){return u.isObject(e)&&t.FreeResources.isDecorated(e)},isDecorated:function(e){return u.isObject(e)&&n.ModelDecorator.hasPropertiesFrom(l,e)},create:function(e){var r=Object.assign({},e);return t.FreeResources.createFrom(r)},createFrom:function(e){return t.FreeResources.decorate(e)},decorate:function(e){if(t.FreeResources.isDecorated(e))return e;var r=a.Registry.decorate(e);return n.ModelDecorator.definePropertiesFrom(l,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=r(4),i=r(3),s=r(12),a=r(119),c=function(){function e(e){this.context=e,this._variablesCounter=0,this._variablesMap=new Map,this._prefixesMap=new Map}return e.prototype.getVariable=function(e){if(this._variablesMap.has(e))return this._variablesMap.get(e);var t=new a.QueryVariable(e,this._variablesCounter++);return this._variablesMap.set(e,t),t},e.prototype.serializeLiteral=function(e,t){return this.context&&this.context.registry.jsonldConverter.literalSerializers.has(e)?this.context.registry.jsonldConverter.literalSerializers.get(e).serialize(t):""+t},e.prototype.compactIRI=function(e){if(!this.context)return n.isPrefixed(e)?new o.PrefixedNameToken(e):new o.IRIToken(e);var t,r,s=this.context.getObjectSchema();if(!n.isPrefixed(e)){for(var a=0,c=Array.from(s.prefixes.entries());a<c.length;a++){var u=c[a],l=u[0],f=u[1];if(e.startsWith(f)){t=l,r=e.substr(f.length);break}}if(void 0===t)return new o.IRIToken(e)}var p=new o.PrefixedNameToken(t||e,r);if(t=p.namespace,!this._prefixesMap.has(t)){if(!s.prefixes.has(t))throw new i.IllegalArgumentError('Prefix "'+t+'" has not been declared.');var d=new o.IRIToken(s.prefixes.get(t));this._prefixesMap.set(t,new o.PrefixToken(t,d))}return p},e.prototype.getPrologues=function(){return Array.from(this._prefixesMap.values())},e.prototype.getGeneralSchema=function(){return this.context?this.context.registry.getGeneralSchema():new s.DigestedObjectSchema},e.prototype.hasSchemaFor=function(e,t){return!!this.context&&this.context.registry.hasSchemaFor(e)},e.prototype.getSchemaFor=function(e,t){return this.context?this.context.registry.getSchemaFor(e):new s.DigestedObjectSchema},e}();t.QueryContext=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(29),i=r(62),s=r(12),a=r(0),c=r(122),u=r(54),l=r(123),f=r(44),p=Object.freeze({}),d=function(){function e(t,r){this.inherit=p,this.all=e.ALL,this._context=t,r._builder=this,this._document=r,this._typesTriple=new n.SubjectToken(r.variable).addPredicate(new n.PredicateToken("a")),this._values=(new n.ValuesToken).addValues(r.variable),this._schema=this._context.getGeneralSchema()}return e.prototype.property=function(e){if(void 0===e)return this._document;for(var t=this._document.name;t;){var r=t+"."+e;if(this._context.hasProperty(r))return this._context.getProperty(r);var n=f.getParentPath(r);if(this._context.hasProperty(n)){var i=this._context.getProperty(n),s=i.getType();if(s===u.QueryPropertyType.FULL||s===u.QueryPropertyType.ALL){var a=r.substr(n.length+1);return i._builder._addProperty(a,p)}}t=f.getParentPath(t)}throw new o.IllegalArgumentError('The "'+e+'" property was not declared.')},e.prototype.value=function(e){return new l.QueryValue(this._context,e)},e.prototype.object=function(e){return new c.QueryObject(this._context,e)},e.prototype.withType=function(e){if(this._context.hasProperties(this._document.name))throw new i.IllegalStateError("Types must be specified before the properties.");return e=s.ObjectSchemaUtils.resolveURI(e,this._schema,{vocab:!0}),this._typesTriple.predicates[0].objects.length||this._document.addPattern(this._typesTriple),this._typesTriple.predicates[0].addObject(this._context.compactIRI(e)),this._context.context?(this._context.context.hasObjectSchema(e)&&s.ObjectSchemaDigester._combineSchemas([this._schema,this._context.context.getObjectSchema(e)]),this):this},e.prototype.properties=function(t){if(t===e.ALL)return this._document.setType(u.QueryPropertyType.ALL),this;for(var r in t){var n=t[r],o=a.isObject(n)?n:{"@id":n};this._addProperty(r,o)}return this},e.prototype.filter=function(e){var t=this._document.name.split(".")[0];return this._context.getProperty(t).addPattern(new n.FilterToken(e)),this},e.prototype.values=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.map(function(e){var t=e.getToken();if("blankNode"===t.token)throw new o.IllegalArgumentError('Blank node "'+t.label+'" is not a valid value.');return t});this._values.values[0].length||this._document.addPattern(this._values),(s=this._values.values[0]).push.apply(s,r);for(var n=this._document;n.isOptional();){n.setOptional(!1);var i=f.getParentPath(n.name);n=this._context.getProperty(i)}return this;var s},e.prototype._addProperty=function(t,r){var n=this.addPropertyDefinition(t,r),i=this._document.name+"."+t,s=(c=this._context.addProperty(i)).addPattern.apply(c,f.createPropertyPatterns(this._context,this._document.name,i,n));if("query"in r){!1===n.literal&&s.setType(u.QueryPropertyType.PARTIAL);var a=new e(this._context,s);if(a!==r.query.call(void 0,a))throw new o.IllegalArgumentError("The provided query builder was not returned")}return(l=this._document).addPattern.apply(l,s.getPatterns()),s;var c,l},e.prototype.addPropertyDefinition=function(e,t){var r=s.ObjectSchemaDigester.digestProperty(e,t,this._schema),n="@id"in t?r.uri:void 0,i=this._context.getInheritTypeDefinition(this._schema,e,n);if(i)for(var a in i)null!==r[a]&&"uri"!==a||(r[a]=i[a]);if(!r.uri)throw new o.IllegalArgumentError('Invalid property "'+e+'" definition, "@id" is necessary.');return this._document.getSchema().properties.set(e,r),r},e.ALL=Object.freeze({}),e}();t.QueryDocumentBuilder=d},function(e,t,r){"use strict";function n(e,t){var r=t.getHeader("Content-Location");if(!r)return e;if(1!==r.values.length)throw new w.BadResponseError("The response must contain one Content-Location header.",t);var n=""+r;if(!n)throw new w.BadResponseError("The response doesn't contain a valid 'Content-Location' header.",t);return n}function o(e,t,r){var n=new E.JSONLDCompacter(e).compactDocument(t);return n._eTag=r,n._resolved=!0,n}function i(e,t){e._context&&e._context.auth&&e._context.auth.addAuthentication(t)}function s(e,t,r){return i(e,t),r&&S.RequestUtils.setPreferredInteractionModel(r,t),S.RequestUtils.setAcceptHeader("application/ld+json",t),t}function a(e){if(e._registry)return e._registry;throw new O.IllegalActionError('"'+e.id+"\" doesn't support CRUD requests.")}function c(e,t,r){if(e.hasPointer(t)){var i=e.getPointer(t);if(i.isResolved()){if(!r.ensureLatest)return i;S.RequestUtils.setIfNoneMatchHeader(i._eTag,r)}}return s(e,r,I.LDP.RDFSource),S.RequestService.get(t,r,new D.RDFDocumentParser).then(function(r){var i=r[0],s=r[1];t=n(t,s);var a=i.find(function(e){return e["@id"]===t});if(!a)throw new w.BadResponseError("No document was returned.",s);var c=s.getETag();return o(e,a,c)}).catch(e._parseErrorFromResponse.bind(e))}function u(e,t){if(t.length)for(var r=e._parseFreeNodes(t),n=r.getPointers().find(R.ResponseMetadata.is),o=0,i=n.documentsMetadata;o<i.length;o++)for(var s=i[o],a=s.relatedDocument,c=0,u=s.bNodesMap.entries;c<u.length;c++){var l=u[c],f=l.entryKey,p=l.entryValue,d=a.getPointer(f.id,!0);a.removePointer(f.id),d.id=p.id,a._register(d)}}function l(e,t,r){return 204!==r.status&&r.data?(new E.JSONLDParser).parse(r.data).then(function(n){var i=D.RDFNode.getFreeNodes(n);u(e,i);var s=r.getHeader("Preference-Applied");if(null===s||"return=representation"!==s.toString())return t;var a=D.RDFDocument.getDocuments(n).find(function(e){return e["@id"]===t.id});if(!a)throw new w.BadResponseError("No document was returned.",r);return o(e,a,r.getETag())}):t}function f(e,t,r,n,o){if(S.RequestUtils.setContentTypeHeader("application/ld+json",o),n.id&&!D.URI.isBaseOf(t,n.id))return Promise.reject(new O.IllegalArgumentError("The document's URI is not relative to the parentURI specified"));if(n.__CarbonLDP_persisting__)return Promise.reject(new O.IllegalArgumentError("The document is already being persisted."));Object.defineProperty(n,"__CarbonLDP_persisting__",{configurable:!0,enumerable:!1,writable:!1,value:!0}),n._registry=e;var i=JSON.stringify(n);return r&&S.RequestUtils.setSlug(r,o),S.RequestService.post(t,i,o).then(function(t){delete n.__CarbonLDP_persisting__;var r=t.getHeader("Location");if(null===r||r.values.length<1)throw new w.BadResponseError("The response is missing a Location header.",t);if(1!==r.values.length)throw new w.BadResponseError("The response contains more than one Location header.",t);n.id=r.values[0].toString(),e._register(n);var o=A.ProtectedDocument.decorate(n);return o.getFragments().forEach(T.Fragment.decorate),l(e,o,t)}).catch(function(t){return delete n.__CarbonLDP_persisting__,e._parseErrorFromResponse(t)})}function p(e,t,r,n,o){if(M.PersistedResource.is(n))throw new O.IllegalArgumentError("The child provided has already been persisted.");var i;return L.TransientDocument.is(n)?(i=n,i._normalize()):(n||(n={}),i=L.TransientDocument.createFrom(n)),s(e,r,I.LDP.Container),f(e,t,o,i,r)}function d(e,t,r,n,o,i){return C.promiseMethod(function(){var s=a(t);i=S.RequestUtils.isOptions(n)?n:S.RequestUtils.isOptions(o)?o:i||{};var c=C.isString(r)?r:void 0,u=S.RequestUtils.getRequestURLFor(s,t,c),l=C.isString(n)?n:C.isString(o)||Array.isArray(o)?o:Array.isArray(n)&&Array.isArray(r)?n:null,f=Array.isArray(r)||C.isObject(r)?r:n;if(S.RequestUtils.setPreferredRetrieval(e,i),!Array.isArray(l)&&!Array.isArray(f))return p(s,u,i,f,l);for(var d=Array.isArray(l)?l.length:0,h=Array.isArray(f)?f.length:0,v=Math.max(d,h),y=Array(v),g=0;g<v;++g){var m=S.RequestUtils.cloneOptions(i),_=g<h?f[g]:void 0,b=g<d?l[g]:void 0;y[g]=p(s,u,m,_,b)}return Promise.all(y)})}function h(e,t,r,n,o){if(M.PersistedResource.is(n))throw new O.IllegalArgumentError("The access-point provided has already been persisted.");var i;if(b.TransientAccessPoint.is(n)?(i=n,i._normalize()):i=b.TransientAccessPoint.createFrom(n),i.membershipResource){if(i.membershipResource.id!==t)throw new O.IllegalArgumentError("The endpoint URI must be the same as the accessPoint's membershipResource.")}else i.membershipResource=e.getPointer(t);return s(e,r,I.LDP.RDFSource),f(e,t,o,i,r)}function v(e,t,r,n,o,i){return void 0===i&&(i={}),C.promiseMethod(function(){var s=a(t),c=C.isString(r)?r:void 0,u=S.RequestUtils.getRequestURLFor(s,t,c),l=C.isObject(r)?r:n,f=C.isString(n)?n:C.isString(o)?o:void 0;return i=S.RequestUtils.isOptions(n)?n:C.isObject(o)?o:i,S.RequestUtils.setPreferredRetrieval(e,i),h(s,u,i,l,f)})}function y(e,t,r,n,o,i){return void 0===i&&(i={}),C.promiseMethod(function(){var s=a(t),c=C.isString(r)?r:void 0,u=S.RequestUtils.getRequestURLFor(s,t,c),l=Array.isArray(r)?r:n,f=Array.isArray(n)&&n!==l?n:Array.isArray(o)?o:void 0;i=S.RequestUtils.isOptions(n)?n:C.isObject(o)&&o!==f?o:i,S.RequestUtils.setPreferredRetrieval(e,i);for(var p=Array.isArray(f)?f.length:0,d=l.length,v=Array(d),y=0;y<d;++y){var g=S.RequestUtils.cloneOptions(i),m=y<p?f[y]:void 0;v[y]=h(s,u,g,l[y],m)}return Promise.all(v)})}function g(e,t,r){var n=S.RequestUtils.getRequestURLFor(e,t);return s(e,r,I.LDP.RDFSource),S.RequestUtils.setIfNoneMatchHeader(t._eTag,r),S.RequestService.get(n,r,new D.RDFDocumentParser).then(function(r){var i=r[0],s=r[1];if(null===s)return t;var a=i.find(function(e){return e["@id"]===n});if(null===a)throw new w.BadResponseError("No document was returned.",s);var c=s.getETag();return o(e,a,c)}).catch(function(e){return 304===e.status?t:t._registry._parseErrorFromResponse(e)})}function m(e,t,r,n,o){var i=e.getSchemaFor(r);t.addResource(i,r.id,o,n)}function _(e,t,r){var n=S.RequestUtils.getRequestURLFor(e,t);if(!t.isDirty())return Promise.resolve(t);t._normalize(),s(e,r),S.RequestUtils.setContentTypeHeader("text/ldpatch",r),S.RequestUtils.setIfMatchHeader(t._eTag,r);var o=new j.DeltaCreator(t._registry.jsonldConverter);m(e,o,t,t,t._snapshot),t.getPointers(!0).forEach(function(t){var r=M.PersistedResource.is(t)?t._snapshot:{};m(e,o,t,t,r)}),t._savedFragments.filter(function(e){return!t.hasPointer(e.id)}).forEach(function(t){m(e,o,t,{},t._snapshot)});var i=o.getPatch();return S.RequestService.patch(n,i,r).then(function(r){return l(e,t,r)}).catch(e._parseErrorFromResponse.bind(t))}Object.defineProperty(t,"__esModule",{value:!0});var b=r(110),P=r(15),O=r(3),T=r(22),S=r(26),w=r(30),E=r(23),R=r(20),j=r(124),A=r(34),D=r(10),M=r(7),C=r(0),I=r(1),x=r(67),L=r(53),N={get:function(e,t){var r=this;return C.promiseMethod(function(){var n=a(r),o=C.isString(e)?e:void 0,i=S.RequestUtils.getRequestURLFor(n,r,o);return t=C.isObject(e)?e:t||{},c(n,i,t)})},resolve:function(e){var t=this;return void 0===e&&(e={}),C.promiseMethod(function(){var r=a(t);return c(r,S.RequestUtils.getRequestURLFor(r,t),e)})},exists:function(e,t){var r=this;return void 0===t&&(t={}),C.promiseMethod(function(){var n=a(r),o=S.RequestUtils.getRequestURLFor(n,r,e);return s(n,t,I.LDP.RDFSource),S.RequestService.head(o,t).then(function(){return!0}).catch(function(e){return 404!==e.status&&n._parseErrorFromResponse(e)})})},create:function(e,t,r,n){return d("minimal",this,e,t,r,n)},createAndRetrieve:function(e,t,r,n){return void 0===n&&(n={}),d("representation",this,e,t,r,n)},createAccessPoint:function(e,t,r,n){return v("minimal",this,e,t,r,n)},createAccessPointAndRetrieve:function(e,t,r,n){return v("representation",this,e,t,r,n)},createAccessPoints:function(e,t,r,n){return y("minimal",this,e,t,r,n)},createAccessPointsAndRetrieve:function(e,t,r,n){return y("representation",this,e,t,r,n)},refresh:function(e){var t=this;return void 0===e&&(e={}),C.promiseMethod(function(){if(!M.PersistedResource.is(t))throw new O.IllegalArgumentError("The resource isn't a persisted resource.");return g(a(t),t,e)})},save:function(e){var t=this;return void 0===e&&(e={}),C.promiseMethod(function(){if(!M.PersistedResource.is(t))throw new O.IllegalArgumentError("The resource isn't a persisted resource.");var r=a(t);return S.RequestUtils.setPreferredRetrieval("minimal",e),_(r,t,e)})},saveAndRefresh:function(e){var t=this;return void 0===e&&(e={}),C.promiseMethod(function(){if(!M.PersistedResource.is(t))throw new O.IllegalArgumentError("The resource isn't a persisted resource.");var r=a(t);return S.RequestUtils.setPreferredRetrieval("representation",e),_(r,t,e)})},delete:function(e,t){var r=this;return void 0===t&&(t={}),C.promiseMethod(function(){var n=a(r),o=C.isString(e)?e:void 0,i=S.RequestUtils.getRequestURLFor(n,r,o);return s(n,t,I.LDP.RDFSource),S.RequestService.delete(i,t).then(function(){r._registry.removePointer(i)}).catch(r._registry._parseErrorFromResponse.bind(r))})}};t.CRUDDocument={PROTOTYPE:N,isDecorated:function(e){return C.isObject(e)&&P.ModelDecorator.hasPropertiesFrom(N,e)},decorate:function(e){if(t.CRUDDocument.isDecorated(e))return e;var r=P.ModelDecorator.decorateMultiple(e,x.BasePersistedDocument);return P.ModelDecorator.definePropertiesFrom(N,r)},is:function(e){return C.isObject(e)&&x.BasePersistedDocument.is(e)&&t.CRUDDocument.isDecorated(e)}}},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(3)),i=r(63),s=r(115),a=r(52),c=r(127),u=function(){function e(){}return e.executeRawASKQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),i.RequestUtils.setAcceptHeader("application/sparql-results+json",n),i.RequestUtils.setContentTypeHeader("application/sparql-query",n),i.RequestService.post(t,r,n,e.RESULTS_PARSER)},e.executeASKQuery=function(t,r,n){return void 0===n&&(n={}),e.executeRawASKQuery(t,r,n).then(function(e){var t=e[0],r=e[1];return[t.boolean,r]})},e.executeRawSELECTQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),i.RequestUtils.setAcceptHeader("application/sparql-results+json",n),i.RequestUtils.setContentTypeHeader("application/sparql-query",n),i.RequestService.post(t,r,n,e.RESULTS_PARSER)},e.executeSELECTQuery=function(t,r,n,o){return void 0===o&&(o={}),e.executeRawSELECTQuery(t,r,o).then(function(t){for(var r=t[0],o=t[1],i=r.results.bindings,s=[],a=0,c=i;a<c.length;a++){var u=c[a],l={};for(var f in u)if(u.hasOwnProperty(f)){var p=u[f];l[f]=e.parseRawBindingProperty(p,n)}s.push(l)}return[{vars:r.head.vars,bindings:s},o]})},e.executeRawCONSTRUCTQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),void 0===i.RequestUtils.getHeader("Accept",n)&&i.RequestUtils.setAcceptHeader("application/ld+json",n),i.RequestUtils.setContentTypeHeader("application/sparql-query",n),i.RequestService.post(t,r,n,e.STRING_PARSER)},e.executeRawDESCRIBEQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),void 0===i.RequestUtils.getHeader("Accept",n)&&i.RequestUtils.setAcceptHeader("application/ld+json",n),i.RequestUtils.setContentTypeHeader("application/sparql-query",n),i.RequestService.post(t,r,n,e.STRING_PARSER)},e.executeUPDATE=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),void 0===i.RequestUtils.getHeader("Accept",n)&&i.RequestUtils.setAcceptHeader("application/ld+json",n),i.RequestUtils.setContentTypeHeader("application/sparql-update",n),i.RequestService.post(t,r,n)},e.parseRawBindingProperty=function(e,t){switch(e.type){case"uri":return t.getPointer(e.value);case"bnode":throw new o.NotImplementedError("BNodes cannot be queried directly");case"literal":return"datatype"in e?a.RDFLiteral.parse(e.value,e.datatype):a.RDFLiteral.parse(e.value);default:throw new o.IllegalArgumentError("The bindingProperty has an unsupported type")}},e.DEFAULT_OPTIONS={},e.RESULTS_PARSER=new c.SPARQLRawResultsParser,e.STRING_PARSER=new s.StringParser,e}();t.SPARQLService=u},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(265)),n(r(266)),n(r(267)),n(r(75)),n(r(268)),n(r(269)),n(r(270)),n(r(135)),n(r(31)),n(r(271)),n(r(272)),n(r(76)),n(r(273)),n(r(274)),n(r(275)),n(r(136))},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(31),s=n({},i.EventMessage.SCHEMA,{details:{"@id":o.C.details,"@type":"@id"}});t.DocumentCreated={SCHEMA:s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o={members:{"@id":n.C.member,"@type":"@id","@container":"@set"}};t.MemberDetails={SCHEMA:o}},function(e,t,r){"use strict";(function(t){function n(e,t,r){u(e,t);var n=this;o.call(this),setTimeout(function(){n._start(e,t,r)},0)}var o=r(13).EventEmitter,i=r(2),s=r(27),a=r(46),c=r(16),u=function(){};u=r(9)("sockjs-client:sender:xdr"),i(n,o),n.prototype._start=function(e,r,n){u("_start");var o=this,i=new t.XDomainRequest;r=c.addQuery(r,"t="+ +new Date),i.onerror=function(){u("onerror"),o._error()},i.ontimeout=function(){u("ontimeout"),o._error()},i.onprogress=function(){u("progress",i.responseText),o.emit("chunk",200,i.responseText)},i.onload=function(){u("load"),o.emit("finish",200,i.responseText),o._cleanup(!1)},this.xdr=i,this.unloadRef=s.unloadAdd(function(){o._cleanup(!0)});try{this.xdr.open(e,r),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(e){this._error()}},n.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},n.prototype._cleanup=function(e){if(u("cleanup",e),this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},n.prototype.close=function(){u("close"),this._cleanup(!0)},n.enabled=!(!t.XDomainRequest||!a.hasDomain()),e.exports=n}).call(t,r(8))},function(e,t,r){"use strict";(function(t){var n=r(2),o=r(144),i=r(79);e.exports=function(e){function r(t,r){o.call(this,e.transportName,t,r)}return n(r,o),r.enabled=function(r,n){if(!t.document)return!1;var s=i.extend({},n);return s.sameOrigin=!0,e.enabled(s)&&o.enabled()},r.transportName="iframe-"+e.transportName,r.needBody=!0,r.roundTrips=o.roundTrips+e.roundTrips-1,r.facadeTransport=e,r}}).call(t,r(8))},function(e,t,r){"use strict";e.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}}},function(e,t,r){"use strict";function n(e){this.type=e}n.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,e.exports=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(323)),n(r(168))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(26),i=r(30),s=r(23),a=r(10),c=r(0),u=r(1),l=r(83),f=function(){function e(e){this.context=e}return Object.defineProperty(e.prototype,"authenticatedUser",{get:function(){return this._authenticatedUser},enumerable:!0,configurable:!0}),e.prototype.isAuthenticated=function(){return!!this._credentials},e.prototype.clearAuthentication=function(){this._credentials=null,this._authenticatedUser=null},e.prototype.addAuthentication=function(e){if(e.headers&&e.headers.has("authorization"))return e;if(!this.isAuthenticated())throw new n.IllegalStateError("The authenticator isn't authenticated.");e.headers||(e.headers=new Map);var t=this._getHeaderValue();return e.headers.set("authorization",new o.Header([t])),e},e.prototype.getAuthenticatedUser=function(e){var t=this;return void 0===e&&(e={}),this._authenticatedUser?Promise.resolve(this._authenticatedUser):c.promiseMethod(function(){var r=t.context._resolvePath("users.me"),n=o.RequestUtils.cloneOptions(e);return t.addAuthentication(n),o.RequestUtils.setAcceptHeader("application/ld+json",n),o.RequestUtils.setPreferredInteractionModel(u.LDP.RDFSource,n),n.ensureLatest=!0,o.RequestService.get(r,n,new s.JSONLDParser).catch(t.context.registry._parseErrorFromResponse)}).then(function(r){var n=r[0],o=r[1],i=t._parseRDFMetadata(n,o,e);return t._authenticatedUser=i.authenticatedUserMetadata.user,l.User.decorate(t._authenticatedUser)})},e.prototype._parseRDFMetadata=function(e,t,r){var n=this.context._resolvePath("users.me"),o=a.RDFDocument.getDocuments(e).filter(function(e){return e["@id"]===n});if(1!==o.length)throw new i.BadResponseError("No correct cs:UserMetadata was returned.",t);var c=new s.JSONLDCompacter(this.context.registry).compactDocument(o[0]);return c._eTag=t.getETag(),c._resolved=!0,c},e}();t.AbstractAuthenticator=f},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(171)),n(r(327))},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof btoa?btoa(e):new Buffer(e).toString("base64")}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),s=r(0),a=r(82),c=r(174),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.authenticate=function(e){var t=this;return s.promiseMethod(function(){if(!e)throw new i.IllegalArgumentError("The authenticationToken cannot be empty.");if(!e.username)throw new i.IllegalArgumentError("The username cannot be empty.");if(!e.password)throw new i.IllegalArgumentError("The password cannot be empty.");return t._credentials=new c.BasicCredentials(e.username,e.password),t._credentials})},t.prototype._getHeaderValue=function(){return"Basic "+n(this._credentials.username+":"+this._credentials.password)},t}(a.AbstractAuthenticator);t.BasicAuthenticator=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(0),i=r(65),s=r(14);t.TokenCredentialsBase={is:function(e){return o.isObject(e)&&e.hasOwnProperty("token")&&e.hasOwnProperty("expires")}};var a={token:{"@id":i.CS.token,"@type":s.XSD.string},expires:{"@id":i.CS.expires,"@type":s.XSD.dateTime}};t.TokenCredentials={TYPE:i.CS.TokenCredentials,SCHEMA:a,is:function(e){return n.VolatileResource.is(e)&&e.hasType(t.TokenCredentials.TYPE)},createFrom:function(e){var r=n.VolatileResource.createFrom(e);return r.addType(t.TokenCredentials.TYPE),o.isString(r.expires)&&(r.expires=new Date(r.expires)),r}}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(38),i=r(25),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof t||e instanceof o.Identifier?i.SPACE_SEPARATOR:i.EMPTY_SEPARATOR},t.prototype.getCompactSeparator=function(e){return i.EMPTY_SEPARATOR},t}(i.Token);t.LeftSymbol=s,t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="iri",this.value=e}return e.prototype.toString=function(){return"<"+this.value+">"},e}();t.IRIToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(59),o=/^([A-Za-z](([A-Za-z_\-0-9]|\.)*[A-Za-z_\-0-9])?)?$/,i=function(){function e(e,t){this.token="prefixedName";var r=e;if(void 0===t){if(!n.isPrefixed(e))throw new Error("Invalid prefixed name.");l=e.split(/:(.*)/),r=l[0],t=l[1]}if(!o.test(r))throw new Error("Invalid prefixed namespace.");this.namespace=r;var i=t.split(/^(.)(?:(.*)?(.))?$/),s=i[1],a=i[2],c=i[3],u="";s&&(u+=s.replace(/([\-.])/g,"\\$1")),a&&(u+=a),a&&(u+=c.replace(/([.])/g,"\\$1")),this.localName=u.replace(/([~!$&'|()*+,;=\/?#@%])/g,"\\$1");var l}return e.prototype.toString=function(){return this.namespace+":"+this.localName},e}();t.PrefixedNameToken=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="number",this.value=e}return e.prototype.toString=function(){return""+this.value},e}();t.NumberToken=n},function(e,t,r){"use strict";function n(e){return o.test(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/;t.isLanguageTag=n;var i=function(){function e(e){if(this.token="language",!n(e))throw new Error("Invalid language tag.");this.tag=e}return e.prototype.toString=function(){return"@"+this.tag},e}();t.LanguageToken=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="boolean",this.value=e}return e.prototype.toString=function(){return""+this.value},e}();t.BooleanToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="string",this.value=e}return e.prototype.toString=function(){return'"'+this.value+'"'},e}();t.StringToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(12),i=r(10),s=r(0),a=function(){function e(e){this._parentContext=e,this._typeObjectSchemaMap=new Map}return Object.defineProperty(e.prototype,"baseURI",{get:function(){return this._baseURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentContext",{get:function(){return this._parentContext},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){return i.URI.resolve(this.baseURI,e)},e.prototype._resolvePath=function(e){for(var t=e.split("."),r=[],o="",a=this._settings&&this._settings.paths;t.length;){var c=t.shift();r.push(c);var u=a?a[c]:null;if(!u)throw new n.IllegalStateError('The path "'+r.join(".")+"\" hasn't been declared.");var l=s.isString(u)?u:u.slug;if(!l)throw new n.IllegalStateError('The path "'+r.join(".")+"\" doesn't have a slug set.");o=i.URI.resolve(o,l),a=s.isObject(u)?u.paths:null}return this.resolve(o)},e.prototype.hasObjectSchema=function(e){return e=this._resolveTypeURI(e),!!this._typeObjectSchemaMap.has(e)||!!this.parentContext&&this.parentContext.hasObjectSchema(e)},e.prototype.getObjectSchema=function(e){if(e){if(e=this._resolveTypeURI(e),this._typeObjectSchemaMap.has(e))return this._typeObjectSchemaMap.get(e);if(this.parentContext&&this.parentContext.hasObjectSchema(e))return this.parentContext.getObjectSchema(e);throw new n.IllegalArgumentError('"'+e+"\" hasn't an object schema.")}var t=this._generalObjectSchema?o.ObjectSchemaDigester.combineDigestedObjectSchemas([this._generalObjectSchema]):this.parentContext?this.parentContext.getObjectSchema():new o.DigestedObjectSchema;return void 0===t.vocab&&this._settings&&this._settings.vocabulary&&(t.vocab=this.resolve(this._settings.vocabulary)),t.base||(t.base=this.baseURI),t},e.prototype.extendObjectSchema=function(e,t){var r=t?e:null;t=t||e;var n=o.ObjectSchemaDigester.digestSchema(t);return r?this._extendTypeSchema(n,r):this._extendGeneralSchema(n),this},e.prototype.clearObjectSchema=function(e){e?(e=this._resolveTypeURI(e),this._typeObjectSchemaMap.delete(e)):this._generalObjectSchema=this.parentContext?null:new o.DigestedObjectSchema},e.prototype._getTypeObjectSchemas=function(){return this._getObjectSchemasTypes().map(this.getObjectSchema,this)},e.prototype._getObjectSchemasTypes=function(){var e=Array.from(this._typeObjectSchemaMap.keys());if(!this._parentContext)return e;for(var t=this._parentContext._getObjectSchemasTypes(),r=0,n=e;r<n.length;r++){var o=n[r];-1===t.indexOf(o)&&t.push(o)}return t},e.prototype._extendGeneralSchema=function(e){var t;t=this._generalObjectSchema?this._generalObjectSchema:this.parentContext?this.parentContext.getObjectSchema():new o.DigestedObjectSchema,this._generalObjectSchema=o.ObjectSchemaDigester._combineSchemas([t,e])},e.prototype._extendTypeSchema=function(e,t){t=this._resolveTypeURI(t);var r;r=this._typeObjectSchemaMap.has(t)?this._typeObjectSchemaMap.get(t):this.parentContext&&this.parentContext.hasObjectSchema(t)?this.parentContext.getObjectSchema(t):new o.DigestedObjectSchema;var n=o.ObjectSchemaDigester.combineDigestedObjectSchemas([r,e]);this._typeObjectSchemaMap.set(t,n)},e.prototype._resolveTypeURI=function(e){return o.ObjectSchemaUtils.resolveURI(e,this.getObjectSchema(),{vocab:!0})},e}();t.AbstractContext=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.SET=0]="SET",e[e.LIST=1]="LIST",e[e.LANGUAGE=2]="LANGUAGE"}(t.ContainerType||(t.ContainerType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.base="",this.vocab=void 0,this.language=null,this.prefixes=new Map,this.properties=new Map}return e}();t.DigestedObjectSchema=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.uri=null,this.literal=null,this.literalType=null,this.pointerType=null,this.containerType=null}return e}();t.DigestedObjectSchemaProperty=n},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(10),i=n(r(0)),s=function(){function e(){}return e.resolveURI=function(t,r,n){if(void 0===n&&(n={}),null===t||o.URI.isAbsolute(t)||o.URI.isBNodeID(t))return t;var i=t.split(":"),s=i[0],a=i[1],c=void 0===a?"":a,u=r.prefixes.has(s)?r.prefixes.get(s):r.properties.has(s)?r.properties.get(s).uri:null;return null!==u&&u!==s?e.resolveURI(u+c,r,{vocab:!0}):c?t:n.vocab&&r.vocab?r.vocab+t:n.base?o.URI.resolve(r.base,t):t},e.resolveProperty=function(t,r,n){var o=r.uri,s=r.literalType,a=e.resolveURI(o,t,{vocab:!0}),c=e.resolveURI(s,t,{vocab:!0,base:!0});return a===o&&c===s||(r=n?r:i.ObjectUtils.clone(r),r.uri=a,r.literalType=c),r},e}();t.ObjectSchemaUtils=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(99),s=o(r(0)),a=r(51),c=r(41);t.RDFDocument={is:function(e){return s.hasProperty(e,"@graph")&&s.isArray(e["@graph"])},create:function(e,t){var r={"@graph":e};return t&&(r["@id"]=t),r},getDocuments:function(e){return s.isArray(e)?e.filter(t.RDFDocument.is):t.RDFDocument.is(e)?[e]:[]},getResources:function(e){var r=a.RDFNode.getFreeNodes(e);return t.RDFDocument.getDocuments(e).map(function(e){return e["@graph"]}).forEach(function(e){return r.push.apply(r,e)}),r},getDocumentResources:function(e){return t.RDFDocument.getResources(e).filter(function(e){return!a.RDFNode.isFragment(e)})},getNamedFragmentResources:function(e,r){var n=s.isObject(r)?a.RDFNode.getID(r):r;return t.RDFDocument.getResources(e).filter(function(e){var t=a.RDFNode.getID(e);if(c.URI.hasFragment(t))return!n||c.URI.getDocumentURI(t)===n})},getBNodeResources:function(e){return t.RDFDocument.getResources(e).filter(function(e){var t=a.RDFNode.getID(e);return c.URI.isBNodeID(t)})},getNodes:function(e){for(var t=[],r=[],n=0,o=e["@graph"];n<o.length;n++){var i=o[n];(a.RDFNode.isFragment(i)?r:t).push(i)}return[t,r]}};var u=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.parse=function(r){return e.prototype.parse.call(this,r).then(t.RDFDocument.getDocuments)},r}(i.JSONLDParser);t.RDFDocumentParser=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(50),i=r(100),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.parse=function(t){return e.prototype.parse.call(this,t).then(i.JSONLDProcessor.expand)},t}(o.JSONParser);t.JSONLDParser=s},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(50),s=r(63),a=r(40),c=r(41),u=n(r(12)),l=n(r(0)),f=function(){function e(){}return e.expand=function(t){return e.retrieveContexts(t,Object.create(null),"").then(function(){var r=e.process(new u.DigestedObjectSchema,t);return l.isObject(r)&&"@graph"in r&&1===Object.keys(r).length?r=r["@graph"]:null===r&&(r=[]),l.isArray(r)||(r=[r]),r})},e.getTargetFromLinkHeader=function(e){for(var t=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,r=0,n=e.values;r<n.length;r++){var o=n[r],i=o.toString().match(t);if(i){for(var s=i[1],a=i[2],c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={};;){if(!(i=c.exec(a)))break;u[i[1]]=void 0===i[2]?i[3]:i[2]}if("http://www.w3.org/ns/json-ld#context"===u.rel)return s}}return null},e.findContextURLs=function(t,r,n,o){void 0===o&&(o=!1);var i=Object.keys(r).length;if(l.isArray(t))for(var s=0,a=t;s<a.length;s++){var u=a[s];e.findContextURLs(u,r,n)}else if(l.isPlainObject(t))for(var f in t)if("@context"===f){var p=t[f];if(l.isArray(p))for(var d=p,h=0,v=d.length;h<v;++h){var y=d[h];if(l.isString(y)){var g=y;g=c.URI.resolve(n,g),o?l.isArray(r[g])?(Array.prototype.splice.apply(d,[h,1].concat(r[g])),h+=r[g].length-1,v=d.length):d[h]=r[g]:g in r||(r[g]=!0)}}else if(l.isString(p)){var g=p;g=c.URI.resolve(n,g),o?t[f]=r[g]:g in r||(r[g]=null)}}else e.findContextURLs(t[f],r,n);return i<Object.keys(r).length},e.retrieveContexts=function(t,r,n){function a(t,n){return n.then(function(n){var o=n[0],i=n[1],s=l.ObjectUtils.clone(r);s[t]=!0;var a={"@context":{}},u=i.getHeader("Content-Type");if(l.StringUtils.contains(u.toString(),"application/ld+json"))a["@context"]="@context"in o?o["@context"]:{};else{u=i.getHeader("Link");var f=void 0;u&&(f=e.getTargetFromLinkHeader(u)),f&&(a["@context"]=f)}return c[t]=a["@context"],e.retrieveContexts(a,s,t)})}if(Object.keys(r).length>10)return Promise.reject(new o.InvalidJSONLDSyntaxError("Maximum number of @context URLs exceeded."));var c=Object.create(null);if(!e.findContextURLs(t,c,n))return Promise.resolve();var u=[];for(var f in c){var p=function(e){if(e in r)return{value:Promise.reject(new o.InvalidJSONLDSyntaxError("Cyclical @context URLs detected."))};var t={sendCredentialsOnCORS:!1};s.RequestUtils.setAcceptHeader("application/ld+json, application/json",t);var n=s.RequestService.get(e,t,new i.JSONParser).catch(function(t){return Promise.reject(new o.InvalidJSONLDSyntaxError('Unable to resolve context from "'+e+'". Status code: '+t.status))});u.push(a(e,n))}(f);if("object"==typeof p)return p.value}return Promise.all(u).then(function(){e.findContextURLs(t,c,n,!0)})},e.isKeyword=function(e){if(!l.isString(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0;default:return!1}},e.isValidType=function(e){if(l.isString(e))return!0;if(!l.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++){var n=r[t];if(!l.isString(n))return!1}return!0},e.expandURI=function(t,r,n){return e.isKeyword(r)?r:u.ObjectSchemaUtils.resolveURI(r,t,n)},e.expandLanguageMap=function(e){for(var t=[],r=Object.keys(e).sort(),n=0,i=r;n<i.length;n++){var s=i[n],a=e[s];l.isArray(a)||(a=[a]);for(var c=0,u=a;c<u.length;c++){var f=u[c];if(null!==f){if(!l.isString(f))throw new o.InvalidJSONLDSyntaxError("Language map values must be strings.");t.push({"@value":f,"@language":s.toLowerCase()})}}}return t},e.getContainer=function(e,t){if(e.properties.has(t))return e.properties.get(t).containerType},e.expandValue=function(t,r,n){if(l.isNull(r)||!l.isDefined(r))return null;if("@id"===n)return e.expandURI(t,r,{base:!0});if("@type"===n)return e.expandURI(t,r,{vocab:!0,base:!0});var o=new u.DigestedObjectSchemaProperty;if(t.properties.has(n)&&(o=t.properties.get(n)),!1===o.literal||"@graph"===n&&l.isString(r)){var i={base:!0};return o.pointerType===u.PointerType.VOCAB&&(i.vocab=!0),{"@id":e.expandURI(t,r,i)}}if(e.isKeyword(n))return r;var s={};if(o.literalType)s["@type"]=u.ObjectSchemaUtils.resolveURI(o.literalType,t,{vocab:!0,base:!0});else if(l.isString(r)){var a=l.isDefined(o.language)?o.language:t.language;null!==a&&(s["@language"]=a)}return-1===["boolean","number","string"].indexOf(typeof r)&&(r=r.toString()),s["@value"]=r,s},e.process=function(t,r,n,i){if(l.isNull(r)||!l.isDefined(r))return null;if(!l.isArray(r)&&!l.isObject(r))return i||null!==n&&"@graph"!==n?e.expandValue(t,r,n):null;if(l.isArray(r)){var s=e.getContainer(t,n);i=i||s===u.ContainerType.LIST;for(var f=[],p=0,d=r;p<d.length;p++){var h=d[p],v=e.process(t,h,n);if(null!==v){if(i&&(l.isArray(v)||a.RDFList.is(v)))throw new o.InvalidJSONLDSyntaxError("Lists of lists are not permitted.");l.isArray(v)||(v=[v]),f.push.apply(f,v)}}return f}"@context"in r&&(t=u.ObjectSchemaDigester.combineDigestedObjectSchemas([t,u.ObjectSchemaDigester.digestSchema(r["@context"])]));for(var y={},g=Object.keys(r),m=0,_=g;m<_.length;m++){var b=_[m];if("@context"!==b){var P=e.expandURI(t,b,{vocab:!0});if(P&&(c.URI.isAbsolute(P)||c.URI.isBNodeID(P)||e.isKeyword(P))){var O=r[b];if(e.isKeyword(P)){if("@id"===P&&!l.isString(O))throw new o.InvalidJSONLDSyntaxError('"@id" value must a string.');if("@type"===P&&!e.isValidType(O))throw new o.InvalidJSONLDSyntaxError('"@type" value must a string, an array of strings.');if("@graph"===P&&!l.isObject(O)&&!l.isArray(O))throw new o.InvalidJSONLDSyntaxError('"@graph" value must not be an object or an array.');if("@value"===P&&(l.isObject(O)||l.isArray(O)))throw new o.InvalidJSONLDSyntaxError('"@value" value must not be an object or an array.');if("@language"===P){if(null===O)continue;if(!l.isString(O))throw new o.InvalidJSONLDSyntaxError('"@language" value must be a string.');O=O.toLowerCase()}if("@index"===P&&!l.isString(O))throw new o.InvalidJSONLDSyntaxError('"@index" value must be a string.');if("@reverse"===P&&!l.isObject(O))throw new o.InvalidJSONLDSyntaxError('"@reverse" value must be an object.');if("@index"===P||"@reverse"===P)throw new o.NotImplementedError('The SDK does not support "@index" and "@reverse" tags.')}var T=void 0,s=e.getContainer(t,b);if(s===u.ContainerType.LANGUAGE&&l.isObject(O))T=e.expandLanguageMap(O);else{var S=b,w="@list"===P;(w||"@set"===P)&&(S=n,w&&"@graph"===n&&(S=null)),T=e.process(t,O,S,w)}if(null!==T||"@value"===P){"@list"===P||a.RDFList.is(T)||s!==u.ContainerType.LIST||(l.isArray(T)||(T=[T]),T={"@list":T});var E=-1===["@type","@id","@value","@language"].indexOf(P);e.addValue(y,P,T,{propertyIsArray:E})}}}}return"@value"in y?null===y["@value"]&&(y=null):"@type"in y?l.isArray(y["@type"])||(y["@type"]=[y["@type"]]):"@set"in y&&(y=y["@set"]),y},e.addValue=function(t,r,n,o){if(l.isArray(n)){var i=n;0===i.length&&o.propertyIsArray&&!l.hasProperty(t,r)&&(t[r]=[]);for(var s=0,a=i;s<a.length;s++){var c=a[s];e.addValue(t,r,c,o)}}else if(r in t){if(!e.hasValue(t,r,n)){var u=t[r];l.isArray(u)||(u=t[r]=[u]),u.push(n)}}else t[r]=o.propertyIsArray?[n]:n},e.hasProperty=function(e,t){if(t in e){var r=e[t];return!l.isArray(r)||r.length>0}return!1},e.compareValues=function(e,t){if(e===t)return!0;if(l.isObject(e)&&l.isObject(t)){if("@value"in e&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"])return!0;if("@id"in e)return e["@id"]===t["@id"]}return!1},e.hasValue=function(t,r,n){if(e.hasProperty(t,r)){var o=t[r],i=a.RDFList.is(o);if(i||l.isArray(o))for(var s=i?o["@list"]:o,c=0,u=s;c<u.length;c++){var f=u[c];if(e.compareValues(f,n))return!0}else if(!l.isArray(n))return e.compareValues(o,n)}return!1},e}();t.JSONLDProcessor=f},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(210)),n(r(217)),n(r(218)),n(r(219)),n(r(220)),n(r(221)),n(r(222)),n(r(223)),n(r(224)),n(r(225)),n(r(226)),n(r(227)),n(r(228)),n(r(229))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){v&&d&&(v=!1,d.length?h=d.concat(h):y=-1,h.length&&a())}function a(){if(!v){var e=o(s);v=!0;for(var t=h.length;t;){for(d=h,h=[];++y<t;)d&&d[y].run();y=-1,t=h.length}d=null,v=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var d,h=[],v=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new c(e,t)),1!==h.length||v||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){"use strict";function n(e,t){if(a.URI.isAbsolute(t))return t;if(!e._registry||!e._registry._context)return t;var r=e._registry._context.getObjectSchema();return i.ObjectSchemaUtils.resolveURI(t,r,{vocab:!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=r(15),i=r(12),s=r(17),a=r(10),c=r(0),u={get types(){return[]},addType:function(e){e=n(this,e),-1===this.types.indexOf(e)&&this.types.push(e)},hasType:function(e){return e=n(this,e),-1!==this.types.indexOf(e)},removeType:function(e){e=n(this,e);var t=this.types.indexOf(e);-1!==t&&this.types.splice(t,1)}};t.TransientResource={isDecorated:function(e){return c.isObject(e)&&o.ModelDecorator.hasPropertiesFrom(u,e)},is:function(e){return s.Pointer.is(e)&&t.TransientResource.isDecorated(e)},create:function(e){var r=Object.assign({},e);return t.TransientResource.createFrom(r)},createFrom:function(e){return t.TransientResource.decorate(e)},decorate:function(e){if(t.TransientResource.isDecorated(e))return e;var r=o.ModelDecorator.decorateMultiple(e,s.Pointer);return o.ModelDecorator.definePropertiesFrom(u,r)}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(230)),n(r(231)),n(r(232)),n(r(233)),n(r(234)),n(r(235)),n(r(236))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.OPTIONS=0]="OPTIONS",e[e.HEAD=1]="HEAD",e[e.GET=2]="GET",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.PATCH=5]="PATCH",e[e.DELETE=6]="DELETE"}(t.HTTPMethod||(t.HTTPMethod={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),o=r(64),i=function(){function e(e,t,r){var n=this;if(this.request=e,"undefined"!=typeof XMLHttpRequest&&e instanceof XMLHttpRequest)this.status=e.status,this.data=e.responseText,this.headers=o.Header.parseHeaders(e.getAllResponseHeaders());else{if(this.data=t||"",this.headers=new Map,!r)return;this.status=r.statusCode,Object.keys(r.headers).forEach(function(e){n.headers.set(e.toLowerCase(),new o.Header(r.headers[e]))})}}return e.prototype.getHeader=function(e){return e=e.toLowerCase(),this.headers.get(e)||null},e.prototype.getETag=function(){var e=this.getHeader("ETag");if(!e||!e.values.length)throw new n.BadResponseError("The response doesn't contain an ETag",this);return e.values[0]},e}();t.Response=i},function(e,t,r){"use strict";function n(e){var t=String(e);return 1===t.length&&(t="0"+t),t}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(3)),a=i(r(0)),c="The value is not a number.",u=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isDate(e))throw new s.IllegalArgumentError("The value is not a Date object.");return e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())},e}();t.DateSerializer=u,t.dateSerializer=new u;var l=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isDate(e))throw new s.IllegalArgumentError("The value is not a Date object.");return e.toISOString()},e}();t.DateTimeSerializer=l,t.dateTimeSerializer=new l;var f=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isDate(e))throw new s.IllegalArgumentError("The value is not a Date object.");return n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},e}();t.TimeSerializer=f,t.timeSerializer=new f;var p=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isNumber(e))throw new s.IllegalArgumentError(c);return(~~e).toString()},e}();t.IntegerSerializer=p,t.integerSerializer=new p;var d=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isNumber(e))throw new s.IllegalArgumentError(c);return Math.trunc(e).toString()},e}();t.LongSerializer=d,t.longSerializer=new d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.serialize=function(t){var r=e.prototype.serialize.call(this,t);return r=a.StringUtils.startsWith(r,"-")?r.substring(1):r},t}(p);t.UnsignedIntegerSerializer=h,t.unsignedIntegerSerializer=new h;var v=function(){function e(){}return e.prototype.serialize=function(e){if(!a.isNumber(e))throw new s.IllegalArgumentError(c);return Math.trunc(Math.abs(e)).toString()},e}();t.UnsignedLongSerializer=v,t.unsignedLongSerializer=new v;var y=function(){function e(){}return e.prototype.serialize=function(e){if(e===Number.POSITIVE_INFINITY)return"INF";if(e===Number.NEGATIVE_INFINITY)return"-INF";if(!a.isNumber(e))throw new s.IllegalArgumentError(c);return e.toString()},e}();t.FloatSerializer=y,t.floatSerializer=new y;var g=function(){function e(){}return e.prototype.serialize=function(e){return(!!e).toString()},e}();t.BooleanSerializer=g,t.booleanSerializer=new g;var m=function(){function e(){}return e.prototype.serialize=function(e){return String(e)},e}();t.StringSerializer=m,t.stringSerializer=new m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40),o=r(52),i=r(51),s=r(0);t.RDFValue={parse:function(e,r){return s.isString(r)?r:o.RDFLiteral.is(r)?o.RDFLiteral.parse(r):i.RDFNode.is(r)?e.getPointer(r["@id"]):n.RDFList.is(r)?r["@list"].map(t.RDFValue.parse.bind(null,e)):null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.ID=0]="ID",e[e.VOCAB=1]="VOCAB"}(t.PointerType||(t.PointerType={}))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(243)),n(r(166))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7);t.TransientFragment={isDecorated:function(e){return n.TransientResource.isDecorated(e)},is:function(e){return n.TransientResource.is(e)},create:function(e){var r=Object.assign({},e);return t.TransientFragment.createFrom(r)},createFrom:function(e){return t.TransientFragment.decorate(e)},decorate:function(e){return t.TransientFragment.isDecorated(e)?e:(n.TransientResource.decorate(e),e)}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(246)),n(r(113))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(22),i=r(10);t.TransientBlankNode={is:function(e){return o.TransientFragment.is(e)&&i.URI.isBNodeID(e.id)},create:function(e){var r=Object.assign({},e);return t.TransientBlankNode.createFrom(r)},createFrom:function(e){if(e.id){if(!i.URI.isBNodeID(e.id))throw new n.IllegalArgumentError('The id "'+e.id+'" is not a blank node label.')}else e.id=i.URI.generateBNodeID();return t.TransientBlankNode.decorate(e)},decorate:function(e){var t=o.TransientFragment.decorate(e);return Object.defineProperties(t,{id:{enumerable:!1,configurable:!0,get:function(){return this._id},set:function(e){if(!i.URI.isBNodeID(e))throw new n.IllegalActionError('Cannot assign "'+e+'" as a blank node ID.');this._id=e}}}),t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),o=r(69),i=r(30),s=r(23),a=r(12),c=r(10),u=r(7),l=r(0),f=r(68),p=function(){function e(e,t){this.inScope=f.Registry.PROTOTYPE.inScope,this.hasPointer=f.Registry.PROTOTYPE.hasPointer,this.getPointer=f.Registry.PROTOTYPE.getPointer,this.getPointers=f.Registry.PROTOTYPE.getPointers,this.removePointer=f.Registry.PROTOTYPE.removePointer,this._context=t,this._model=e,this._resourcesMap=new Map,this._documentDecorators=l.MapUtils.extend(new Map,t&&t.parentContext&&t.parentContext.registry.documentDecorators),this._jsonldConverter=new s.JSONLDConverter(t&&t.parentContext&&t.parentContext.registry.jsonldConverter.literalSerializers)}return Object.defineProperty(e.prototype,"_registry",{get:function(){return this._context&&this._context.parentContext&&this._context.parentContext.registry},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"documentDecorators",{get:function(){return this._documentDecorators},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jsonldConverter",{get:function(){return this._jsonldConverter},enumerable:!0,configurable:!0}),e.prototype._getLocalID=function(e){if(!this._context)return e;var t=this._context.getObjectSchema(),r=a.ObjectSchemaUtils.resolveURI(e,t);return c.URI.isBaseOf(this._context.baseURI,r)?c.URI.getRelativeURI(r,this._context.baseURI):f.Registry.PROTOTYPE._getLocalID.call(this,e)},e.prototype._register=function(e){var t=f.Registry.PROTOTYPE._register.call(this,e),r=this._model.decorate(t);if(!this._context)return r;var n=this._context.getObjectSchema();return r.id=a.ObjectSchemaUtils.resolveURI(r.id,n,{base:!0}),r},e.prototype.getGeneralSchema=function(){return this._context?this._context.getObjectSchema():new a.DigestedObjectSchema},e.prototype.hasSchemaFor=function(e,t){return!t},e.prototype.getSchemaFor=function(e){var t="types"in e?this._getSchemaForResource(e):this._getSchemaForNode(e);return u.PersistedResource.isDecorated(e)&&e.isPartial()?a.ObjectSchemaDigester._combineSchemas([t,e._partialMetadata.schema]):t},e.prototype._getSchemaForNode=function(e){var t=c.RDFNode.getTypes(e);return this._getSchema(t,e["@id"])},e.prototype._getSchemaForResource=function(e){var t=e.types||[];return this._getSchema(t,e.id)},e.prototype._getSchema=function(e,t){var r=this;if(!this._context)return new a.DigestedObjectSchema;void 0===t||c.URI.hasFragment(t)||c.URI.isBNodeID(t)||-1!==e.indexOf(n.TransientDocument.TYPE)||(e=e.concat(n.TransientDocument.TYPE));var o=e.filter(function(e){return r._context.hasObjectSchema(e)}).map(function(e){return r._context.getObjectSchema(e)});return a.ObjectSchemaDigester._combineSchemas([this._context.getObjectSchema()].concat(o))},e.prototype._parseFreeNodes=function(e){var t=o.FreeResources.createFrom({_registry:this,_context:this._context}),r=e.map(function(e){return t._register({id:e["@id"]})});return this._compactRDFNodes(e,r,t),t},e.prototype._compactRDFNodes=function(e,t,r){for(var n=0;n<e.length;n++){var o=e[n],i=t[n]||{};this._compactRDFNode(o,i,r)}},e.prototype._compactRDFNode=function(e,t,r){var n=this.getSchemaFor(e);this.jsonldConverter.compact(e,t,n,r)},e.prototype._parseErrorFromResponse=function(e){if(!e||e instanceof Error)return Promise.reject(e);if(!(e.status>=400&&e.status<600&&i.statusCodeMap.has(e.status)))return Promise.reject(new i.UnknownError(e.data,e));var t=new(i.statusCodeMap.get(e.status))(e.data,e);return Promise.reject(t)},e}();t.RegistryService=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.parse=function(e){return new Promise(function(t){return t(e)})},e}();t.StringParser=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),o=r(3),i=r(1);t.TransientDirectContainer={TYPE:i.LDP.DirectContainer,is:function(e){return n.TransientDocument.is(e)&&e.hasType(t.TransientDirectContainer.TYPE)&&e.hasOwnProperty("membershipResource")},create:function(e){var r=Object.assign({},e);return t.TransientDirectContainer.createFrom(r)},createFrom:function(e){if(t.TransientDirectContainer.is(e))throw new o.IllegalArgumentError("The base object is already a DirectContainer.");if(!e.hasMemberRelation)throw new o.IllegalArgumentError("The property hasMemberRelation is required.");var r=n.TransientDocument.is(e)?e:n.TransientDocument.createFrom(e);return r.addType(t.TransientDirectContainer.TYPE),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(11);t.VolatileResource={TYPE:o.C.VolatileResource,is:function(e){return n.TransientResource.is(e)&&e.hasType(t.VolatileResource.TYPE)},create:function(e){var r=Object.assign({},e);return t.VolatileResource.createFrom(r)},createFrom:function(e){var r=n.TransientResource.createFrom(e);return r.addType(t.VolatileResource.TYPE),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),o=r(12),i=function(){function e(e,t){this.schema=this.mergeSchemas(t?t.schema:new o.DigestedObjectSchema,e)}return e.prototype.mergeSchemas=function(t,r){return r===e.ALL||t===e.ALL?e.ALL:(r.prefixes.forEach(function(e,i){if(e=o.ObjectSchemaUtils.resolveURI(e,r),!t.prefixes.has(i))return t.prefixes.set(i,e);var s=t.prefixes.get(i);if(s!==e)throw new n.IllegalArgumentError('Prefix "'+i+'" has different values: "'+s+'", "'+e+'"')}),r.properties.forEach(function(e,r){if(!t.properties.has(r))return t.properties.set(r,e);var o=t.properties.get(r);for(var i in e){var s=e[i],a=o[i];if(s!==a)throw new n.IllegalArgumentError('Property "'+r+'" has different "'+i+'": "'+a+'", "'+s+'"')}}),t)},e.ALL=Object.freeze(new o.DigestedObjectSchema),e}();t.PartialMetadata=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),i=function(e){function t(t,r){var n=e.call(this,t.replace(/[.]/g,"__").replace(/[^0-9A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/g,"_"))||this;return n.index=r,n}return n(t,e),t.prototype.toString=function(){return"?_"+this.index},t}(o.VariableToken);t.QueryVariable=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(12),s=r(70),a=r(54),c=r(44),u=function(e){function t(t){var r=e.call(this,t)||this;return r._propertiesMap=new Map,r}return n(t,e),t.prototype.hasProperty=function(e){return this._propertiesMap.has(e)},t.prototype.hasProperties=function(e){var t=c.getLevelRegExp(e);return Array.from(this._propertiesMap.keys()).some(function(e){return t.test(e)})},t.prototype.addProperty=function(e){var t=new a.QueryProperty(this,e);return this._propertiesMap.set(e,t),t},t.prototype.getProperty=function(e){return this._propertiesMap.get(e)},t.prototype.getProperties=function(e){var t=c.getLevelRegExp(e);return Array.from(this._propertiesMap.entries()).filter(function(e){var r=e[0];return t.test(r)}).map(function(e){e[0];return e[1]})},t.prototype.getInheritTypeDefinition=function(e,t,r){for(var n=[e].concat(this._getTypeSchemas()),o=0,s=n;o<s.length;o++){var a=s[o];if(a.properties.has(t)){var c=i.ObjectSchemaDigester.combineDigestedObjectSchemas([e,a]),u=i.ObjectSchemaUtils.resolveProperty(c,a.properties.get(t));if(!r||r===u.uri)return u}}},t.prototype.hasSchemaFor=function(t,r){if(void 0===r)return e.prototype.hasSchemaFor.call(this,t);if(!this.hasProperty(r))return!1;var n=this.getProperty(r).getType();return void 0!==n&&n!==a.QueryPropertyType.EMPTY},t.prototype.getSchemaFor=function(t,r){if(void 0===r)return e.prototype.getSchemaFor.call(this,t);var n=this.getProperty(r);if(n)switch(n.getType()){case a.QueryPropertyType.PARTIAL:return this.getProperty(r).getSchema();case a.QueryPropertyType.FULL:case a.QueryPropertyType.ALL:return e.prototype.getSchemaFor.call(this,t);case a.QueryPropertyType.EMPTY:return new i.DigestedObjectSchema;default:throw new o.IllegalArgumentError('Property "'+r+'" is not a resource.')}var s=this.getProperty(c.getParentPath(r));if(!s||s.getType()!==a.QueryPropertyType.FULL)throw new o.IllegalArgumentError('Schema path "'+r+'" does not exists.');return e.prototype.getSchemaFor.call(this,t)},t.prototype._getTypeSchemas=function(){return this._schemas?this._schemas:this._schemas=this.context._getTypeObjectSchemas()},t}(s.QueryContext);t.QueryContextBuilder=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),i=r(70),s=function(e){function t(t,r){var n=e.call(this,r)||this;return n._resource=t,n}return n(t,e),t.prototype.getSchemaFor=function(t,r){if(void 0===r)return e.prototype.getSchemaFor.call(this,t);for(var n=r.split(/\./g).slice(1),i=this._resource;n.length;){var s=n.shift();if(!(i=(Array.isArray(i[s])?i[s]:[i[s]]).find(o.PersistedResource.is)))return e.prototype.getSchemaFor.call(this,t)}return i._partialMetadata.schema},t}(i.QueryContext);t.QueryContextPartial=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=r(4),i=r(0),s=function(){function e(e,t){this._context=e;var r=i.isString(t)?t:t.id;this._resource=n.isBNodeLabel(r)?new o.BlankNodeToken(r):this._context.compactIRI(r)}return e.prototype.getToken=function(){return this._resource},e.prototype.toString=function(){return""+this._resource},e}();t.QueryObject=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=r(4),i=r(29),s=r(0),a=r(14),c=function(){function e(e,t){this._value=t,this._context=e,s.isDate(t)?(this._literal=new o.LiteralToken,this.withType(a.XSD.dateTime)):this._literal=new o.LiteralToken(t)}return e.prototype.withType=function(e){if(!n.isAbsolute(e)){if(!a.XSD.hasOwnProperty(e))throw new i.IllegalArgumentError("Invalid type provided.");e=a.XSD[e]}var t=this._context.serializeLiteral(e,this._value);return this._literal.setValue(t),this._literal.setType(this._context.compactIRI(e)),this},e.prototype.withLanguage=function(e){return this._literal.setLanguage(e),this},e.prototype.getToken=function(){return this._literal},e.prototype.toString=function(){return""+this._literal},e}();t.QueryValue=c},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(260)),n(r(126))},function(e,t,r){"use strict";function n(e){return o.isFunction(e)?null:o.isString(e)?i.XSD.string:o.isDate(e)?i.XSD.dateTime:o.isNumber(e)?i.XSD.float:o.isBoolean(e)?i.XSD.boolean:null}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(14);t.guessXSDType=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=r(0),i=function(){function e(){this.token="ldpatch",this.prologues=[],this.statements=[]}return e.prototype.toString=function(){return this.prologues.concat(this.statements).join(" ")},e}();t.LDPatchToken=i;var s=function(){function e(e,t){this.token="prefix",this.namespace=e,this.iri=t}return e.prototype.toString=function(){return"@prefix "+this.namespace+": "+this.iri+"."},e}();t.PrefixToken=s;var a=function(){function e(){this.token="add",this.triples=[]}return e.prototype.toString=function(){return"Add { "+n.joinPatterns(this.triples)+". }."},e}();t.AddToken=a;var c=function(){function e(){this.token="delete",this.triples=[]}return e.prototype.toString=function(){return"Delete { "+n.joinPatterns(this.triples)+". }."},e}();t.DeleteToken=c;var u=function(){function e(e,t,r,n){this.token="updateList",this.subject=e,this.predicate=t,this.slice=r,this.collection=n}return e.prototype.toString=function(){return"UpdateList "+this.subject+" "+this.predicate+" "+this.slice+" "+this.collection+"."},e}();t.UpdateListToken=u;var l=function(){function e(e,t){this.token="slice",o.isNumber(e)&&(this.minIndex=e),o.isNumber(t)&&(this.maxIndex=t)}return e.prototype.toString=function(){var e="..";return void 0!==this.minIndex&&(e=this.minIndex+e),void 0!==this.maxIndex&&(e+=this.maxIndex),e},e}();t.SliceToken=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(50),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.parse=function(t){return e.prototype.parse.call(this,t).then(function(e){return e})},t}(o.JSONParser);t.SPARQLRawResultsParser=i},function(e,t,r){"use strict";function n(e){if(void 0!==e){var t=e.toUpperCase();switch(t){case"ASC":case"DESC":return t;case"ASCENDING":case"DESCENDING":return t.slice(0,-6);default:throw new s.IllegalArgumentError("Invalid flow order.")}}}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),s=r(29),a=r(62),c=r(71),u=r(44),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.orderBy=function(e,t){var r=this.property(e),o=this._document.getPatterns().find(function(e){return"select"===e.token});if(!o)throw new a.IllegalStateError("A sub-select token has not been defined.");this._orderData=void 0;var c=o.modifiers.findIndex(function(e){return"order"===e.token});if(-1!==c){o.modifiers.splice(c,1);var l=o.patterns.findIndex(function(e){return"optional"===e.token});o.patterns.splice(l,1)}var f=n(t);o.modifiers.unshift(new i.OrderToken(r.variable,f));for(var p,d={path:r.name.split(".").slice(1).join("."),flow:f};r!==this._document;){var h=r&&r.getTriple();if(!h)throw new s.IllegalArgumentError('The property "'+r.name+'" is not a valid property defined by the builder.');var v=(new i.OptionalToken).addPattern(h);p&&v.addPattern(p),p=v,r=this._context.getProperty(u.getParentPath(r.name))}return this._orderData=d,o.addPattern(p),this},t.prototype.limit=function(e){var t=this._document.getPatterns().find(function(e){return"select"===e.token});if(!t)throw new a.IllegalStateError("A sub-select token has not been defined.");var r=t.modifiers.findIndex(function(e){return"limit"===e.token});return-1!==r&&t.modifiers.splice(r,1),t.modifiers.push(new i.LimitToken(e)),this},t.prototype.offset=function(e){var t=this._document.getPatterns().find(function(e){return"select"===e.token});if(!t)throw new a.IllegalStateError("A sub-select token has not been defined.");var r=t.modifiers.findIndex(function(e){return"offset"===e.token});return-1!==r&&t.modifiers.splice(r,1),t.modifiers.push(new i.OffsetToken(e)),this},t}(c.QueryDocumentBuilder);t.QueryDocumentsBuilder=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(1),i={target:{"@id":o.C.target,"@type":"@id","@container":"@set"}};t.QueryMetadata={TYPE:o.C.QueryMetadata,SCHEMA:i,is:function(e){return n.VolatileResource.is(e)&&e.hasType(t.QueryMetadata.TYPE)}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(262)),n(r(131))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(22),i=r(10),s=r(0);t.TransientNamedFragment={isDecorated:function(e){return s.isObject(e)&&e.hasOwnProperty("slug")&&!e.propertyIsEnumerable("slug")},is:function(e){return o.TransientFragment.is(e)&&t.TransientNamedFragment.isDecorated(e)},create:function(e){var r=Object.assign({},e);return t.TransientNamedFragment.createFrom(r)},createFrom:function(e){var r=e.slug,n=t.TransientNamedFragment.decorate(e);return n.slug=r,n},decorate:function(e){if(t.TransientNamedFragment.isDecorated(e))return e;o.TransientFragment.decorate(e);var r=e;return Object.defineProperties(r,{id:{enumerable:!1,configurable:!0,get:function(){return(this._registry&&this._registry.id||"")+"#"+i.URI.getFragment(this._id)},set:function(e){var t=i.URI.getFragment(e);if(!t)throw new n.IllegalActionError('Cannot assign "'+e+'" as a named fragment ID.');var r=this._registry&&this._registry.id||"";if(!i.URI.isBaseOf(r,e))throw new n.IllegalActionError('"'+e+'" it\'s outside "'+r+"\"'s scope.");this._id=r+"#"+t}},slug:{enumerable:!1,configurable:!0,get:function(){return i.URI.getFragment(this._id)},set:function(e){var t=this._registry&&this._registry.id||"";this._id=t+"#"+e}}}),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(133);t.AddMemberAction=n.AddMemberAction;var o=r(264);t.MembersDocument=o.MembersDocument;var i=r(134);t.RemoveMemberAction=i.RemoveMemberAction},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(1),i={targetMembers:{"@id":o.C.targetMember,"@type":"@id","@container":"@set"}};t.AddMemberAction={TYPE:o.C.AddMemberAction,SCHEMA:i,is:function(e){return n.TransientResource.is(e)&&e.hasOwnProperty("targetMembers")},create:function(e){var r=Object.assign({},e);return t.AddMemberAction.createFrom(r)},createFrom:function(e){var r=n.TransientResource.createFrom(e);return r.addType(t.AddMemberAction.TYPE),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(1),i={targetMembers:{"@id":o.C.targetMember,"@type":"@id","@container":"@set"}};t.RemoveMemberAction={TYPE:o.C.RemoveMemberAction,SCHEMA:i,is:function(e){return n.TransientResource.is(e)&&e.hasOwnProperty("targetMembers")},create:function(e){var r=Object.assign({},e);return t.RemoveMemberAction.createFrom(r)},createFrom:function(e){var r=n.TransientResource.createFrom(e);return r.addType(t.RemoveMemberAction.TYPE),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.CHILD_CREATED="child.created",e.ACCESS_POINT_CREATED="access-point.created",e.DOCUMENT_CREATED="*.created",e.DOCUMENT_MODIFIED="document.modified",e.DOCUMENT_DELETED="document.deleted",e.MEMBER_ADDED="member.added",e.MEMBER_REMOVED="member.removed"}(t.Event||(t.Event={}))},function(e,t,r){"use strict";function n(e){if(!/(access-point|child|\*)\.(created|\*)|(document|\*)\.(modified|deleted|\*)|(member|\*)\.(added|removed|\*)/.test(e))throw new s.IllegalArgumentError('Provided event type "'+e+'" is invalid.')}function o(e,t){if(!a.URI.isBaseOf(t,e))throw new s.IllegalArgumentError('Provided uriPattern "'+e+'" is an invalid for your Carbon LDP instance.');return"/"===e?"":(e=a.URI.getRelativeURI(e,t),e=e.substring(+e.startsWith("/"),e.length-+e.endsWith("/")),e.split("/").map(function(e){return"**"===e?"#":encodeURIComponent(e).replace(/\./g,"^")}).join("."))}function i(e,t,r){return n(e),t=o(t,r),"/topic/"+e+(t?"."+t:t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(3),a=r(10);t.validateEventType=n,t.parseURIPattern=o,t.createDestination=i},function(e,t,r){"use strict";(function(t){function n(e){e=e||t.location||{};var r,n={},o=typeof e;if("blob:"===e.protocol)n=new s(unescape(e.pathname),{});else if("string"===o){n=new s(e,{});for(r in h)delete n[r]}else if("object"===o){for(r in e)r in h||(n[r]=e[r]);void 0===n.slashes&&(n.slashes=p.test(e.href))}return n}function o(e){var t=f.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function i(e,t){for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);var a,c,f,p,h,v,y=d.slice(),g=typeof t,m=this,_=0;for("object"!==g&&"string"!==g&&(r=t,t=null),r&&"function"!=typeof r&&(r=l.parse),t=n(t),c=o(e||""),a=!c.protocol&&!c.slashes,m.slashes=c.slashes||a&&t.slashes,m.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(y[2]=[/(.*)/,"pathname"]);_<y.length;_++)p=y[_],f=p[0],v=p[1],f!==f?m[v]=e:"string"==typeof f?~(h=e.indexOf(f))&&("number"==typeof p[2]?(m[v]=e.slice(0,h),e=e.slice(h+p[2])):(m[v]=e.slice(h),e=e.slice(0,h))):(h=f.exec(e))&&(m[v]=h[1],e=e.slice(0,h.index)),m[v]=m[v]||(a&&p[3]?t[v]||"":""),p[4]&&(m[v]=m[v].toLowerCase());r&&(m.query=r(m.query)),a&&t.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==t.pathname)&&(m.pathname=i(m.pathname,t.pathname)),u(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(p=m.auth.split(":"),m.username=p[0]||"",m.password=p[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}function a(e,t,r){var n=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||l.parse)(t)),n[e]=t;break;case"port":n[e]=t,u(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";n[e]=t.charAt(0)!==o?o+t:t}else n[e]=t;break;default:n[e]=t}for(var i=0;i<d.length;i++){var s=d[i];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function c(e){e&&"function"==typeof e||(e=l.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,t="object"==typeof r.query?e(r.query):r.query,t&&(o+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(o+=r.hash),o}var u=r(280),l=r(281),f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};s.prototype={set:a,toString:c},s.extractProtocol=o,s.location=n,s.qs=l,e.exports=s}).call(t,r(8))},function(e,t,r){"use strict";function n(){this._listeners={}}n.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===r.indexOf(t)&&(r=r.concat([t])),this._listeners[e]=r},n.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);return-1!==n?void(r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e]):void 0}},n.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],o=0;o<n.length;o++)n[o].apply(this,r)},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,o){var u=i.addPath(e,t);c(u);var l=this;s.call(this,e,r),this.poll=new a(n,u,o),this.poll.on("message",function(e){c("poll message",e),l.emit("message",e)}),this.poll.once("close",function(e,t){c("poll close",e,t),l.poll=null,l.emit("close",e,t),l.close()})}var o=r(2),i=r(16),s=r(286),a=r(287),c=function(){};c=r(9)("sockjs-client:sender-receiver"),o(n,s),n.prototype.close=function(){s.prototype.close.call(this),c("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=n},function(e,t,r){"use strict";(function(t){function n(e,t,r,n){u(e,t);var i=this;o.call(this),setTimeout(function(){i._start(e,t,r,n)},0)}var o=r(13).EventEmitter,i=r(2),s=r(27),a=r(16),c=t.XMLHttpRequest,u=function(){};u=r(9)("sockjs-client:browser:xhr"),i(n,o),n.prototype._start=function(e,t,r,o){var i=this;try{this.xhr=new c}catch(e){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){u("unload cleanup"),i._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch(e){return u("exception",e),this.emit("finish",0,""),void this._cleanup(!1)}if(o&&o.noCredentials||!n.supportsCORS||(u("withCredentials"),this.xhr.withCredentials="true"),o&&o.headers)for(var l in o.headers)this.xhr.setRequestHeader(l,o.headers[l]);this.xhr.onreadystatechange=function(){if(i.xhr){var e,t,r=i.xhr;switch(u("readyState",r.readyState),r.readyState){case 3:try{t=r.status,e=r.responseText}catch(e){}u("status",t),1223===t&&(t=204),200===t&&e&&e.length>0&&(u("chunk"),i.emit("chunk",t,e));break;case 4:t=r.status,u("status",t),1223===t&&(t=204),12005!==t&&12029!==t||(t=0),u("finish",t,r.responseText),i.emit("finish",t,r.responseText),i._cleanup(!1)}}};try{i.xhr.send(r)}catch(e){i.emit("finish",0,""),i._cleanup(!1)}},n.prototype._cleanup=function(e){if(u("cleanup"),this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},n.prototype.close=function(){u("close"),this._cleanup(!0)},n.enabled=!!c;var l=["Active"].concat("Object").join("X");!n.enabled&&l in t&&(u("overriding xmlhttprequest"),c=function(){try{return new t[l]("Microsoft.XMLHTTP")}catch(e){return null}},n.enabled=!!new c);var f=!1;try{f="withCredentials"in new c}catch(e){}n.supportsCORS=f,e.exports=n}).call(t,r(8))},function(e,t,r){"use strict";function n(e){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",s,a)}var o=r(2),i=r(36),s=r(55),a=r(77);o(n,i),n.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(a.enabled&&e.sameScheme)},n.transportName="xdr-streaming",n.roundTrips=2,e.exports=n},function(e,t,r){"use strict";function n(e){if(!n.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/eventsource",s,a)}var o=r(2),i=r(36),s=r(288),a=r(56),c=r(143);o(n,i),n.enabled=function(){return!!c},n.transportName="eventsource",n.roundTrips=2,e.exports=n},function(e,t,r){(function(t){e.exports=t.EventSource}).call(t,r(8))},function(e,t,r){"use strict";function n(e,t,r){if(!n.enabled())throw new Error("Transport created when disabled");s.call(this);var o=this;this.origin=c.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=f.string(8);var i=c.addPath(r,"/iframe.html")+"#"+this.windowId;p(e,t,i),this.iframeObj=u.createIframe(i,function(e){p("err callback"),o.emit("close",1006,"Unable to load an iframe ("+e+")"),o.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var o=r(2),i=r(24),s=r(13).EventEmitter,a=r(145),c=r(16),u=r(47),l=r(27),f=r(35),p=function(){};p=r(9)("sockjs-client:transport:iframe"),o(n,s),n.prototype.close=function(){if(p("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},n.prototype._message=function(e){if(p("message",e.data),!c.isOriginEqual(e.origin,this.origin))return void p("not same origin",e.origin,this.origin);var t;try{t=i.parse(e.data)}catch(t){return void p("bad json",e.data)}if(t.windowId!==this.windowId)return void p("mismatched window id",t.windowId,this.windowId);switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=i.parse(t.data)}catch(e){return void p("bad json",t.data)}this.emit("close",r[0],r[1]),this.close()}},n.prototype.postMessage=function(e,t){p("postMessage",e,t),this.iframeObj.post(i.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},n.prototype.send=function(e){p("send",e),this.postMessage("m",e)},n.enabled=function(){return u.iframeEnabled},n.transportName="iframe",n.roundTrips=2,e.exports=n},function(e,t){e.exports="1.1.4"},function(e,t,r){"use strict";function n(e){if(!i.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",i,s)}var o=r(2),i=r(291),s=r(45),a=r(36);o(n,a),n.enabled=function(e){return i.enabled&&e.sameOrigin},n.transportName="htmlfile",n.roundTrips=2,e.exports=n},function(e,t,r){"use strict";function n(e){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",s,a)}var o=r(2),i=r(36),s=r(55),a=r(56),c=r(45);o(n,i),n.enabled=function(e){return!e.nullOrigin&&(!(!c.enabled||!e.sameOrigin)||a.enabled)},n.transportName="xhr-polling",n.roundTrips=2,e.exports=n},function(e,t,r){"use strict";(function(t){e.exports=t.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(t,r(8))},function(e,t,r){"use strict";function n(e){var t=this;i.call(this),this.ir=new c(e,a),this.ir.once("finish",function(e,r){t.ir=null,t.emit("message",s.stringify([e,r]))})}var o=r(2),i=r(13).EventEmitter,s=r(24),a=r(45),c=r(150);o(n,i),n.transportName="iframe-info-receiver",n.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=n},function(e,t,r){"use strict";function n(e,t){o.call(this);var r=this,n=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(e,t){var o,i;if(200===e){if(i=+new Date-n,t)try{o=s.parse(t)}catch(e){c("bad json",t)}a.isObject(o)||(o={})}r.emit("finish",o,i),r.removeAllListeners()})}var o=r(13).EventEmitter,i=r(2),s=r(24),a=r(79),c=function(){};c=r(9)("sockjs-client:info-ajax"),i(n,o),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(43));t.QueryDocument=i,n(r(152)),n(r(127)),n(r(73));var s=r(322);t.SPARQLDocument=s.SPARQLDocument},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(309),i=r(21),s=function(e){function t(t,r){return e.call(this,function(e,n){var o=i.finishDecorator(e,n);return Object.assign(o,{execute:function(){return t.executeSELECTQuery(r,o.toCompactString())},executeRaw:function(){return t.executeRawSELECTQuery(r,o.toCompactString())}})})||this}return n(t,e),t}(o.SPARQLER);t.SPARQLBuilder=s},function(e,t,r){"use strict";function n(){for(var e,t=this._tokens.filter(function(e){return e!==s.WHERE}),r=[s.SELECT],n=0,o=t[n];o&&-1===r.indexOf(o);++n,o=t[n])if(o===s.PREFIX){var i=t[n+1];this._iriResolver._prefixes.get(i.value)||(t.splice(n,6),--n)}else o===s.BASE&&(e=t.splice(n,4),--n);if(e){var c=e.reduce(function(e,t,r,n){var o=n[r+1];return e+t.getTokenValue(a.TokenFormat.PRETTY,o)},"")+"\n";t.unshift(new a.StringLiteral(c))}return t.reduce(function(e,t,r,n){var o=n[r+1];return o===s.EMPTY_SEPARATOR&&(o=n[r+2]),e+t.getTokenValue(a.TokenFormat.COMPACT,o)},"")}function o(){var e=[],t={token:null,indentation:0,subject:0,property:0,spaces:0};return this._tokens.reduce(function(r,n,o,i){var c=i[o+1],u=n.getTokenValue(a.TokenFormat.PRETTY,c);if(0===t.spaces?(t.subject+=u.length,u.endsWith(" ")&&t.spaces++):1===t.spaces&&(t.property+=u.length,u.endsWith(" ")&&t.spaces++),-1!==[s.OPEN_MULTI_BLOCK,s.OPEN_MULTI_BN,s.OPEN_MULTI_LIST].indexOf(n))e.push(t),t={token:n,indentation:t.indentation+4,subject:0,property:0,spaces:n===s.OPEN_MULTI_BLOCK?0:n===s.OPEN_MULTI_BN?1:2};else if(-1!==[s.CLOSE_MULTI_LIST].indexOf(n)){if(c&&!(c instanceof a.NewLineSymbol)){for(var l=t;-1===[s.OPEN_MULTI_BLOCK,s.OPEN_MULTI_BN,s.OPEN_MULTI_LIST].indexOf(l.token);)l=e.pop();e.push(l),t={token:n,indentation:l.indentation+4,subject:0,property:0,spaces:1}}}else if(-1!==[s.SAME_SUBJECT_SEPARATOR,s.SAME_PROPERTY_SEPARATOR,s.CLOSE_MULTI_LIST].indexOf(n)){for(var l=t;-1===[s.OPEN_MULTI_BLOCK,s.OPEN_MULTI_BN,s.OPEN_MULTI_LIST,s.CLOSE_MULTI_LIST,s.CLOSE_MULTI_BN].indexOf(l.token);)l=e.pop();e.push(l),n===s.SAME_SUBJECT_SEPARATOR?t={token:n,indentation:l.indentation+t.subject,subject:t.subject,property:0,spaces:1}:n===s.SAME_PROPERTY_SEPARATOR&&(t={token:n,indentation:l.indentation+t.subject+t.property,subject:t.subject,property:t.property,spaces:2})}else if(n===s.GRAPH_PATTERN_SEPARATOR){for(;t.token!==s.OPEN_MULTI_BLOCK;)t=e.pop();t.spaces=0,t.subject=0,t.property=0}if(c===s.CLOSE_MULTI_BLOCK){for(;t.token!==s.OPEN_MULTI_BLOCK;)t=e.pop();t=e.pop()}else if(c===s.CLOSE_MULTI_BN){for(;t.token!==s.OPEN_MULTI_BN;)t=e.pop();t=e.pop()}else if(c===s.CLOSE_MULTI_LIST){for(;t.token!==s.OPEN_MULTI_LIST;)t=e.pop();t=e.pop()}return u.endsWith("\n")&&(u+=" ".repeat(t.indentation)),r+u},"")}function i(e,t){return Object.assign(t,{toCompactString:n.bind(e),toPrettyString:o.bind(e),toString:o.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var s=r(6),a=r(4);t.finishDecorator=i},function(e,t,r){"use strict";function n(){return[i.OPEN_MULTI_BLOCK].concat(this._tokens,[i.CLOSE_MULTI_BLOCK])}function o(e,t){return Object.assign(t,{getPattern:n.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(6);t.subFinishDecorator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(156))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),o=r(21),i=r(157),s=r(158),a=r(6),c=r(159),u=r(160),l=r(161),f=r(162),p=r(163),d=r(37),h=r(164),v=function(){function e(e){this.iriResolver=e,o.selectDecorator(new n.Container(o.subFinishDecorator),this)}return Object.defineProperty(e,"undefined",{get:function(){return"UNDEF"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"undefined",{get:function(){return e.undefined},enumerable:!0,configurable:!0}),e.prototype.resource=function(e){return new f.Resource(this.iriResolver,e)},e.prototype.var=function(e){return new p.Variable(this.iriResolver,e)},e.prototype.literal=function(e){if("string"==typeof e||e instanceof String)return new l.RDFLiteral(this.iriResolver,e);if("number"==typeof e||e instanceof Number)return new l.NumericLiteral(this.iriResolver,e);if("boolean"==typeof e||e instanceof Boolean)return new l.BooleanLiteral(this.iriResolver,e);throw new Error("No valid value of a literal was provided.")},e.prototype.collection=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw Error("The collection needs at least one value.");return new u.Collection(this.iriResolver,e)},e.prototype.blankNode=function(){return new c.BlankNode(this.iriResolver)},e.prototype.graph=function(e,t){var r="string"==typeof e?this.iriResolver.resolve(e):e.getSelfTokens(),n=h.getBlockTokens(t);return new i.NotTriplesPattern([a.GRAPH].concat(r,n))},e.prototype.optional=function(e){var t=h.getBlockTokens(e);return new i.NotTriplesPattern([a.OPTIONAL].concat(t))},e.prototype.union=function(e,t){var r=h.getBlockTokens(e),n=h.getBlockTokens(t);return new i.NotTriplesPattern(r.concat([a.UNION],n))},e.prototype.minus=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h.getBlockTokens(e);return new i.NotTriplesPattern([a.MINUS].concat(r))},e.prototype.values=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new s.ValuesPattern(this.iriResolver,e)},e.prototype.service=function(e,t){var r="string"==typeof e?this.iriResolver.resolve(e):e.getSelfTokens(),n=h.getBlockTokens(t);return new i.NotTriplesPattern([a.SERVICE].concat(r,n))},e.prototype.serviceSilent=function(e,t){var r="string"==typeof e?this.iriResolver.resolve(e):e.getSelfTokens(),n=h.getBlockTokens(t);return new i.NotTriplesPattern([a.SERVICE,a.SILENT].concat(r,n))},e.prototype.bind=function(e,t){t="string"==typeof t?this.var(t):t;var r=[a.BIND,a.OPEN_SINGLE_LIST,new d.StringLiteral(e),a.AS].concat(t.getSelfTokens(),[a.CLOSE_SINGLE_LIST]);return new i.NotTriplesPattern(r)},e.prototype.filter=function(e){return new i.NotTriplesPattern([a.FILTER,new d.StringLiteral(e)])},e}();t.PatternBuilder=v,t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.patternTokens=e}return e.prototype.getPattern=function(){return this.patternTokens},e}();t.NotTriplesPattern=n,t.default=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(315),i=r(6),s=r(48),a=function(e){function t(t,r){var n=e.call(this,[i.VALUES])||this;return n.init(),n.resolver=t,n.length=r.length,1===n.length?(o=n.patternTokens).push.apply(o,r[0].getSelfTokens().concat([i.OPEN_SINGLE_BLOCK])):(n.patternTokens.push(i.OPEN_SINGLE_LIST),r.forEach(function(e){return(t=n.patternTokens).push.apply(t,e.getSelfTokens());var t}),n.patternTokens.push(i.CLOSE_SINGLE_LIST,i.OPEN_MULTI_BLOCK)),n;var o}return n(t,e),t.prototype.has=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.length!==t.length)throw new Error("InvalidArgumentError: The number of variables and values are different.");return 1===this.length?(n=this.patternTokens).push.apply(n,s.serialize(t[0])):(this.patternTokens.push(i.OPEN_SINGLE_LIST),t.forEach(function(t){return(r=e.patternTokens).push.apply(r,s.serialize(t));var r}),this.patternTokens.push(i.CLOSE_SINGLE_LIST)),this.interfaces.addPattern;var n},t.prototype.getPattern=function(){return 1===this.length?this.patternTokens.push(i.CLOSE_SINGLE_BLOCK):this.patternTokens.push(i.CLOSE_MULTI_BLOCK),this.patternTokens},t.prototype.init=function(){var e=this;this.interfaces={addPattern:{and:this.has.bind(this),getPattern:function(){return e.getPattern()}}}},t}(o.NotTriplesPattern);t.ValuesPattern=a,t.default=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(57),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getSelfTokens=function(){return this.patternTokens.find(function(e){return e===o.SAME_SUBJECT_SEPARATOR||e===o.SAME_PROPERTY_SEPARATOR})?[o.OPEN_MULTI_BN].concat(this.patternTokens,[o.CLOSE_MULTI_BN]):[o.OPEN_SINGLE_BN].concat(this.patternTokens,[o.CLOSE_SINGLE_BN])},t.prototype.init=function(){var t=this;e.prototype.init.call(this),this.interfaces.graphPattern={getPattern:function(){return t.getSelfTokens()},getSelfTokens:function(){return t.getSelfTokens()}}},t}(i.TriplesPattern);t.BlankNode=s,t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(4),s=r(48),a=r(57),c=function(e){function t(t,r){var n=e.call(this,t)||this,a=[];r.forEach(function(e,t){a.push.apply(a,s.serialize(e)),t<r.length-1&&a.push(o.EMPTY_SEPARATOR)});var c=r.length<=1&&!a.find(function(e){return e instanceof i.NewLineSymbol});return n.elementTokens=[c?o.OPEN_SINGLE_LIST:o.OPEN_MULTI_LIST].concat(a,[c?o.CLOSE_SINGLE_LIST:o.CLOSE_MULTI_LIST]),n}return n(t,e),t.prototype.getPattern=function(){return this.getSelfTokens().concat(this.patternTokens)},t.prototype.init=function(){var t=this;e.prototype.init.call(this),this.interfaces.graphPattern={getPattern:function(){return t.getPattern()},getSelfTokens:function(){return t.getSelfTokens()}}},t}(a.TriplesPattern);t.Collection=c,t.default=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(4),s=r(48),a=r(58),c=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r+"",n}return n(t,e),t}(a.TriplesSubject);t.Literal=c;var u=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.elementTokens=[o.OPEN_QUOTE,new i.StringLiteral(r),o.CLOSE_QUOTE],n}return n(t,e),t.prototype.ofType=function(e){return this.elementTokens=s.addType(this.value,e),this},t.prototype.withLanguage=function(e){return this.elementTokens=[o.OPEN_QUOTE,new i.StringLiteral(this.value),o.CLOSE_QUOTE,o.LANG_SYMBOL,new i.StringLiteral(e)],this},t}(c);t.RDFLiteral=u;var l=function(e){function t(t,r){var n=e.call(this,t,r)||this,o=Number.isInteger(r)?"integer":"float";return n.elementTokens=s.addType(n.value,o),n}return n(t,e),t}(c);t.NumericLiteral=l;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.elementTokens=s.addType(n.value,"boolean"),n}return n(t,e),t}(c);t.BooleanLiteral=f},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(58),i=function(e){function t(t,r){var n=e.call(this,t)||this;return n.elementTokens=t.resolve(r),n}return n(t,e),t}(o.TriplesSubject);t.Resource=i,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=r(4),s=r(58),a=/^((?:[0-9A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))((?:[0-9A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))*$/,c=function(e){function t(t,r){var n=this;if(!a.test(r))throw new Error("Invalid variable name");return n=e.call(this,t)||this,n.elementTokens=[o.VAR_SYMBOL,new i.StringLiteral(r)],n}return n(t,e),t}(s.TriplesSubject);t.Variable=c,t.default=c},function(e,t,r){"use strict";function n(e){var t=this.getTokens(e),r=s.OPEN_SINGLE_BLOCK,n=s.CLOSE_SINGLE_BLOCK;return this.isMultiLine(t)&&(r=s.OPEN_MULTI_BLOCK,n=s.CLOSE_MULTI_BLOCK),[r].concat(t,[n])}function o(e){var t=Array.isArray(e)?e:[e],r=[],n=void 0;return t.forEach(function(e,t,o){var i=e.getPattern();n===s.GRAPH_PATTERN_SEPARATOR&&(i[0]instanceof a.Identifier||i[0]===s.OPEN_MULTI_BLOCK||i[0]===s.OPEN_SINGLE_BLOCK)&&r.pop(),r.push.apply(r,i),n=i[i.length-1],t<o.length-1&&n!==s.CLOSE_MULTI_BLOCK&&n!==s.CLOSE_SINGLE_BLOCK&&r.push(n=s.GRAPH_PATTERN_SEPARATOR)}),r}function i(e){return void 0!==e.find(function(e){return e instanceof a.NewLineSymbol&&-1!==[".",";",",",""].indexOf(e.value)})}Object.defineProperty(t,"__esModule",{value:!0});var s=r(6),a=r(4);t.getBlockTokens=n,t.getTokens=o,t.isMultiLine=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.TransientProtectedDocument={TYPE:n.CS.ProtectedDocument}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(1);t.TransientAccessPoint={TYPE:o.C.AccessPoint,is:function(e){return n.TransientDirectContainer.is(e)},create:function(e){var r=Object.assign({},e);return t.TransientAccessPoint.createFrom(r)},createFrom:function(e){return n.TransientDirectContainer.createFrom(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81);t.TransientACE=n.TransientACE;var o=r(169);t.TransientACL=o.TransientACL;var i=r(325);t.AuthenticatedUserInformationAccessor=i.AuthenticatedUserInformationAccessor;var s=r(326);t.AuthenticatedUserMetadata=s.AuthenticatedUserMetadata;var a=r(82);t.AbstractAuthenticator=a.AbstractAuthenticator;var c=r(173);t.AuthMethod=c.AuthMethod;var u=r(328);t.AuthService=u.AuthService;var l=r(84);t.BasicAuthenticator=l.BasicAuthenticator;var f=r(174);t.BasicCredentials=f.BasicCredentials;var p=r(175);t.BasicToken=p.BasicToken;var d=r(329);t.CredentialsSet=d.CredentialsSet;var h=r(330);t.LDAPCredentials=h.LDAPCredentials;var v=r(81);t.ACE=v.ACE;var y=r(169);t.ACL=y.ACL;var g=r(83);t.User=g.User;var m=r(176);t.TokenAuthenticator=m.TokenAuthenticator;var _=r(85);t.TokenCredentials=_.TokenCredentials,t.TokenCredentialsBase=_.TokenCredentialsBase;var b=r(83);t.TransientUser=b.TransientUser;var P=r(172);t.UsernameAndPasswordCredentials=P.UsernameAndPasswordCredentials;var O=r(177);t.UsersEndpoint=O.UsersEndpoint},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),o=r(1);t.TransientACE={TYPE:o.CS.AccessControlEntry,is:function(e){return n.TransientFragment.is(e)&&e.hasOwnProperty("granting")&&e.hasOwnProperty("permissions")&&e.hasOwnProperty("subjects")&&e.hasOwnProperty("subjectsClass")},create:function(e){var r=Object.assign({},e);return t.TransientACE.createFrom(r)},createFrom:function(e){n.TransientFragment.decorate(e);var r=e;return r.addType(t.TransientACE.TYPE),r}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(324)),n(r(170))},function(e,t,r){"use strict";function n(e){return P.Pointer.is(e)?e:P.Pointer.create({id:e})}function o(e){var t=this;return(O.isArray(e)?e:[e]).map(function(e){return t._parsePointer(e)})}function i(e,t,r,n,o){var i,s=o.filter(function(r){return 1===r.subjects.length&&r.granting===e&&P.Pointer.areEqual(r.subjects[0],t)});return 0===s.length?(i=S.TransientACE.createFrom({granting:e,permissions:[],subjects:[t],subjectsClass:r}),o.push(this.createFragment(i))):i=s[0],Array.prototype.push.apply(i.permissions,n),i}function s(e,t,r,n,s){for(var a=o.call(this,t),c=this._parsePointer(r),u=o.call(this,n),l=0,f=a;l<f.length;l++){var p=f[l];v.call(this,p,u,s),i.call(this,e,p,c,u,s)}}function a(e,t,r){var n=this;n.entries=n.entries||[],s.call(this,!0,e,t,r,n.entries)}function c(e,t,r){var n=this;n.entries=n.entries||[],s.call(this,!1,e,t,r,n.entries)}function u(e,t,r,n){var o=this;o.inheritableEntries=o.inheritableEntries||[],s.call(this,e,t,r,n,o.inheritableEntries)}function l(e,t,r){for(var n=r.filter(function(t){return-1!==O.ArrayUtils.indexOf(t.subjects,e,P.Pointer.areEqual)}),o=0,i=n;o<i.length;o++){var s=i[o];if(-1!==O.ArrayUtils.indexOf(s.permissions,t,P.Pointer.areEqual))return s.granting}return null}function f(e,t,r){return r?l(this._parsePointer(e),this._parsePointer(t),r):null}function p(e,t){var r=this;return f.call(this,e,t,r.entries)}function d(e,t){var r=this,n=f.call(this,e,t,r.entries);return null===n?null:!n}function h(e,t){var r=this;return f.call(this,e,t,r.inheritableEntries)}function v(e,t,r){if(r)for(var n=this,o=n.entries===r?n.inheritableEntries:n.entries,s=r.filter(function(t){return-1!==O.ArrayUtils.indexOf(t.subjects,e,P.Pointer.areEqual)}),a=0,c=s;a<c.length;a++){var u=c[a];if(o&&-1!==O.ArrayUtils.indexOf(o,u,P.Pointer.areEqual)){r.splice(O.ArrayUtils.indexOf(r,u,P.Pointer.areEqual),1);var l=i.call(this,u.granting,e,u.subjectsClass,u.permissions,r);s.push(l)}else if(u.subjects.length>1){u.subjects.splice(O.ArrayUtils.indexOf(u.subjects,e,P.Pointer.areEqual),1);var l=i.call(this,u.granting,e,u.subjectsClass,u.permissions,r);s.push(l)}else{for(var f=0,p=t;f<p.length;f++){var d=p[f],h=O.ArrayUtils.indexOf(u.permissions,d,P.Pointer.areEqual);-1!==h&&u.permissions.splice(h,1)}0===u.permissions.length&&(r.splice(O.ArrayUtils.indexOf(r,u,P.Pointer.areEqual),1),n._removeFragment(u))}}}function y(e,t,r){var n=this._parsePointer(e),i=o.call(this,t);v.call(this,n,i,r)}function g(e,t){var r=this;y.call(this,e,t,r.entries)}function m(e,t){var r=this;y.call(this,e,t,r.inheritableEntries)}var _=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var b=r(18),P=r(17),O=_(r(0)),T=r(1),S=r(81);t.TransientACL={TYPE:T.CS.AccessControlList,isDecorated:function(e){return O.hasPropertyDefined(e,"accessTo")&&O.hasFunction(e,"_parsePointer")&&O.hasFunction(e,"grant")&&O.hasFunction(e,"deny")&&O.hasFunction(e,"configureChildInheritance")&&O.hasFunction(e,"grants")&&O.hasFunction(e,"denies")&&O.hasFunction(e,"getChildInheritance")&&O.hasFunction(e,"remove")&&O.hasFunction(e,"removeChildInheritance")},decorate:function(e){if(t.TransientACL.isDecorated(e))return e;b.TransientDocument.decorate(e);var r=e;return Object.defineProperties(r,{_parsePointer:{writable:!0,enumerable:!1,configurable:!0,value:n},grant:{writable:!0,enumerable:!1,configurable:!0,value:a},deny:{writable:!0,enumerable:!1,configurable:!0,value:c},configureChildInheritance:{writable:!0,enumerable:!1,configurable:!0,value:u},grants:{writable:!0,enumerable:!1,configurable:!0,value:p},denies:{writable:!0,enumerable:!1,configurable:!0,value:d},getChildInheritance:{writable:!0,enumerable:!1,configurable:!0,value:h},remove:{writable:!0,enumerable:!1,configurable:!0,value:g},removeChildInheritance:{writable:!0,enumerable:!1,configurable:!0,value:m}}),r}}},function(e,t,r){"use strict";function n(e,t){var r=a.UsernameAndPasswordCredentials.createFrom({username:e,password:t});return this.credentials=this.createFragment(r),this.credentials}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=r(0),s=r(1),a=r(172);t.TransientUser={TYPE:s.CS.User,isDecorated:function(e){return i.isObject(e)&&i.hasFunction(e,"updateCredentials")},is:function(e){return o.TransientDocument.is(e)&&t.TransientUser.isDecorated(e)},decorate:function(e){return t.TransientUser.isDecorated(e)?e:(o.TransientDocument.decorate(e),Object.defineProperties(e,{updateCredentials:{writable:!1,enumerable:!1,configurable:!0,value:n}}))},create:function(e){var r=Object.assign({},e);return t.TransientUser.createFrom(r)},createFrom:function(e){var r=t.TransientUser.decorate(e);return r._normalize(),r.addType(t.TransientUser.TYPE),r}}},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(20),i=r(65),s=r(14),a={username:{"@id":i.CS.username,"@type":s.XSD.string},password:{"@id":i.CS.password,"@type":s.XSD.string}};t.UsernameAndPasswordCredentials={TYPE:i.CS.UsernameAndPasswordCredentials,SCHEMA:a,create:function(e){return t.UsernameAndPasswordCredentials.createFrom(n({},e))},createFrom:function(e){var r=o.VolatileResource.createFrom(e);return r.addType(t.UsernameAndPasswordCredentials.TYPE),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.BASIC="BASIC",e.TOKEN="TOKEN"}(t.AuthMethod||(t.AuthMethod={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._username=e,this._password=t}return Object.defineProperty(e.prototype,"username",{get:function(){return this._username},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0}),e}();t.BasicCredentials=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._username=e,this._password=t}return Object.defineProperty(e.prototype,"username",{get:function(){return this._username},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0}),e}();t.BasicToken=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(26),s=r(30),a=r(20),c=r(10),u=r(0),l=r(1),f=r(82),p=r(84),d=r(85),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.isAuthenticated=function(){return e.prototype.isAuthenticated.call(this)&&this._credentials.expires>new Date},t.prototype.authenticate=function(e){return d.TokenCredentialsBase.is(e)?this._parseCredentialsBase(e):this._getCredentials(e)},t.prototype._getHeaderValue=function(){return"Bearer "+this._credentials.token},t.prototype._parseCredentialsBase=function(e){var t=this;return u.promiseMethod(function(){var r=d.TokenCredentials.createFrom(e);if(r.expires<=new Date)throw new o.IllegalArgumentError("The token has already expired.");return t._credentials=r})},t.prototype._getCredentials=function(e){var t=this,r=new p.BasicAuthenticator(this.context);return r.authenticate(e).then(function(){var e={};return r.addAuthentication(e),i.RequestUtils.setRetrievalPreferences({include:[l.CS.PreferAuthToken]},e),t.getAuthenticatedUser(e)}).then(function(){return t._credentials})},t.prototype._parseRDFMetadata=function(t,r,n){var o=e.prototype._parseRDFMetadata.call(this,t,r),i='include="'+l.CS.PreferAuthToken+'"',a=n.headers&&n.headers.get("prefer");if(!a||!a.hasValue(i))return o;var c=r.getHeader("preference-applied");if(!c||!c.hasValue(i))throw new s.BadResponseError('Preference "'+i+'" was not applied.',r);return this._parseRDFCredentials(t,r),o},t.prototype._parseRDFCredentials=function(e,t){var r=c.RDFNode.getFreeNodes(e),n=this.context.registry._parseFreeNodes(r),o=n.getPointers().find(a.ResponseMetadata.is);if(!o)throw new s.BadResponseError('No "'+a.ResponseMetadata.TYPE+'" was returned.',t);var i=o.authToken;if(!i)throw new s.BadResponseError('No "'+d.TokenCredentials.TYPE+'" was returned.',t);return this._credentials=i},t}(f.AbstractAuthenticator);t.TokenAuthenticator=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34);t.UsersEndpoint={is:function(e){return n.ProtectedDocument.is(e)},decorate:function(e){return n.ProtectedDocument.decorate(e),e}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(332)),n(r(333))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(334)),n(r(335))},function(e,t,r){"use strict";var n=r(181);e.exports=n.CarbonLDP},function(e,t,r){"use strict";function n(e,t){if(!t)return e;if(!e)return M.ObjectUtils.clone(t,{objects:!0});for(var r=0,o=Object.keys(t);r<o.length;r++){var i=o[r],s=t[i];if(null!==s){var a=e[i];if(a){if(M.isString(s))M.isObject(a)?a.slug=s:e[i]=s;else if(void 0!==s.slug||void 0!==s.paths){var c=M.isString(a)?e[i]={slug:a}:a;void 0!==s.slug&&(c.slug=s.slug),void 0!==s.paths&&(c.paths=n(c.paths,s.paths))}}else e[i]=M.isObject(s)?M.ObjectUtils.clone(s,{objects:!0}):s}else delete e[i]}return e}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=r(32),a=r(93),c=r(110),u=i(r(167)),l=r(112),f=r(18),p=i(r(3)),d=r(22),h=r(69),v=i(r(26)),y=i(r(23)),g=i(r(20)),m=i(r(124)),_=i(r(74)),b=r(130),P=r(12),O=r(17),T=r(34),S=i(r(10)),w=r(42),E=r(7),R=r(331),j=i(r(178)),A=i(r(151)),D=i(r(179)),M=i(r(0)),C=i(r(1)),I=function(e){function t(t){var r=e.call(this,R.GlobalContext.instance)||this;if(r._settings={vocabulary:"vocabularies/main/#",paths:{system:{slug:".system/",paths:{platform:"platform/",credentials:"credentials/",roles:"roles/"}},users:{slug:"users/",paths:{me:"me/"}}}},M.isString(t)){if(!S.URI.hasProtocol(t))throw new p.IllegalArgumentError('The URL must contain a valid protocol: "http://", "https://".');r._baseURI=t}else{if(!M.isString(t.host))throw new p.IllegalArgumentError("The settings object must contains a valid host string.");if(s.hasProtocol(t.host))throw new p.IllegalArgumentError("The host must not contain a protocol.");if(t.host.includes(":"))throw new p.IllegalArgumentError("The host must not contain a port.");r._baseURI=(!1===t.ssl?"http://":"https://")+t.host,M.isNumber(t.port)&&(r._baseURI.endsWith("/")&&(r._baseURI=r._baseURI.slice(0,-1)),r._baseURI+=":"+t.port),t.ssl=t.host=t.port=null;var o=n(r._settings.paths,t.paths);r._settings=M.ObjectUtils.extend(r._settings,t),r._settings.paths=o}return r._baseURI.endsWith("/")||(r._baseURI=r._baseURI+"/"),r.registry=new w.DocumentsRegistry(r),r.messaging=new _.MessagingService(r),r.auth=new u.AuthService(r),r.documents=T.ProtectedDocument.decorate(r.registry.getPointer(r._baseURI,!0)),r}return o(t,e),Object.defineProperty(t,"version",{get:function(){return"1.0.0-alpha.18"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return t.version},enumerable:!0,configurable:!0}),t.prototype.getPlatformMetadata=function(){var e=this;return M.promiseMethod(function(){var t=e._resolvePath("system.platform");return e.documents.get(t)})},t.AbstractContext=a.AbstractContext,t.AccessPoint=c.AccessPoint,t.Auth=u,t.BlankNode=l.BlankNode,t.Errors=p,t.FreeResources=h.FreeResources,t.HTTP=v,t.JSONLD=y,t.LDP=g,t.LDPatch=m,t.Messaging=_,t.Vocabularies=C,t.ObjectSchemaUtils=P.ObjectSchemaUtils,t.ObjectSchemaDigester=P.ObjectSchemaDigester,t.DigestedObjectSchemaProperty=P.DigestedObjectSchemaProperty,t.PointerType=P.PointerType,t.ContainerType=P.ContainerType,t.DigestedObjectSchema=P.DigestedObjectSchema,t.Document=f.Document,t.Fragment=d.Fragment,t.NamedFragment=b.NamedFragment,t.ProtectedDocument=T.ProtectedDocument,t.PersistedResource=E.PersistedResource,t.Pointer=O.Pointer,t.RDF=S,t.TransientResource=E.TransientResource,t.GlobalContext=R.GlobalContext,t.SHACL=j,t.SPARQL=A,t.System=D,t.Utils=M,t}(a.AbstractContext);t.CarbonLDP=I},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(38),i=r(49),s=r(61),a=r(25),c=function(e){function t(t){return e.call(this,t+"")||this}return n(t,e),t.prototype.getPrettySeparator=function(e){return e instanceof o.Identifier?a.NEW_LINE_SEPARATOR:e instanceof i.Operator||e instanceof s.RightSymbol?a.EMPTY_SEPARATOR:a.SPACE_SEPARATOR},t.prototype.getCompactSeparator=function(e){return this.constructor===e.constructor?a.SPACE_SEPARATOR:a.EMPTY_SEPARATOR},t}(a.Token);t.NumberLiteral=c,t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^_:[A-Za-z0-9_]([A-Za-z0-9_\-.]*[A-Za-z0-9_\-])?$/,o=function(){function e(e){if(this.token="blankNode",e){if(!n.test(e))throw new Error("Invalid blank node label.");this.label=e}}return e.prototype.toString=function(){return this.label?this.label:"[]"},e}();t.BlankNodeToken=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^((?:[0-9A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))((?:[0-9A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))*$/,o=function(){function e(e){if(this.token="variable",!n.test(e))throw new Error("Invalid variable name");this.name=e}return e.prototype.toString=function(){return"?"+this.name},e}();t.VariableToken=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=r(91),i=r(87),s=r(90),a=r(89),c=r(88),u=r(92),l=function(){function e(e){this.token="literal",void 0!==e&&this.setValue(e)}return e.prototype.setValue=function(e){if(!this.value||this.value.value!==e)return this.value="boolean"==typeof e?new o.BooleanToken(e):"number"==typeof e?new a.NumberToken(e):new u.StringToken(e),this},e.prototype.setType=function(e){if(!this.value)throw new Error("Must set a value before a type.");return"string"!==this.value.token&&(this.value=new u.StringToken(""+this.value)),this.type="string"==typeof e?n.isPrefixed(e)?new c.PrefixedNameToken(e):new i.IRIToken(e):e,this},e.prototype.setLanguage=function(e){if(!this.value||"string"!==this.value.token)throw new Error("Non-string value can't have a language.");return this.type=void 0,this.language=new s.LanguageToken(e),this},e.prototype.toString=function(){return this.language?""+this.value+this.language:this.type?this.value+"^^"+this.type:""+this.value},e}();t.LiteralToken=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.token="values",this.variables=[],this.values=[]}return e.prototype.addValues=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.variables.push(e),this.values.push(t),this},e.prototype.toString=function(){return"VALUES "+(this.variables.length?1===this.variables.length?this.variables.join(" "):"( "+this.variables.join(" ")+" )":"()")+" { "+(this.variables.length?1===this.variables.length?this.values[0]:this.values.map(function(e){return"( "+e.join(" ")+" )"}):["()"]).join(" ")+" }"},e}();t.ValuesToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="subject",this.subject=e,this.predicates=[]}return e.prototype.addPredicate=function(e){return this.predicates.push(e),this},e.prototype.toString=function(){return this.subject+" "+this.predicates.join("; ")},e}();t.SubjectToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="predicate",this.predicate=e,this.objects=[]}return e.prototype.addObject=function(e){return this.objects.push(e),this},e.prototype.toString=function(){return this.predicate+" "+this.objects.join(", ")},e}();t.PredicateToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=function(){function e(){this.token="optional",this.patterns=[]}return e.prototype.addPattern=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.patterns).push.apply(r,e),this;var r},e.prototype.toString=function(){return"OPTIONAL { "+n.joinPatterns(this.patterns)+" }"},e}();t.OptionalToken=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=function(){function e(e){this.token="graph",this.graph=e,this.patterns=[]}return e.prototype.addPattern=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.patterns).push.apply(r,e),this;var r},e.prototype.toString=function(){return"GRAPH "+this.graph+" { "+n.joinPatterns(this.patterns)+" }"},e}();t.GraphToken=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.token="bind",this.expression=e,this.variable=t}return e.prototype.toString=function(){return"BIND("+this.expression+" AS "+this.variable+")"},e}();t.BindToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="filter",this.constraint=e}return e.prototype.toString=function(){return"FILTER( "+this.constraint+" )"},e}();t.FilterToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.token="prefix",this.namespace=e,this.iri=t}return e.prototype.toString=function(){return"PREFIX "+this.namespace+": "+this.iri},e}();t.PrefixToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=function(){function e(){this.token="construct",this.triples=[],this.patterns=[],this.modifiers=[]}return e.prototype.addTriple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.triples).push.apply(r,e),this;var r},e.prototype.addPattern=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.patterns).push.apply(r,e),this;var r},e.prototype.addModifier=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.modifiers).push.apply(r,e),this;var r},e.prototype.toString=function(){var e="CONSTRUCT { "+this.triples.join(". ")+" } WHERE { "+n.joinPatterns(this.patterns)+" }";return this.modifiers.length&&(e+=" "+this.modifiers.join(" ")),e},e}();t.ConstructToken=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=function(){function e(e){this.token="select",this.modifier=e,this.variables=[],this.patterns=[],this.modifiers=[]}return e.prototype.addVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.variables).push.apply(r,e),this;var r},e.prototype.addPattern=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.patterns).push.apply(r,e),this;var r},e.prototype.addModifier=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.modifiers).push.apply(r,e),this;var r},e.prototype.toString=function(){var e="SELECT";return this.modifier&&(e+=" "+this.modifier),this.variables.length&&(e+=" "+this.variables.join(" ")),e+=" WHERE { "+n.joinPatterns(this.patterns)+" }",this.modifiers.length&&(e+=" "+this.modifiers.join(" ")),e},e}();t.SelectToken=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="base",this.iri=e}return e.prototype.toString=function(){return"BASE "+this.iri},e}();t.BaseToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.token="order",this.condition=e,t&&(this.flow=t)}return e.prototype.toString=function(){return"ORDER BY "+(this.flow?this.flow+"( "+this.condition+" )":""+this.condition)},e}();t.OrderToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="limit",this.value=e}return e.prototype.toString=function(){return"LIMIT "+this.value},e}();t.LimitToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.token="offset",this.value=e}return e.prototype.toString=function(){return"OFFSET "+this.value},e}();t.OffsetToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.token="query",this.prologues=[],this.query=e,this.values=t}return e.prototype.addPrologues=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.prologues).push.apply(r,e),this;var r},e.prototype.toString=function(){var e=this.prologues.join(" ");return this.prologues.length&&(e+=" "),e+=this.query,this.values&&(e+=" "+this.values),e},e}();t.QueryToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.token="collection",this.objects=[]}return e.prototype.addObject=function(e){return this.objects.push(e),this},e.prototype.toString=function(){return this.objects.length?"( "+this.objects.join(" ")+" )":"()"},e}();t.CollectionToken=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IDAlreadyInUseError"},enumerable:!0,configurable:!0}),t}(o.AbstractError);t.IDAlreadyInUseError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalActionError"},enumerable:!0,configurable:!0}),t}(o.AbstractError);t.IllegalActionError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidJSONLDSyntaxError"},enumerable:!0,configurable:!0}),t}(o.AbstractError);t.InvalidJSONLDSyntaxError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),i=function(e){function t(t){return e.call(this,t)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedError"},enumerable:!0,configurable:!0}),t}(o.AbstractError);t.NotImplementedError=i},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(97),s=r(10),a=n(r(0)),c=r(1),u=r(94),l=r(95),f=r(96),p=r(109),d=function(){function e(){}return e.digestSchema=function(t){if(!Array.isArray(t))return e._digestSchema(t);var r=t.map(function(t){return e._digestSchema(t)});return e._combineSchemas(r)},e.digestProperty=function(e,t,r){var n=new f.DigestedObjectSchemaProperty;if("@id"in t){var l=t["@id"];if(s.URI.isPrefixed(e))throw new o.IllegalArgumentError("A prefixed property cannot have assigned another URI.");if(!a.isString(l))throw new o.IllegalArgumentError("@id needs to point to a string");n.uri=l}else n.uri=e;if("@type"in t){var d=t["@type"];if(!a.isString(d))throw new o.IllegalArgumentError("@type needs to point to a string");"@id"===d||"@vocab"===d?(n.literal=!1,n.pointerType="@id"===d?p.PointerType.ID:p.PointerType.VOCAB):(s.URI.isRelative(d)&&d in c.XSD&&(d=c.XSD[d]),n.literal=!0,n.literalType=d)}if("@language"in t){var h=t["@language"];if(null!==h&&!a.isString(h))throw new o.IllegalArgumentError("@language needs to point to a string or null.");n.literal=!0,n.language=h}if("@container"in t)switch(t["@container"]){case"@set":n.containerType=u.ContainerType.SET;break;case"@list":n.containerType=u.ContainerType.LIST;break;case"@language":if(a.isString(n.language))throw new o.IllegalArgumentError("@container cannot be set to @language when the property definition already contains an @language tag.");n.containerType=u.ContainerType.LANGUAGE;break;default:throw new o.IllegalArgumentError("@container needs to be equal to '@list', '@set', or '@language'")}return r?i.ObjectSchemaUtils.resolveProperty(r,n,!0):n},e.combineDigestedObjectSchemas=function(t){if(0===t.length)throw new o.IllegalArgumentError("At least one DigestedObjectSchema needs to be specified.");return t.unshift(new l.DigestedObjectSchema),e._combineSchemas(t)},e._digestSchema=function(t){for(var r=new l.DigestedObjectSchema,n=0,i=["@base","@vocab"];n<i.length;n++){var c=i[n];if(c in t){var u=t[c];if(null!==u&&!a.isString(u))throw new o.IllegalArgumentError("The value of '"+c+"' must be a string or null.");if("@vocab"===c&&""===u||!s.URI.isAbsolute(u)&&!s.URI.isBNodeID(u))throw new o.IllegalArgumentError("The value of '"+c+"' must be an absolute URI"+("@base"===c?" or an empty string":"")+".");r[c.substr(1)]=u}}if(r.base=r.base||"","@language"in t){var u=t["@language"];if(null!==u&&!a.isString(u))throw new o.InvalidJSONLDSyntaxError("The value of '@language' must be a string or null.");r.language=u}for(var c in t)if(t.hasOwnProperty(c)&&"@reverse"!==c&&"@index"!==c&&"@base"!==c&&"@vocab"!==c&&"@language"!==c){var f=t[c];if(a.isString(f)){if(s.URI.isPrefixed(c))throw new o.IllegalArgumentError("A prefixed property cannot be equal to another URI.");r.prefixes.set(c,f)}else{if(!f||!a.isObject(f))throw new o.IllegalArgumentError("ObjectSchema Properties can only have string values or object values.");var p=e.digestProperty(c,f);r.properties.set(c,p)}}return r},e._combineSchemas=function(e){var t=e[0];return e.slice(1).forEach(function(e){void 0!==e.vocab&&(t.vocab=e.vocab),""!==e.base&&(t.base=e.base),null!==e.language&&(t.language=e.language),a.MapUtils.extend(t.prefixes,e.prefixes),a.MapUtils.extend(t.properties,e.properties)}),t},e}();t.ObjectSchemaDigester=d},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 400},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadRequestError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.BadRequestError=i},function(e,t,r){"use strict";function n(e,t){s.isObject(e)&&s.isObject(t)&&new Set(Object.keys(e).concat(Object.keys(t))).forEach(function(r){var n=Array.isArray(t[r])?t[r].slice():t[r];if(null===n||void 0===n)return void delete e[r];o.isFunction(n)||(e[r]=n)})}Object.defineProperty(t,"__esModule",{value:!0});var o=r(212),i=r(15),s=r(0),a=r(103),c={get _snapshot(){return{}},_partialMetadata:void 0,_syncSnapshot:function(){var e=s.ObjectUtils.clone(this,{arrays:!0});e.types=this.types.slice(),this._snapshot=e},isDirty:function(){return!s.ObjectUtils.areEqual(this,this._snapshot,{arrays:!0})},revert:function(){n(this,this._snapshot),this.types||(this.types=[])},isPartial:function(){return!!this._partialMetadata}};t.PersistedResource={PROTOTYPE:c,isDecorated:function(e){return s.isObject(e)&&i.ModelDecorator.hasPropertiesFrom(c,e)},is:function(e){return s.isObject(e)&&t.PersistedResource.isDecorated(e)},decorate:function(e){if(t.PersistedResource.isDecorated(e))return e;var r=a.TransientResource.decorate(e);return i.ModelDecorator.definePropertiesFrom(c,r)}}},function(e,t,r){(function(e,n){function o(e,r){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(r)?n.showHidden=r:r&&t._extend(n,r),P(n.showHidden)&&(n.showHidden=!1),P(n.depth)&&(n.depth=2),P(n.colors)&&(n.colors=!1),P(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),c(n,e,n.depth)}function i(e,t){var r=o.styles[t];return r?"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function c(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return _(o)||(o=c(e,o,n)),o}var i=u(e,r);if(i)return i;var s=Object.keys(r),v=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),w(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(r);if(0===s.length){if(E(r)){var y=r.name?": "+r.name:"";return e.stylize("[Function"+y+"]","special")}if(O(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return l(r)}var g="",m=!1,b=["{","}"];if(h(r)&&(m=!0,b=["[","]"]),E(r)){g=" [Function"+(r.name?": "+r.name:"")+"]"}if(O(r)&&(g=" "+RegExp.prototype.toString.call(r)),S(r)&&(g=" "+Date.prototype.toUTCString.call(r)),w(r)&&(g=" "+l(r)),0===s.length&&(!m||0==r.length))return b[0]+g+b[1];if(n<0)return O(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var P;return P=m?f(e,r,n,v,s):s.map(function(t){return p(e,r,n,v,t,m)}),e.seen.pop(),d(P,g,b)}function u(e,t){if(P(t))return e.stylize("undefined","undefined");if(_(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)M(t,String(s))?i.push(p(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,r,n,o,!0))}),i}function p(e,t,r,n,o,i){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),M(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=y(r)?c(e,u.value,null):c(e,u.value,r-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),P(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function h(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function y(e){return null===e}function g(e){return null==e}function m(e){return"number"==typeof e}function _(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function P(e){return void 0===e}function O(e){return T(e)&&"[object RegExp]"===j(e)}function T(e){return"object"==typeof e&&null!==e}function S(e){return T(e)&&"[object Date]"===j(e)}function w(e){return T(e)&&("[object Error]"===j(e)||e instanceof Error)}function E(e){return"function"==typeof e}function R(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function j(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function D(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var C=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(e).replace(C,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<i;a=n[++r])y(a)||!T(a)?s+=" "+a:s+=" "+o(a);return s},t.deprecate=function(r,o){function i(){if(!s){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),s=!0}return r.apply(this,arguments)}if(P(e.process))return function(){return t.deprecate(r,o).apply(this,arguments)};if(!0===n.noDeprecation)return r;var s=!1;return i};var I,x={};t.debuglog=function(e){if(P(I)&&(I=Object({NODE_ENV:"prod"}).NODE_DEBUG||""),e=e.toUpperCase(),!x[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=n.pid;x[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else x[e]=function(){};return x[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=v,t.isNull=y,t.isNullOrUndefined=g,t.isNumber=m,t.isString=_,t.isSymbol=b,t.isUndefined=P,t.isRegExp=O,t.isObject=T,t.isDate=S,t.isError=w,t.isFunction=E,t.isPrimitive=R,t.isBuffer=r(213);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",D(),t.format.apply(t,arguments))},t.inherits=r(214),t._extend=function(e,t){if(!t||!T(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(8),r(102))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.ModelDecorator={hasPropertiesFrom:function(e,t){return Object.keys(e).every(function(r){var o=Object.getOwnPropertyDescriptor(e,r);return o.value&&n.isFunction(o.value)?n.hasFunction(t,r):t.hasOwnProperty(r)})},definePropertiesFrom:function(e,t){return Object.keys(e).forEach(function(r){var o={enumerable:!1,configurable:!0,writable:!0},i=e[r];n.isFunction(i)?(o.writable=!1,o.value=i):o.value=void 0!==t[r]?t[r]:i,Object.defineProperty(t,r,o)}),t},decorateMultiple:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(t){return t.decorate(e)}),e}}},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.Pointer={isDecorated:function(e){return o.hasPropertyDefined(e,"_id")&&o.hasPropertyDefined(e,"id")},is:function(e){return o.isObject(e)&&t.Pointer.isDecorated(e)},create:function(e){var r=Object.assign({},e);return t.Pointer.createFrom(r)},createFrom:function(e){return t.Pointer.decorate(e)},decorate:function(e){if(t.Pointer.isDecorated(e))return e;var r=e;return Object.defineProperties(r,{_registry:{writable:!0,enumerable:!1,configurable:!0},_id:{writable:!0,enumerable:!1,configurable:!0,value:r.id||""},id:{enumerable:!1,configurable:!0,get:function(){return this._id},set:function(e){this._id=e}}}),r},areEqual:function(e,t){return e.id===t.id},getIDs:function(e){return e.map(function(e){return e.id})},getID:function(e){return o.isString(e)?e:e.id}}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 409},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ConflictError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.ConflictError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 403},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ForbiddenError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.ForbiddenError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 405},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"MethodNotAllowedError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.MethodNotAllowedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 406},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotAcceptableError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.NotAcceptableError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 404},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotFoundError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.NotFoundError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 412},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"PreconditionFailedError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.PreconditionFailedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 428},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"PreconditionRequiredError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.PreconditionRequiredError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 413},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestEntityTooLargeError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.RequestEntityTooLargeError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 431},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestHeaderFieldsTooLargeError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.RequestHeaderFieldsTooLargeError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 414},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestURITooLongError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.RequestURITooLongError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 429},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"TooManyRequestsError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.TooManyRequestsError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 401},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"UnauthorizedError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.UnauthorizedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 415},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"UnsupportedMediaTypeError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.UnsupportedMediaTypeError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadResponseError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.BadResponseError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 502},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadGatewayError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.BadGatewayError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 504},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"GatewayTimeoutError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.GatewayTimeoutError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 505},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"HTTPVersionNotSupportedError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.HTTPVersionNotSupportedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 500},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"InternalServerErrorError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.InternalServerErrorError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 501},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.NotImplementedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 503},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ServiceUnavailableError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.ServiceUnavailableError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"UnknownError"},enumerable:!0,configurable:!0}),t}(o.HTTPError);t.UnknownError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(107))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LDP={namespace:"http://www.w3.org/ns/ldp#",Ascending:"http://www.w3.org/ns/ldp#Ascending",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Container:"http://www.w3.org/ns/ldp#Container",Descending:"http://www.w3.org/ns/ldp#Descending",DirectContainer:"http://www.w3.org/ns/ldp#DirectContainer",IndirectContainer:"http://www.w3.org/ns/ldp#IndirectContainer",RDFSource:"http://www.w3.org/ns/ldp#RDFSource",Resource:"http://www.w3.org/ns/ldp#Resource",MemberSubject:"http://www.w3.org/ns/ldp#MemberSubject",NonRDFSource:"http://www.w3.org/ns/ldp#NonRDFSource",Page:"http://www.w3.org/ns/ldp#Page",PageSortCriterion:"http://www.w3.org/ns/ldp#PageSortCriterion",PreferContainment:"http://www.w3.org/ns/ldp#PreferContainment",PreferEmptyContainer:"http://www.w3.org/ns/ldp#PreferEmptyContainer",PreferMembership:"http://www.w3.org/ns/ldp#PreferMembership",PreferMinimalContainer:"http://www.w3.org/ns/ldp#PreferMinimalContainer",constrainedBy:"http://www.w3.org/ns/ldp#constrainedBy",contains:"http://www.w3.org/ns/ldp#contains",hasMemberRelation:"http://www.w3.org/ns/ldp#hasMemberRelation",insertedContentRelation:"http://www.w3.org/ns/ldp#insertedContentRelation",isMemberOfRelation:"http://www.w3.org/ns/ldp#isMemberOfRelation",member:"http://www.w3.org/ns/ldp#member",membershipResource:"http://www.w3.org/ns/ldp#membershipResource",pageSequence:"http://www.w3.org/ns/ldp#pageSequence",pageSortCollation:"http://www.w3.org/ns/ldp#pageSortCollation",pageSortCriteria:"http://www.w3.org/ns/ldp#pageSortCriteria",pageSortOrder:"http://www.w3.org/ns/ldp#pageSortOrder"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RDF={namespace:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VCARD={namespace:"http://www.w3.org/2001/vcard-rdf/3.0#",email:"http://www.w3.org/2001/vcard-rdf/3.0#email"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.ObjectSchemaResolver={is:function(e){return n.isObject(e)&&n.hasFunction(e,"getGeneralSchema")&&n.hasFunction(e,"hasSchemaFor")&&n.hasFunction(e,"getSchemaFor")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),o=r(166);t.AccessPoint={TYPE:o.TransientAccessPoint.TYPE,is:function(e){return o.TransientAccessPoint.is(e)&&n.ProtectedDocument.is(e)},create:o.TransientAccessPoint.create,createFrom:o.TransientAccessPoint.createFrom}},function(e,t,r){"use strict";function n(e){var t=this;return(this.isResolved()?Promise.resolve(this.accessControlList):this.executeSELECTQuery("SELECT ?acl WHERE {<"+this.id+"> <"+a.CS.accessControlList+"> ?acl}").then(function(e){return e.bindings[0].acl})).then(function(r){return t.get(r.id,e)})}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),s=o(r(0)),a=r(1),c=r(165);t.ProtectedDocument={TYPE:c.TransientProtectedDocument.TYPE,SCHEMA:{accessControlList:{"@id":a.CS.accessControlList,"@type":"@id"}},isDecorated:function(e){return s.isObject(e)&&s.hasFunction(e,"getACL")},is:function(e){return t.ProtectedDocument.isDecorated(e)&&i.Document.is(e)},decorate:function(e){if(t.ProtectedDocument.isDecorated(e))return e;i.Document.decorate(e);var r=e;return Object.defineProperties(r,{getACL:{writable:!1,enumerable:!1,configurable:!0,value:n}}),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(111);t.Fragment={isDecorated:function(e){return o.TransientFragment.isDecorated(e)&&n.PersistedResource.isDecorated(e)},is:function(e){return o.TransientFragment.is(e)&&n.PersistedResource.isDecorated(e)},decorate:function(e){return t.Fragment.isDecorated(e)?e:(o.TransientFragment.decorate(e),n.PersistedResource.decorate(e),e)},create:o.TransientFragment.create,createFrom:o.TransientFragment.createFrom}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),o=r(22),i=r(7),s=r(113);t.BlankNode={is:function(e){return s.TransientBlankNode.is(e)&&i.PersistedResource.isDecorated(e)},create:s.TransientBlankNode.create,createFrom:s.TransientBlankNode.createFrom,decorate:function(e){return n.ModelDecorator.decorateMultiple(e,s.TransientBlankNode,o.Fragment)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(17),i=r(10),s=r(42),a=r(7),c=r(43),u=r(43),l=function(){function e(e,t,r,n){this.registry=e,this.root=t,this.resolver=r||e,this.converter=n||e.jsonldConverter,this.compactionMap=new Map}return e.prototype.compactDocument=function(e){var t=[e];return this.compactDocuments(t)[0]},e.prototype.compactDocuments=function(e,t){var r=this;void 0===t&&(t=e),e.forEach(function(e){var t=i.RDFDocument.getNodes(e),o=t[0],s=t[1];if(0===o.length)throw new n.IllegalArgumentError('The RDFDocument "'+e["@id"]+'" does not contain a document resource.');if(o.length>1)throw new n.IllegalArgumentError('The RDFDocument "'+e["@id"]+'" contains multiple document resources.');var a=o[0],c=r._getResource(a,r.registry),u=c.getPointers(!0).map(function(e){return e.id}),l=s.map(function(e){return r._getResource(e,c)}).map(function(e){return e.id}),f=new Set(l);u.filter(function(e){return!f.has(e)}).forEach(function(e){return c.removePointer(e)})});for(var o=e.map(function(e){return e["@id"]}).map(this.compactionMap.get,this.compactionMap).map(function(e){return e.resource}),s=t.map(function(e){return e["@id"]}),a=s.map(this.compactionMap.get,this.compactionMap).map(function(e){return r.root&&e.paths.push(r.root),e.resource});s.length;)this._processCompactionQueue(s),this.compactionMap.forEach(function(e,t,r){e.processed&&r.delete(t)}),this.compactionMap.size&&s.push(this.compactionMap.keys().next().value);return o.forEach(function(e){e._syncSavedFragments(),e.types.map(function(e){return r.registry.documentDecorators.get(e)}).forEach(function(t){return t&&t.call(void 0,e,r.registry)})}),a},e.prototype._compactNode=function(e,t,r,n){var o=this.resolver.getSchemaFor(e,n),i=this._setOrRemovePartial(t,o,n),s=this.converter.compact(e,{},o,r,i),a=[];return new Set(Object.keys(t).concat(Object.keys(s))).forEach(function(e){if(!s.hasOwnProperty(e))return void(i&&!o.properties.has(e)||delete t[e]);if(a.push(e),!Array.isArray(t[e]))return void(t[e]=s[e]);var r=Array.isArray(s[e])?s[e]:[s[e]];t[e].length=0,(n=t[e]).push.apply(n,r);var n}),a.filter(function(e){return o.properties.has(e)})},e.prototype._getResource=function(e,t){var r=t.getPointer(e["@id"],!0);return s.Registry.isDecorated(r)&&(t=r),this.compactionMap.set(r.id,{paths:[],node:e,resource:r,registry:t}),r},e.prototype._processCompactionQueue=function(e){for(;e.length;){var t=e.shift();if(this.compactionMap.has(t)){var r=this.compactionMap.get(t);r.processed=!0;var n=r.paths.shift(),i=this._compactNode(r.node,r.resource,r.registry,n);a.PersistedResource.is(r.resource)&&r.resource._syncSnapshot();for(var s=0,c=i;s<c.length;s++){var u=c[s];if(r.resource.hasOwnProperty(u))for(var l=r.resource[u],f=Array.isArray(l)?l:[l],p=f.filter(o.Pointer.is),d=0,h=p;d<h.length;d++){var v=h[d];if(this.compactionMap.has(v.id)){var y=this.compactionMap.get(v.id);if(n){var g=n+"."+u;if(!this.resolver.hasSchemaFor(y.node,g))continue;y.paths.push(g),e.push(v.id)}}}}}}},e.prototype._setOrRemovePartial=function(e,t,r){var n=a.PersistedResource.decorate(e);return!!this._willBePartial(n,t,r)||(n._partialMetadata&&delete n._partialMetadata,!1)},e.prototype._willBePartial=function(e,t,r){if(this.resolver instanceof u.QueryContextPartial)return!0;if(!(this.resolver instanceof c.QueryContextBuilder))return!1;var n=this.resolver.hasProperty(r)?this.resolver.getProperty(r).getType():void 0;return(n===c.QueryPropertyType.PARTIAL||n===c.QueryPropertyType.ALL)&&(e._partialMetadata=new c.PartialMetadata(n===c.QueryPropertyType.ALL?c.PartialMetadata.ALL:t,e._partialMetadata),!0)},e}();t.JSONLDCompacter=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=r(3),s=r(26),a=r(23),c=r(20),u=r(10),l=r(68),f=r(114),p=function(e){function t(t){return e.call(this,o.Document,t)||this}return n(t,e),t.prototype.register=function(e){return this._register({id:e})},t.prototype._register=function(t){var r=e.prototype._register.call(this,t);return r._context=this._context,r},t.prototype._getLocalID=function(t){return u.URI.isBNodeID(t)||u.URI.hasFragment(t)?l.Registry.PROTOTYPE._getLocalID.call(this,t):e.prototype._getLocalID.call(this,t)},t.prototype._parseErrorFromResponse=function(t){var r=this;return t instanceof s.Response?e.prototype._parseErrorFromResponse.call(this,t).catch(function(e){return r._addErrorResponseData(t,e)}):e.prototype._parseErrorFromResponse.call(this,t)},t.prototype._addErrorResponseData=function(e,t){var r=this;return e.data?(new a.JSONLDParser).parse(e.data).then(function(e){var n=r._parseFreeNodes(e),o=n.getPointers(!0).filter(c.ErrorResponse.is);if(0===o.length)return Promise.reject(new i.IllegalArgumentError("The response string does not contains a c:ErrorResponse."));if(o.length>1)return Promise.reject(new i.IllegalArgumentError("The response string contains multiple c:ErrorResponse."));var s=Object.assign(t,o[0]);return t.message=c.ErrorResponse.getMessage(s),Promise.reject(t)},function(){return Promise.reject(t)}):Promise.reject(t)},t}(f.RegistryService);t.DocumentsRegistry=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIME_OUT=408]="REQUEST_TIME_OUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",e[e.REQUEST_URI_TOO_LARGE=414]="REQUEST_URI_TOO_LARGE",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIME_OUT=504]="GATEWAY_TIME_OUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(14),i={errorCode:{"@id":n.C.errorCode,"@type":o.XSD.string},errorMessage:{"@id":n.C.errorMessage,"@language":"en"},errorParameters:{"@id":n.C.errorParameters,"@type":"@id"}};t.Error={TYPE:n.C.Error,SCHEMA:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(11),i={entries:{"@id":o.C.entry,"@type":"@id","@container":"@set"}};t.Map={TYPE:o.C.Map,SCHEMA:i,is:function(e){return n.TransientResource.is(e)&&e.hasType(t.Map.TYPE)&&e.hasOwnProperty("entries")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o={entryKey:{"@id":n.C.entryKey},entryValue:{"@id":n.C.entryValue}};t.MapEntry={SCHEMA:o}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(254)),n(r(116))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),o=r(116);t.DirectContainer={TYPE:o.TransientDirectContainer.TYPE,is:function(e){return o.TransientDirectContainer.is(e)&&n.Document.is(e)},create:o.TransientDirectContainer.create,createFrom:o.TransientDirectContainer.createFrom}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(14),i={relatedDocument:{"@id":n.C.relatedDocument,"@type":"@id"},eTag:{"@id":n.C.eTag,"@type":o.XSD.string},bNodesMap:{"@id":n.C.bNodesMap,"@type":"@id"}};t.DocumentMetadata={TYPE:n.C.DocumentMetadata,SCHEMA:i}},function(e,t,r){"use strict";function n(e){return e.errors&&e.errors.length?e.errors:e[s.C.error]?Array.isArray(e[s.C.error])?e[s.C.error]:[e[s.C.error]]:[]}function o(e){return"errorMessage"in e?e.errorMessage:e[s.C.errorMessage]}Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),s=r(11),a=r(14),c={errors:{"@id":s.C.error,"@type":"@id","@container":"@set"},requestID:{"@id":s.C.requestID,"@type":a.XSD.string},statusCode:{"@id":s.C.httpStatusCode,"@type":a.XSD.int}};t.ErrorResponse={TYPE:s.C.ErrorResponse,SCHEMA:c,is:function(e){return i.TransientResource.is(e)&&e.hasType(t.ErrorResponse.TYPE)},getMessage:function(e){return n(e).map(o).join(", ")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(117),i={documentsMetadata:{"@id":n.C.documentMetadata,"@type":"@id","@container":"@set"},authToken:{"@id":n.CS.authToken,"@type":"@id"}};t.ResponseMetadata={TYPE:n.C.ResponseMetadata,SCHEMA:i,is:function(e){return o.VolatileResource.is(e)&&e.hasType(t.ResponseMetadata.TYPE)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o={errorDetails:{"@id":n.C.errorDetails,"@type":"@id"}};t.ValidationError={TYPE:n.C.ValidationError,SCHEMA:o}},function(e,t,r){"use strict";function n(e){if(e._registry)return e._registry;throw new v.IllegalActionError('"'+e.id+"\" doesn't support Querying requests.")}function o(e,t,r,n,o,i,s){var a=n.getVariable("metadata"),c=(p=(new f.ConstructToken).addTriple(new f.SubjectToken(a).addPredicate(new f.PredicateToken("a").addObject(n.compactIRI(T.C.VolatileResource)).addObject(n.compactIRI(T.C.QueryMetadata))).addPredicate(new f.PredicateToken(n.compactIRI(T.C.target)).addObject(n.getVariable(o)))).addPattern(new f.BindToken("BNODE()",a))).addPattern.apply(p,i),u=(d=new f.QueryToken(c)).addPrologues.apply(d,n.getPrologues()),l=C.getAllTriples(i);return c.addTriple.apply(c,l),y.RequestUtils.setRetrievalPreferences({include:[T.C.PreferResultsContext]},r),e._context.auth.addAuthentication(r),S.SPARQLService.executeRawCONSTRUCTQuery(t,u.toString(),r).then(function(e){return e[0]}).then(function(e){return(new g.JSONLDParser).parse(e)}).then(function(t){var r=b.RDFNode.getFreeNodes(t),i=e._parseFreeNodes(r),a=new Set(i.getPointers().filter(D.QueryMetadata.is).map(function(e){return e.target||e[T.C.target]}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.id})),c=s&&s._eTag;if(s&&(s._eTag=void 0),i.getPointers().filter(m.ResponseMetadata.is).map(function(e){return e.documentsMetadata||e[T.C.documentMetadata]}).map(function(e){return Array.isArray(e)?e:[e]}).forEach(function(e){return e.forEach(function(e){if(e){var t=e.relatedDocument||e[T.C.relatedDocument],r=e.eTag||e[T.C.eTag];r&&(t._resolved=!0,void 0===t._eTag&&(t._eTag=r),t._eTag!==r&&(t._eTag=null))}})}),c&&c===s._eTag)return[s];var u=t.filter(b.RDFDocument.is),l=u.filter(function(e){return a.has(e["@id"])});return new g.JSONLDCompacter(e,o,n).compactDocuments(u,l)}).catch(e._parseErrorFromResponse.bind(this));var p,d}function i(e,t,r,n,i,s,a){var c="document"===i.name?j.QueryDocumentBuilder:A.QueryDocumentsBuilder,u=new c(n,i);if(i.setType(s?s===I?M.QueryPropertyType.EMPTY:M.QueryPropertyType.PARTIAL:M.QueryPropertyType.FULL),s&&s.call(void 0,u)!==u)throw new v.IllegalArgumentError("The provided query builder was not returned");var l=i.getPatterns();return o(e,t,r,n,i.name,l,a).then(function(e){if(!(u instanceof A.QueryDocumentsBuilder&&u._orderData))return e;var t=u._orderData,r=t.path,n=t.flow,o="DESC"===n?-1:1;return e.sort(function(e,t){e=C.getPathProperty(e,r),t=C.getPathProperty(t,r);var n=_.Pointer.is(e)?e.id:e,i=_.Pointer.is(t)?t.id:t;if(n===i)return 0;if(void 0===n)return-1*o;if(void 0===i)return o;if(C.areDifferentType(e,t)){if(_.Pointer.is(e))return-1*o;if(_.Pointer.is(t))return o;if(O.isNumber(e))return-1*o;if(O.isNumber(t))return o;if(O.isDate(e))return-1*o;if(O.isDate(t))return o;if(O.isBoolean(e))return-1*o;if(O.isBoolean(t))return o;if(O.isString(e))return-1*o;if(O.isString(t))return o}else if(_.Pointer.is(e)){var s=b.URI.isBNodeID(n),a=b.URI.isBNodeID(i);if(s&&!a)return-1*o;if(a&&!s)return o}return n<i?-1*o:n>i?o:void 0})})}function s(e,t,r,n){if(r._partialMetadata.schema===w.PartialMetadata.ALL)return void t.addPattern(C.createAllPattern(e,n));t.addPattern(C.createTypesPattern(e,n)),r._partialMetadata.schema.properties.forEach(function(o,i){var a=n+"."+i,c=(p=new f.OptionalToken).addPattern.apply(p,C.createPropertyPatterns(e,n,a,o));t.addPattern(c);var u=Array.isArray(r[i])?r[i]:[r[i]],l=u.filter(P.PersistedResource.is).find(function(e){return e.isPartial()});if(l){s(e,c,l,a);var p}})}function a(e,t,r,n){var o=new E.QueryContextBuilder(e._context),s=o.addProperty("document").setOptional(!1),a=(new f.ValuesToken).addValues(s.variable,o.compactIRI(t));return s.addPattern(a),y.RequestUtils.setRetrievalPreferences({include:[T.C.PreferDocumentETags]},r),i(e,t,r,o,s,n,e.hasPointer(t)?e.getPointer(t):void 0).then(function(e){return e[0]})}function c(e,t,r){var n=y.RequestUtils.getRequestURLFor(e,t),i=new R.QueryContextPartial(t,e._context),a=(new f.OptionalToken).addPattern((new f.ValuesToken).addValues(i.getVariable("document"),new f.IRIToken(n)));return s(i,a,t,"document"),y.RequestUtils.setRetrievalPreferences({include:[T.C.PreferDocumentETags]},r),o(e,n,r,i,"document",a.patterns,t).then(function(e){return e[0]})}function u(e,t,r,o){return O.promiseMethod(function(){var s=n(e),a=y.RequestUtils.getRequestURLFor(s,e,t),c=new E.QueryContextBuilder(s._context),u=c.addProperty("child").setOptional(!1),l=new f.SelectToken("DISTINCT").addVariable(u.variable).addPattern(new f.SubjectToken(c.compactIRI(a)).addPredicate(new f.PredicateToken(c.compactIRI(T.LDP.contains)).addObject(u.variable)));return u.addPattern(l),i(s,a,r,c,u,o)})}function l(e,t,r,o){return O.promiseMethod(function(){var s=n(e),a=y.RequestUtils.getRequestURLFor(s,e,t),c=new E.QueryContextBuilder(s._context),u=c.addProperty("member").setOptional(!1),l=c.getVariable("membershipResource"),p=c.getVariable("hasMemberRelation"),d=new f.SelectToken("DISTINCT").addVariable(u.variable).addPattern(new f.SubjectToken(c.compactIRI(a)).addPredicate(new f.PredicateToken(c.compactIRI(T.LDP.membershipResource)).addObject(l)).addPredicate(new f.PredicateToken(c.compactIRI(T.LDP.hasMemberRelation)).addObject(p))).addPattern(new f.SubjectToken(l).addPredicate(new f.PredicateToken(p).addObject(u.variable)));return u.addPattern(d),i(s,a,r,c,u,o)})}Object.defineProperty(t,"__esModule",{value:!0});var f=r(4),p=r(15),d=r(67),h=r(72),v=r(3),y=r(26),g=r(23),m=r(20),_=r(17),b=r(10),P=r(7),O=r(0),T=r(1),S=r(73),w=r(118),E=r(120),R=r(121),j=r(71),A=r(128),D=r(129),M=r(54),C=r(44),I=function(e){return e},x={get:function(e,t,r){var o=this;return O.promiseMethod(function(){var i=n(o),s=O.isString(e)?e:void 0,c=y.RequestUtils.getRequestURLFor(i,o,s),u=O.isObject(e)?e:O.isObject(t)?t:{};return r=O.isFunction(e)?e:O.isFunction(t)?t:r,a(i,c,u,r)})},resolve:function(e,t){var r=this;return O.promiseMethod(function(){var o=n(r),i=y.RequestUtils.getRequestURLFor(o,r),s=O.isObject(e)?e:{};return O.isFunction(e)&&(t=e),a(o,i,s,function(e){return"types"in r&&r.types.forEach(function(t){return e.withType(t)}),t.call(void 0,e)})})},refresh:function(e){var t=this;return void 0===e&&(e={}),O.promiseMethod(function(){var r=n(t);if(!t.isPartial())throw new v.IllegalArgumentError('"'+t.id+"\" isn't a partial resource.");return c(r,t,e)})},save:function(e){return void 0===e&&(e={}),n(this),this.isOutdated()?Promise.reject(new v.IllegalStateError('"'+this.id+'" is outdated and cannot be saved.')):h.CRUDDocument.PROTOTYPE.save.call(this,e)},saveAndRefresh:function(e){var t=this;return void 0===e&&(e={}),O.promiseMethod(function(){var r=n(t);if(!t.isPartial())throw new v.IllegalArgumentError('"'+t.id+"\" isn't a valid partial resource.");if(!t.isDirty())return c(r,t,e);var o=y.RequestUtils.cloneOptions(e);return t.save(o).then(function(t){return c(r,t,e)})})},getChildren:function(e,t,r){var n=O.isString(e)?e:void 0,o=O.isObject(e)?e:O.isObject(t)?t:{};return r=O.isFunction(e)?e:O.isFunction(t)?t:r,y.RequestUtils.setRetrievalPreferences({include:[T.C.PreferDocumentETags]},o),u(this,n,o,r)},getMembers:function(e,t,r){var n=O.isString(e)?e:void 0,o=O.isObject(e)?e:O.isObject(t)?t:{};return r=O.isFunction(e)?e:O.isFunction(t)?t:r,y.RequestUtils.setRetrievalPreferences({include:[T.C.PreferDocumentETags]},o),l(this,n,o,r)},listChildren:function(e,t){var r=O.isString(e)?e:void 0;return t=O.isObject(e)?e:t||{},u(this,r,t,I)},listMembers:function(e,t){var r=O.isString(e)?e:void 0;return t=O.isObject(e)?e:t||{},l(this,r,t,I)}};t.QueryDocumentDocument={PROTOTYPE:x,isDecorated:function(e){return O.isObject(e)&&p.ModelDecorator.hasPropertiesFrom(x,e)},decorate:function(e){if(t.QueryDocumentDocument.isDecorated(e))return e;var r=p.ModelDecorator.decorateMultiple(e,d.BasePersistedDocument);return p.ModelDecorator.definePropertiesFrom(x,r)}}},function(e,t,r){"use strict";function n(e,t){var r=function(e){return[""+e,e]},n=new Map(t.map(r)),o=new Map(e.map(r));return n.forEach(function(e,t){o.has(t)&&(o.delete(t),n.delete(t))}),{toAdd:Array.from(n.values()),toDelete:Array.from(o.values())}}function o(e,t){var r=function(e,t){return{identifier:""+e,object:e,index:t}},n=e.map(r),o=t.map(r),i=new Set(o),s=[],a=0,c=o;n.forEach(function(e){var t=c.findIndex(function(t){return t.identifier===e.identifier});-1===t?(e.index-=a++,s.push(e)):(i.delete(c[t]),c=c.slice(t+1))});var u,l=[];return s.forEach(function(e){if(u&&u.slice[0]===e.index)return void(u.slice=[u.slice[0],u.slice[1]+1]);l.push(u={slice:[e.index,e.index+1],objects:[]})}),u=void 0,i.forEach(function(e){if(u&&u.slice[1]===e.index)return u.slice=[u.slice[0],e.index+1],void u.objects.push(e.object);l.push(u={slice:[e.index,e.index+1],objects:[e.object]})}),l}function i(e){return null!==e&&void 0!==e}var s=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),c=r(4),u=r(125),l=r(12),f=r(17),p=r(0),d=r(1),h=r(126),v=new l.DigestedObjectSchemaProperty;v.literal=!1,v.pointerType=l.PointerType.ID,v.containerType=l.ContainerType.SET;var y=function(){function e(e){this.prefixesMap=new Map,this.jsonldConverter=e,this.addToken=new h.AddToken,this.deleteToken=new h.DeleteToken,this.updateLists=[]}return e.prototype.getPatch=function(){var e=new h.LDPatchToken;return this.prefixesMap.forEach(function(t){return e.prologues.push(t)}),(t=e.statements).push.apply(t,this.updateLists),this.addToken.triples.length&&e.statements.push(this.addToken),this.deleteToken.triples.length&&e.statements.push(this.deleteToken),""+e;var t},e.prototype.addResource=function(e,t,r,u){var f=this,p=a.isBNodeLabel(t)?new c.BlankNodeToken(t):this._compactIRI(e,t),d=[],y=new c.SubjectToken(p),g=new c.SubjectToken(p);new Set(["types"].concat(Object.keys(r),Object.keys(u))).forEach(function(t){if("id"!==t){var a="types"===t?"a":f._getPropertyIRI(e,t),m="a"===a?v:e.properties.get(t),_=r[t],b=u[t];if(m&&m.containerType===l.ContainerType.LIST&&i(_)){var P=[];if(i(b)){var O=s({},m,{containerType:l.ContainerType.SET});P.push.apply(P,o(f._getObjects(_,e,O),f._getObjects(b,e,O)))}else g.addPredicate(new c.PredicateToken(a).addObject(new c.CollectionToken)),P.push({slice:[0,void 0],objects:[]});if(!P.length)return;f._addPrefixFrom(a,e),P.forEach(function(t){var r=new c.CollectionToken;t.objects.forEach(function(t){r.addObject(t),f._addPrefixFrom(t,e)}),d.push(new h.UpdateListToken(p,a,t.objects.length?new h.SliceToken(t.slice[0],t.slice[0]):new(h.SliceToken.bind.apply(h.SliceToken,[void 0].concat(t.slice))),r))})}else{var T=f._getObjects(_,e,m),S=f._getObjects(b,e,m),w=n(T,S),E=function(t,r){if(t.length){var n=new c.PredicateToken(a);t.forEach(function(t){n.addObject(t),f._addPrefixFrom(t,e)}),r.addPredicate(n)}};E(w.toAdd,y),E(w.toDelete,g)}}}),(_=this.updateLists).push.apply(_,d),y.predicates.length&&this.addToken.triples.push(y),g.predicates.length&&this.deleteToken.triples.push(g);var m=d.concat(y.predicates,g.predicates);if(m.length){this._addPrefixFrom(p,e),m.forEach(function(t){return f._addPrefixFrom(t.predicate,e)});var _}},e.prototype._getPropertyIRI=function(e,t){var r=e.properties.get(t),n=r&&r.uri?r.uri:t;return this._compactIRI(e,n)},e.prototype._getObjects=function(e,t,r){var n=(Array.isArray(e)?r&&null===r.containerType?e.slice(0,1):e:[e]).filter(i);if(r&&r.containerType===l.ContainerType.LIST){if(!i(e))return[];var o=new c.CollectionToken;return(s=o.objects).push.apply(s,this._expandValues(n,t,r)),[o]}return r&&r.containerType===l.ContainerType.LANGUAGE?this._expandLanguageMap(n,t):this._expandValues(n,t,r);var s},e.prototype._expandValues=function(e,t,r){var n=this,o=r&&null!==r.literal?r.literal:null;return e.map(function(e){return(null!==o?o:!f.Pointer.is(e))?n._expandLiteral(e,t,r):n._expandPointer(e,t)}).filter(i)},e.prototype._expandLanguageMap=function(e,t){var r=this;if(!e.length)return[];var n=e[0];return Object.keys(n).map(function(e){var o=n[e],i=new l.DigestedObjectSchemaProperty;return i.language=e,i.literalType=d.XSD.string,r._expandLiteral(o,t,i)}).filter(i)},e.prototype._expandPointer=function(e,t){var r=f.Pointer.is(e)?e.id:e;return p.isString(r)?a.isBNodeLabel(r)?new c.BlankNodeToken(r):this._compactIRI(t,r):null},e.prototype._expandLiteral=function(e,t,r){var n=r&&r.literalType?r.literalType:u.guessXSDType(e);if(!this.jsonldConverter.literalSerializers.has(n))return null;e=this.jsonldConverter.literalSerializers.get(n).serialize(e);var o=new c.LiteralToken(e);return n!==d.XSD.string&&o.setType(this._compactIRI(t,n)),r&&void 0!==r.language&&o.setLanguage(r.language),o},e.prototype._compactIRI=function(e,t){a.isRelative(t)&&e.vocab&&(t=e.vocab+t);var r=Array.from(e.prefixes.entries()).find(function(e){var r=e[1];return t.startsWith(r)});return r?new c.PrefixedNameToken(r[0],t.substr(r[1].length)):new c.IRIToken(t)},e.prototype._addPrefixFrom=function(e,t){var r=this;if(e instanceof c.CollectionToken)return e.objects.forEach(function(e){r._addPrefixFrom(e,t)});if(e instanceof c.LiteralToken)return this._addPrefixFrom(e.type,t);if(e instanceof c.PrefixedNameToken){var n=e.namespace;if(!this.prefixesMap.has(n)){var o=t.prefixes.get(n);this.prefixesMap.set(n,new h.PrefixToken(n,new c.IRIToken(o)))}}},e}();t.DeltaCreator=y},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),i=r(17),s=r(40),a=n(r(107)),c=r(51),u=r(41),l=r(14),f=n(r(12)),p=n(r(0)),d=r(125),h=function(){function e(t){this._literalSerializers=t?p.MapUtils.extend(new Map,t):e.getDefaultSerializers()}return Object.defineProperty(e.prototype,"literalSerializers",{get:function(){return this._literalSerializers},enumerable:!0,configurable:!0}),e.getDefaultSerializers=function(){var e=new Map;return e.set(l.XSD.date,a.dateSerializer),e.set(l.XSD.dateTime,a.dateTimeSerializer),e.set(l.XSD.time,a.timeSerializer),e.set(l.XSD.integer,a.integerSerializer),e.set(l.XSD.int,a.integerSerializer),e.set(l.XSD.unsignedInt,a.unsignedIntegerSerializer),e.set(l.XSD.long,a.longSerializer),e.set(l.XSD.unsignedLong,a.unsignedLongSerializer),e.set(l.XSD.float,a.floatSerializer),e.set(l.XSD.double,a.floatSerializer),e.set(l.XSD.boolean,a.booleanSerializer),e.set(l.XSD.string,a.stringSerializer),e},e.prototype.compact=function(e,t,r,n,o){void 0===n&&(n=null);var i=n?t:null,s=n?r:t;if(n=n||r,!p.isArray(e))return this.compactSingle(e,i,s,n,o);for(var a=e,c=i||[],u=0,l=a.length;u<l;u++){var f=a[u],d=c[u]=c[u]?c[u]:{};this.compactSingle(f,d,s,n,o)}return c},e.prototype.expand=function(e,t,r){if(!p.isArray(e))return this.expandSingle(e,t,r)},e.prototype.expandSingle=function(e,t,r){var n=this,o={};if(o["@id"]=e.id?e.id:"",e.types){var i=Array.isArray(e.types)?e.types:[e.types];i.length&&(o["@type"]=i.map(function(e){return f.ObjectSchemaUtils.resolveURI(e,t,{vocab:!0,base:!0})}))}return p.forEachOwnProperty(e,function(e,i){if("id"!==e&&"types"!==e){var s=f.ObjectSchemaUtils.resolveURI(e,r,{vocab:!0});if(!u.URI.isRelative(s)){var a=n.expandProperty(e,i,r,t);null!==a&&(o[s]=a)}}}),o},e.prototype.expandProperty=function(e,t,r,n){var o=r.properties.get(e),i=o?o.containerType:void 0;if(i===f.ContainerType.LANGUAGE)return this.expandPropertyLanguageMap(t);t=Array.isArray(t)?t:[t],null===i&&(t=[t[0]]);var s=o?o.literal:null,a=!0===s?this.expandPropertyLiteral(t,o,r):!1===s?this.expandPropertyPointer(t,r,n):this.expandPropertyValue(t,r,n),c=a.filter(function(e){return null!==e});return c.length?i===f.ContainerType.LIST?[{"@list":c}]:c:null},e.prototype.expandPropertyValue=function(e,t,r){var n=this;return e.map(function(e){return n.expandValue(e,t,r)})},e.prototype.expandPropertyPointer=function(e,t,r){var n=this;return e.map(function(e){return n.expandPointerValue(e,t,r)})},e.prototype.expandPropertyLiteral=function(e,t,r){var n=this,o=f.ObjectSchemaUtils.resolveURI(t.literalType,r,{vocab:!0,base:!0}),i=e.map(function(e){return n.expandLiteralValue(e,o)});return t.language&&i.forEach(function(e){return e["@language"]=t.language}),i},e.prototype.expandPropertyLanguageMap=function(e){var t=this;if(!p.isObject(e))return null;var r=[];return p.forEachOwnProperty(e,function(e,n){var o=t.literalSerializers.get(l.XSD.string).serialize(n);r.push({"@value":o,"@type":l.XSD.string,"@language":e})}),r},e.prototype.expandPointerValue=function(e,t,r){var n=p.isString(e),o=i.Pointer.is(e)?e.id:n?e:null;return o?{"@id":f.ObjectSchemaUtils.resolveURI(o,r,{vocab:n})}:null},e.prototype.expandValue=function(e,t,r){return p.isArray(e)?null:i.Pointer.is(e)?this.expandPointerValue(e,r,t):this.expandLiteralValue(e,d.guessXSDType(e))},e.prototype.expandLiteralValue=function(e,t){return null===t?null:this.literalSerializers.has(t)?{"@value":this.literalSerializers.get(t).serialize(e),"@type":t}:null},e.prototype.compactSingle=function(e,t,r,n,i){var s=this;if(!e["@id"])throw new o.IllegalArgumentError("The expandedObject doesn't have an @id defined.");t.id=e["@id"],t.types=e["@type"]?e["@type"]:[];var a=this.getPropertyURINameMap(r);return p.forEachOwnProperty(e,function(e,o){if("@id"!==e&&"@type"!==e&&(a.has(e)||!i)){var c=a.has(e)?a.get(e):null!==r.vocab?u.URI.getRelativeURI(e,r.vocab):e,l=s.getPropertyValue(c,o,r,n);null!==l&&void 0!==l&&(t[c]=l)}}),t},e.prototype.getPropertyContainerType=function(e){return 1!==e.length?f.ContainerType.SET:s.RDFList.is(e[0])?f.ContainerType.LIST:null},e.prototype.getPropertyValue=function(e,t,r,n){var o=r.properties.get(e),i=o?o.containerType:this.getPropertyContainerType(t);if(i===f.ContainerType.LANGUAGE)return c.RDFNode.getPropertyLanguageMap(t);if(i===f.ContainerType.LIST){var s=c.RDFNode.getList(t);if(!s)return null;t=s["@list"]}var a=o?o.literal:null;!0===a&&o.language&&(t=t.filter(function(e){return e["@language"]===o.language})),null===i&&(t=[t[0]]);var u=!0===a?this.compactPropertyLiteral(t,o,r):!1===a?c.RDFNode.getPropertyPointers(t,n):c.RDFNode.getProperties(t,n);if(!u)return null;var l=u.filter(function(e){return null!==e});return l.length?null===i?l[0]:l:null},e.prototype.getPropertyURINameMap=function(e){var t=new Map;return e.properties.forEach(function(r,n){var o=f.ObjectSchemaUtils.resolveURI(r.uri,e,{vocab:!0});t.set(o,n)}),t},e.prototype.compactPropertyLiteral=function(e,t,r){var n=null===t.literalType?l.XSD.string:f.ObjectSchemaUtils.resolveURI(t.literalType,r,{vocab:!0,base:!0});return c.RDFNode.getPropertyLiterals(e,n)},e}();t.JSONLDConverter=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),o=r(131);t.NamedFragment={isDecorated:function(e){return n.Fragment.isDecorated(e)},is:function(e){return o.TransientNamedFragment.is(e)},decorate:function(e){if(t.NamedFragment.isDecorated(e))return e;var r=o.TransientNamedFragment.decorate(e);return n.Fragment.decorate(r)},create:o.TransientNamedFragment.create,createFrom:o.TransientNamedFragment.createFrom}},function(e,t,r){"use strict";function n(e,t,r){if(!r.ensureLatest&&t._registry&&t._registry.hasPointer(e,!0)){t._registry.getPointer(e,!0).isPartial()&&(r.ensureLatest=!0)}}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(15),s=r(132),a=r(74),c=r(7),u=r(151),l=r(43),f=o(r(0)),p=r(0),d=r(1),h=r(72),v=r(53),y={get:function(e,t,r){var o=p.isString(e)?e:this.id,i=p.isObject(e)?e:p.isObject(t)?t:{};return(r=p.isFunction(e)?e:p.isFunction(t)?t:r)?l.QueryDocumentDocument.PROTOTYPE.get.call(this,o,i,r):(n(o,this,i),h.CRUDDocument.PROTOTYPE.get.call(this,o,i))},resolve:function(e,t){var r=p.isObject(e)?e:{};return p.isFunction(e)&&(t=e),t?l.QueryDocumentDocument.PROTOTYPE.resolve.call(this,r,t):(n(this.id,this,r),h.CRUDDocument.PROTOTYPE.resolve.call(this,r))},refresh:function(e){return this.isPartial()?l.QueryDocumentDocument.PROTOTYPE.refresh.call(this,e):h.CRUDDocument.PROTOTYPE.refresh.call(this,e)},save:function(e){return this.isPartial()?l.QueryDocumentDocument.PROTOTYPE.save.call(this,e):h.CRUDDocument.PROTOTYPE.save.call(this,e)},saveAndRefresh:function(e){return this.isPartial()?l.QueryDocumentDocument.PROTOTYPE.saveAndRefresh.call(this,e):h.CRUDDocument.PROTOTYPE.saveAndRefresh.call(this,e)},isDirty:function(){var e=this;return!!c.PersistedResource.PROTOTYPE.isDirty.call(this)||(!!this._savedFragments.some(function(t){return!e.hasFragment(t.id)})||(!(this._savedFragments.length===this._resourcesMap.size)||this._savedFragments.some(function(e){return e.isDirty()})))},revert:function(){var e=this;c.PersistedResource.PROTOTYPE.revert.call(this),this._resourcesMap.clear(),this._savedFragments.forEach(function(t){t.revert();var r="slug"in t?t.slug:t.id;e._resourcesMap.set(r,t)})}};t.Document={PROTOTYPE:y,TYPE:d.C.Document,SCHEMA:{contains:{"@id":d.LDP.contains,"@container":"@set","@type":"@id"},members:{"@id":d.LDP.member,"@container":"@set","@type":"@id"},membershipResource:{"@id":d.LDP.membershipResource,"@type":"@id"},isMemberOfRelation:{"@id":d.LDP.isMemberOfRelation,"@type":"@id"},hasMemberRelation:{"@id":d.LDP.hasMemberRelation,"@type":"@id"},insertedContentRelation:{"@id":d.LDP.insertedContentRelation,"@type":"@id"},created:{"@id":d.C.created,"@type":d.XSD.dateTime},modified:{"@id":d.C.modified,"@type":d.XSD.dateTime},defaultInteractionModel:{"@id":d.C.defaultInteractionModel,"@type":"@id"},accessPoints:{"@id":d.C.accessPoint,"@type":"@id","@container":"@set"}},isDecorated:function(e){return f.isObject(e)&&i.ModelDecorator.hasPropertiesFrom(y,e)},is:function(e){return h.CRUDDocument.is(e)&&s.MembersDocument.isDecorated(e)&&u.SPARQLDocument.isDecorated(e)&&a.MessagingDocument.isDecorated(e)&&l.QueryDocumentDocument.isDecorated(e)&&t.Document.isDecorated(e)},decorate:function(e){if(t.Document.isDecorated(e))return e;var r=i.ModelDecorator.decorateMultiple(e,h.CRUDDocument,s.MembersDocument,u.SPARQLDocument,a.MessagingDocument,l.QueryDocumentDocument);return i.ModelDecorator.definePropertiesFrom(y,r)},create:v.TransientDocument.create,createFrom:v.TransientDocument.createFrom}},function(e,t,r){"use strict";function n(e){if(e._registry&&e._registry._context)return e._registry;throw new u.IllegalActionError('"'+e.id+"\" doesn't support Members management requests.")}function o(e,t){return e._context&&e._context.auth&&e._context.auth.addAuthentication(t),f.RequestUtils.setPreferredInteractionModel(v.LDP.Container,t),f.RequestUtils.setAcceptHeader("application/ld+json",t),t}function i(e,t){return t.map(function(t){if(h.isString(t))return e.getPointer(t);if(p.Pointer.is(t))return t;throw new u.IllegalArgumentError("No valid Pointer or URI provided.")})}function s(e,t,r,s){return void 0===s&&(s={}),h.promiseMethod(function(){var a=n(e),c=f.RequestUtils.getRequestURLFor(a,e,t),u=i(a,r);o(a,s),f.RequestUtils.setContentTypeHeader("application/ld+json",s);var p=l.FreeResources.createFrom({_registry:a,_context:a._context});p._register(y.AddMemberAction.createFrom({targetMembers:u}));var d=JSON.stringify(p);return f.RequestService.put(c,d,s).then(function(){}).catch(a._parseErrorFromResponse.bind(a))})}function a(e,t,r,s){return void 0===s&&(s={}),h.promiseMethod(function(){var a=n(e),c=f.RequestUtils.getRequestURLFor(a,e,t),u=i(a,r);o(a,s),f.RequestUtils.setContentTypeHeader("application/ld+json",s),f.RequestUtils.setRetrievalPreferences({include:[v.C.PreferSelectedMembershipTriples],omit:[v.C.PreferMembershipTriples]},s);var p=l.FreeResources.createFrom({_registry:a,_context:a._context});p._register(g.RemoveMemberAction.createFrom({targetMembers:u}));var d=JSON.stringify(p);return f.RequestService.delete(c,d,s).then(function(){}).catch(a._parseErrorFromResponse.bind(a))})}Object.defineProperty(t,"__esModule",{value:!0});var c=r(15),u=r(3),l=r(69),f=r(26),p=r(17),d=r(7),h=r(0),v=r(1),y=r(133),g=r(134),m={_registry:void 0,addMember:function(e,t,r){r=h.isObject(t)&&!p.Pointer.is(t)?t:r;var n=t!==r?t:e;return s(this,n!==e?e:void 0,[n],r)},addMembers:function(e,t,r){r=Array.isArray(t)?r:t;var n=t!==r?t:e;return s(this,n!==e?e:void 0,n,r)},removeMember:function(e,t,r){r=h.isObject(t)&&!p.Pointer.is(t)?t:r;var n=t!==r?t:e;return a(this,n!==e?e:void 0,[n],r)},removeMembers:function(e,t,r){r=Array.isArray(t)?r:t;var n=t!==r?t:e;return a(this,n!==e?e:void 0,n,r)},removeAllMembers:function(e,t){var r=this;t=h.isObject(e)?e:t||{};var i=e!==t?e:void 0;return h.promiseMethod(function(){var e=n(r),s=f.RequestUtils.getRequestURLFor(e,r,i);return o(e,t),f.RequestUtils.setRetrievalPreferences({include:[v.C.PreferMembershipTriples],omit:[v.C.PreferMembershipResources,v.C.PreferContainmentTriples,v.C.PreferContainmentResources,v.C.PreferContainer]},t),f.RequestService.delete(s,t).then(function(){}).catch(e._parseErrorFromResponse.bind(e))})}};t.MembersDocument={PROTOTYPE:m,isDecorated:function(e){return h.isObject(e)&&c.ModelDecorator.hasPropertiesFrom(m,e)},decorate:function(e){if(t.MembersDocument.isDecorated(e))return e;var r=c.ModelDecorator.decorateMultiple(e,d.TransientResource);return c.ModelDecorator.definePropertiesFrom(m,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(75),i=o.DocumentCreated.SCHEMA;t.AccessPointCreated={TYPE:n.C.AccessPointCreated,SCHEMA:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(75),i=n.C.ChildCreated,s=o.DocumentCreated.SCHEMA;t.ChildCreated={TYPE:i,SCHEMA:s}},function(e,t,r){"use strict";function n(e){if(!e._context||!e._context.messaging)throw new a.IllegalActionError('"'+e.id+"\" doesn't support messaging subscriptions.");return e._context.messaging}function o(e,t,r,n){var o=u.isString(t)?c.URI.resolve(e.id,t):e.id,i=u.isFunction(t)?t:r;return i!==r&&(n=r),{uriPattern:o,onEvent:i,onError:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(15),s=r(18),a=r(3),c=r(10),u=r(0),l=r(135),f=r(136),p={on:function(e,t,r,i){try{var s=n(this),a=void 0,c=void 0;l=o(this,t,r,i),a=l.uriPattern,c=l.onEvent,i=l.onError;var u=f.createDestination(e,a,this._context.baseURI);s.subscribe(u,c,i)}catch(e){if(!i)throw e;i(e)}var l},off:function(e,t,r,i){try{var s=n(this),a=void 0,c=void 0;l=o(this,t,r,i),a=l.uriPattern,c=l.onEvent,i=l.onError;var u=f.createDestination(e,a,this._context.baseURI);s.unsubscribe(u,c)}catch(e){if(!i)throw e;i(e)}var l},one:function(e,t,r,i){try{var s,a=n(this),c=void 0;l=o(this,t,r,i),c=l.uriPattern,s=l.onEvent,i=l.onError;var u=f.createDestination(e,c,this._context.baseURI);a.subscribe(u,function e(t){s(t),a.unsubscribe(u,e)},i)}catch(e){if(!i)throw e;i(e)}var l},onAccessPointCreated:function(e,t,r){return this.on(l.Event.ACCESS_POINT_CREATED,e,t,r)},onChildCreated:function(e,t,r){return this.on(l.Event.CHILD_CREATED,e,t,r)},onDocumentCreated:function(e,t,r){return this.on(l.Event.DOCUMENT_CREATED,e,t,r)},onDocumentModified:function(e,t,r){return this.on(l.Event.DOCUMENT_MODIFIED,e,t,r)},onDocumentDeleted:function(e,t,r){return this.on(l.Event.DOCUMENT_DELETED,e,t,r)},onMemberAdded:function(e,t,r){return this.on(l.Event.MEMBER_ADDED,e,t,r)},onMemberRemoved:function(e,t,r){return this.on(l.Event.MEMBER_REMOVED,e,t,r)}};t.MessagingDocument={isDecorated:function(e){return u.isObject(e)&&i.ModelDecorator.hasPropertiesFrom(p,e)},decorate:function(e){if(t.MessagingDocument.isDecorated(e))return e;var r=i.ModelDecorator.decorateMultiple(e,s.TransientDocument);return i.ModelDecorator.definePropertiesFrom(p,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o={createdDocuments:{"@id":n.C.createdDocument,"@type":"@id","@container":"@set"}};t.DocumentCreatedDetails={TYPE:n.C.DocumentCreatedDetails,SCHEMA:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(31),i=n.C.DocumentDeleted,s=o.EventMessage.SCHEMA;t.DocumentDeleted={TYPE:i,SCHEMA:s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(31),i=n.C.DocumentModified,s=o.EventMessage.SCHEMA;t.DocumentModified={TYPE:i,SCHEMA:s}},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),i=r(31),s=o.C.MemberAdded,a=n({},i.EventMessage.SCHEMA,{details:{"@id":o.C.details,"@type":"@id"}});t.MemberAdded={TYPE:s,SCHEMA:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(76),i=n.C.MemberAddedDetails,s=o.MemberDetails.SCHEMA;t.MemberAddedDetails={TYPE:i,SCHEMA:s}},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),i=r(31),s=o.C.MemberRemoved,a=n({},i.EventMessage.SCHEMA,{details:{"@id":o.C.details,"@type":"@id"}});t.MemberRemoved={TYPE:s,SCHEMA:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(76),i=n.C.MemberRemovedDetails,s=o.MemberDetails.SCHEMA;t.MemberRemovedDetails={TYPE:i,SCHEMA:s}},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(276)),a=i(r(308)),c=r(3),u=r(23),l=r(0),f=r(31),p={maxReconnectAttempts:10,reconnectDelay:1e3},d=function(){function e(e){this.context=e,this._subscriptionsQueue=[],this._options=p}return e.prototype.setOptions=function(e){this._options=n({},p,e)},e.prototype.connect=function(e,t){if(this._client){var r=new c.IllegalStateError("The messaging service is already connect"+(this._client.connected?"ed":"ing")+".");throw t&&t(r),r}this._subscriptionsMap&&this._subscriptionsMap.clear(),this.reconnect(e,t)},e.prototype.reconnect=function(e,t){var r=this;void 0===t&&(t=this._broadcastError.bind(this)),this._client?this._client.connected&&this._client.disconnect():this._attempts=0,this._subscriptionsMap||(this._subscriptionsMap=new Map);var n=new s.default(this.context.resolve("/broker"));this._client=a.over(n,{debug:!1,heartbeat:!1}),this._client.connect({},function(){r._subscriptionsQueue.forEach(function(e){return e()}),r._subscriptionsQueue.length=0,r._attempts=0,e&&e()},function(n){var o,i=null===r._options.maxReconnectAttempts||r._options.maxReconnectAttempts>=r._attempts;if("reason"in n){if(i)return 1==++r._attempts&&r._saveSubscriptions(),void setTimeout(function(){return r.reconnect(e,t)},r._options.reconnectDelay);r._client=null,r._subscriptionsQueue.length=0,o="CloseEventError: "+n.reason}else if("body"in n){if(!r._client.connected&&i)return;o=n.headers.message+": "+n.body.trim()}else o="Unknown error: "+n;t(new Error(o))})},e.prototype.subscribe=function(e,t,r){this._client||this.connect(),this._subscriptionsMap.has(e)||this._subscriptionsMap.set(e,new Map);var n=this._subscriptionsMap.get(e);if(!n.has(t)){var o=l.UUIDUtils.generate();n.set(t,{id:o,errorCallback:r});var i=this._makeSubscription(o,e,t,r);if(this._client.connected)return i();this._subscriptionsQueue.push(i)}},e.prototype.unsubscribe=function(e,t){if(this._client&&this._subscriptionsMap&&this._subscriptionsMap.has(e)){var r=this._subscriptionsMap.get(e);if(r.has(t)){var n=r.get(t).id;r.delete(t),0===r.size&&this._subscriptionsMap.delete(e),this._client.unsubscribe(n)}}},e.prototype._broadcastError=function(e){this._subscriptionsMap&&this._subscriptionsMap.forEach(function(t){return t.forEach(function(t){t.errorCallback(e)})})},e.prototype._makeSubscription=function(e,t,r,n){var o=this;return function(){return o._client.subscribe(t,function(e){(new u.JSONLDParser).parse(e.body).then(function(e){var t=o.context.registry._parseFreeNodes(e),r=t.getPointers(!0).find(f.EventMessage.is);if(!r)throw new Error("No message was returned by the notification.");return r}).then(r).catch(n)},{id:e})}},e.prototype._saveSubscriptions=function(){var e=this;!this._subscriptionsQueue.length&&this._subscriptionsMap&&this._subscriptionsMap.forEach(function(t,r){return t.forEach(function(t,n){var o=e._makeSubscription(t.id,r,n,t.errorCallback);e._subscriptionsQueue.push(o)})})},e}();t.MessagingService=d},function(e,t,r){"use strict";(function(t){var n=r(277);e.exports=r(296)(n),"_sockjs_onload"in t&&setTimeout(t._sockjs_onload,1)}).call(t,r(8))},function(e,t,r){"use strict";e.exports=[r(278),r(285),r(141),r(142),r(78)(r(142)),r(146),r(78)(r(146)),r(147),r(292),r(78)(r(147)),r(293)]},function(e,t,r){"use strict";function n(e,t,r){if(!n.enabled())throw new Error("Transport created when disabled");a.call(this),u("constructor",e);var s=this,l=i.addPath(e,"/websocket");l="https"===l.slice(0,5)?"wss"+l.slice(5):"ws"+l.slice(4),this.url=l,this.ws=new c(this.url,[],r),this.ws.onmessage=function(e){u("message event",e.data),s.emit("message",e.data)},this.unloadRef=o.unloadAdd(function(){u("unload"),s.ws.close()}),this.ws.onclose=function(e){u("close event",e.code,e.reason),s.emit("close",e.code,e.reason),s._cleanup()},this.ws.onerror=function(e){u("error event",e),s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}var o=r(27),i=r(16),s=r(2),a=r(13).EventEmitter,c=r(284),u=function(){};u=r(9)("sockjs-client:websocket"),s(n,a),n.prototype.send=function(e){var t="["+e+"]";u("send",t),this.ws.send(t)},n.prototype.close=function(){u("close");var e=this.ws;this._cleanup(),e&&e.close()},n.prototype._cleanup=function(){u("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),o.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},n.enabled=function(){return u("enabled"),!!c},n.transportName="websocket",n.roundTrips=2,e.exports=n},function(e,t,r){"use strict";(function(t){t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var r=new Uint8Array(e);return t.crypto.getRandomValues(r),r}:e.exports.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(256*Math.random());return t}}).call(t,r(8))},function(e,t,r){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){"use strict";function n(e){return decodeURIComponent(e.replace(/\+/g," "))}function o(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,o={};t=r.exec(e);o[n(t[1])]=n(t[2]));return o}function i(e,t){t=t||"";var r=[];"string"!=typeof t&&(t="?");for(var n in e)s.call(e,n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return r.length?t+r.join("&"):""}var s=Object.prototype.hasOwnProperty;t.stringify=i,t.parse=o},function(e,t,r){function n(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}function o(e){function r(){if(r.enabled){var e=r,n=+new Date,o=n-(u||n);e.diff=o,e.prev=u,e.curr=n,u=n;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;a++;var o=t.formatters[n];if("function"==typeof o){var s=i[a];r=o.call(e,s),i.splice(a,1),a--}return r}),t.formatArgs.call(e,i);(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=n(e),"function"==typeof t.init&&t.init(r),r}function i(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(e=r[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=c,t.disable=s,t.enable=i,t.enabled=a,t.humanize=r(283),t.names=[],t.skips=[],t.formatters={};var u},function(e,t){function r(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return i(e,u,"day")||i(e,c,"hour")||i(e,a,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,l=365.25*u;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return r(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):n(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";(function(t){var r=t.WebSocket||t.MozWebSocket;e.exports=r?function(e){return new r(e)}:void 0}).call(t,r(8))},function(e,t,r){"use strict";(function(t){function n(e){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",s,a)}var o=r(2),i=r(36),s=r(55),a=r(56),c=r(45),u=r(46);o(n,i),n.enabled=function(e){return!e.nullOrigin&&(!u.isOpera()&&a.enabled)},n.transportName="xhr-streaming",n.roundTrips=2,n.needBody=!!t.document,e.exports=n}).call(t,r(8))},function(e,t,r){"use strict";function n(e,t){s(e),i.call(this),this.sendBuffer=[],this.sender=t,this.url=e}var o=r(2),i=r(13).EventEmitter,s=function(){};s=r(9)("sockjs-client:buffered-sender"),o(n,i),n.prototype.send=function(e){s("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){s("sendScheduleWait");var e,t=this;this.sendStop=function(){s("sendStop"),t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){s("timeout"),t.sendStop=null,t.sendSchedule()},25)},n.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null,t?(s("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},n.prototype.close=function(){s("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){s(t),i.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}var o=r(2),i=r(13).EventEmitter,s=function(){};s=r(9)("sockjs-client:polling"),o(n,i),n.prototype._scheduleReceiver=function(){s("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(t){s("message",t),e.emit("message",t)}),t.once("close",function(r,n){s("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||("network"===n?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))})},n.prototype.abort=function(){s("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=n},function(e,t,r){"use strict";function n(e){a(e),i.call(this);var t=this,r=this.es=new s(e);r.onmessage=function(e){a("message",e.data),t.emit("message",decodeURI(e.data))},r.onerror=function(e){a("error",r.readyState,e);var n=2!==r.readyState?"network":"permanent";t._cleanup(),t._close(n)}}var o=r(2),i=r(13).EventEmitter,s=r(143),a=function(){};a=r(9)("sockjs-client:receiver:eventsource"),o(n,i),n.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},n.prototype._cleanup=function(){a("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},n.prototype._close=function(e){a("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)},e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){"use strict";(function(t){function n(e){u(e),a.call(this);var r=this;i.polluteGlobalNamespace(),this.id="a"+c.string(6),e=s.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),u("using htmlfile",n.htmlfileEnabled);var o=n.htmlfileEnabled?i.createHtmlfile:i.createIframe;t[i.WPrefix][this.id]={start:function(){u("start"),r.iframeObj.loaded()},message:function(e){u("message",e),r.emit("message",e)},stop:function(){u("stop"),r._cleanup(),r._close("network")}},this.iframeObj=o(e,function(){u("callback"),r._cleanup(),r._close("permanent")})}var o=r(2),i=r(47),s=r(16),a=r(13).EventEmitter,c=r(35),u=function(){};u=r(9)("sockjs-client:receiver:htmlfile"),o(n,a),n.prototype.abort=function(){u("abort"),this._cleanup(),this._close("user")},n.prototype._cleanup=function(){u("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete t[i.WPrefix][this.id]},n.prototype._close=function(e){u("_close",e),this.emit("close",null,e),this.removeAllListeners()},n.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in t)try{n.htmlfileEnabled=!!new t[l]("htmlfile")}catch(e){}n.enabled=n.htmlfileEnabled||i.iframeEnabled,e.exports=n}).call(t,r(8))},function(e,t,r){"use strict";function n(e){if(!c.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",a,c)}var o=r(2),i=r(36),s=r(141),a=r(55),c=r(77);o(n,i),n.enabled=s.enabled,n.transportName="xdr-polling",n.roundTrips=2,e.exports=n},function(e,t,r){"use strict";(function(t){function n(e){if(!n.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/jsonp",a,s)}var o=r(2),i=r(139),s=r(294),a=r(295);o(n,i),n.enabled=function(){return!!t.document},n.transportName="jsonp-polling",n.roundTrips=1,n.needBody=!0,e.exports=n}).call(t,r(8))},function(e,t,r){"use strict";(function(t){function n(e){l(e);var r=this;u.call(this),o.polluteGlobalNamespace(),this.id="a"+i.string(6);var s=a.addQuery(e,"c="+encodeURIComponent(o.WPrefix+"."+this.id));t[o.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout(function(){l("timeout"),r._abort(new Error("JSONP script loaded abnormally (timeout)"))},n.timeout)}var o=r(47),i=r(35),s=r(46),a=r(16),c=r(2),u=r(13).EventEmitter,l=function(){};l=r(9)("sockjs-client:receiver:jsonp"),c(n,u),n.prototype.abort=function(){if(l("abort"),t[o.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},n.timeout=35e3,n.scriptErrorTimeout=1e3,n.prototype._callback=function(e){l("_callback",e),this._cleanup(),this.aborting||(e&&(l("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())},n.prototype._abort=function(e){l("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},n.prototype._cleanup=function(){if(l("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete t[o.WPrefix][this.id]},n.prototype._scriptError=function(){l("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},n.scriptErrorTimeout))},n.prototype._createScript=function(e){l("_createScript",e);var r,n=this,o=this.script=t.document.createElement("script");if(o.id="a"+i.string(8),o.src=e,o.type="text/javascript",o.charset="UTF-8",o.onerror=this._scriptError.bind(this),o.onload=function(){l("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},o.onreadystatechange=function(){if(l("onreadystatechange",o.readyState),/loaded|closed/.test(o.readyState)){if(o&&o.htmlFor&&o.onclick){n.loadedOkay=!0;try{o.onclick()}catch(e){}}o&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===o.async&&t.document.attachEvent)if(s.isOpera())r=this.script2=t.document.createElement("script"),r.text="try{var a = document.getElementById('"+o.id+"'); if(a)a.onerror();}catch(x){};",o.async=r.async=!1;else{try{o.htmlFor=o.id,o.event="onclick"}catch(e){}o.async=!0}void 0!==o.async&&(o.async=!0);var a=t.document.getElementsByTagName("head")[0];a.insertBefore(o,a.firstChild),r&&a.insertBefore(r,a.firstChild)},e.exports=n}).call(t,r(8))},function(e,t,r){"use strict";(function(t){function n(e){a("createIframe",e);try{return t.document.createElement('<iframe name="'+e+'">')}catch(n){var r=t.document.createElement("iframe");return r.name=e,r}}function o(){a("createForm"),c=t.document.createElement("form"),c.style.display="none",c.style.position="absolute",c.method="POST",c.enctype="application/x-www-form-urlencoded",c.acceptCharset="UTF-8",u=t.document.createElement("textarea"),u.name="d",c.appendChild(u),t.document.body.appendChild(c)}var i=r(35),s=r(16),a=function(){};a=r(9)("sockjs-client:sender:jsonp");var c,u;e.exports=function(e,t,r){a(e,t),c||o();var l="a"+i.string(8);c.target=l,c.action=s.addQuery(s.addPath(e,"/jsonp_send"),"i="+l);var f=n(l);f.id=l,f.style.display="none",c.appendChild(f);try{u.value=t}catch(e){}c.submit();var p=function(e){a("completed",l,e),f.onerror&&(f.onreadystatechange=f.onerror=f.onload=null,setTimeout(function(){a("cleaning up",l),f.parentNode.removeChild(f),f=null},500),u.value="",r(e))};return f.onerror=function(){a("onerror",l),p()},f.onload=function(){a("onload",l),p()},f.onreadystatechange=function(e){a("onreadystatechange",l,f.readyState,e),"complete"===f.readyState&&p()},function(){a("aborted",l),p(new Error("Aborted"))}}}).call(t,r(8))},function(e,t,r){"use strict";(function(t){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");g.call(this),this.readyState=n.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&v.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{};var o=r.sessionId||8;if("function"==typeof o)this._generateSessionId=o;else{if("number"!=typeof o)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return c.string(o)}}this._server=r.server||c.numberString(1e3);var s=new i(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==s.protocol&&"https:"!==s.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var a="https:"===s.protocol;if("https"===m.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var u=t.sort();u.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<u.length-1&&e===u[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")});var f=l.getOrigin(m.href);this._origin=f?f.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,O("using url",this.url),this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:l.isOriginEqual(this.url,m.href),sameScheme:l.isSchemeEqual(this.url,m.href)},this._ir=new P(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function o(e){return 1e3===e||e>=3e3&&e<=4999}r(297);var i=r(137),s=r(2),a=r(24),c=r(35),u=r(298),l=r(16),f=r(27),p=r(299),d=r(79),h=r(46),v=r(300),y=r(80),g=r(138),m=r(148),_=r(301),b=r(302),P=r(303),O=function(){};O=r(9)("sockjs-client:main");var T;s(n,g),n.prototype.close=function(e,t){if(e&&!o(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==n.CLOSING&&this.readyState!==n.CLOSED){this._close(e||1e3,t||"Normal closure",!0)}},n.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===n.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===n.OPEN&&this._transport.send(u.quote(e))},n.version=r(145),n.CONNECTING=0,n.OPEN=1,n.CLOSING=2,n.CLOSED=3,n.prototype._receiveInfo=function(e,t){if(O("_receiveInfo",t),this._ir=null,!e)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=d.extend(e,this._urlInfo),O("info",e);var r=T.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,O(this._transports.length+" enabled transports"),this._connect()},n.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(O("attempt",e.transportName),e.needBody&&(!t.document.body||void 0!==t.document.readyState&&"complete"!==t.document.readyState&&"interactive"!==t.document.readyState))return O("waiting for body"),this._transports.unshift(e),void f.attachEvent("load",this._connect.bind(this));var r=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),r),O("using timeout",r);var n=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),o=this._transportOptions[e.transportName];O("transport url",n);var i=new e(n,this._transUrl,o);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},n.prototype._transportTimeout=function(){O("_transportTimeout"),this.readyState===n.CONNECTING&&this._transportClose(2007,"Transport timed out")},n.prototype._transportMessage=function(e){O("_transportMessage",e);var t,r=this,n=e.slice(0,1),o=e.slice(1);switch(n){case"o":return void this._open();case"h":return this.dispatchEvent(new y("heartbeat")),void O("heartbeat",this.transport)}if(o)try{t=a.parse(o)}catch(e){O("bad json",o)}if(void 0===t)return void O("empty payload",o);switch(n){case"a":Array.isArray(t)&&t.forEach(function(e){O("message",r.transport,e),r.dispatchEvent(new b(e))});break;case"m":O("message",this.transport,t),this.dispatchEvent(new b(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},n.prototype._transportClose=function(e,t){if(O("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!o(e)&&2e3!==e&&this.readyState===n.CONNECTING)return void this._connect();this._close(e,t)},n.prototype._open=function(){O("_open",this._transport.transportName,this.readyState),this.readyState===n.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=n.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open")),O("connected",this.transport)):this._close(1006,"Server lost session")},n.prototype._close=function(e,t,r){O("_close",this.transport,e,t,r,this.readyState);var o=!1;if(this._ir&&(o=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===n.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=n.CLOSING,setTimeout(function(){this.readyState=n.CLOSED,o&&this.dispatchEvent(new y("error"));var i=new _("close");i.wasClean=r||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null,O("disconnected")}.bind(this),0)},n.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return T=p(e),r(306)(n,e),n}}).call(t,r(8))},function(e,t,r){"use strict";function n(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function o(e){return e>>>0}function i(){}var s,a=Array.prototype,c=Object.prototype,u=Function.prototype,l=String.prototype,f=a.slice,p=c.toString,d=function(e){return"[object Function]"===c.toString.call(e)},h=function(e){return"[object Array]"===p.call(e)},v=function(e){return"[object String]"===p.call(e)},y=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();s=y?function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:function(e,t,r,n){!n&&t in e||(e[t]=r)};var g=function(e,t,r){for(var n in t)c.hasOwnProperty.call(t,n)&&s(e,n,t[n],r)},m=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};g(u,{bind:function(e){var t=this;if(!d(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r=f.call(arguments,1),n=function(){if(this instanceof c){var n=t.apply(this,r.concat(f.call(arguments)));return Object(n)===n?n:this}return t.apply(e,r.concat(f.call(arguments)))},o=Math.max(0,t.length-r.length),s=[],a=0;a<o;a++)s.push("$"+a);var c=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(n);return t.prototype&&(i.prototype=t.prototype,c.prototype=new i,i.prototype=null),c}}),g(Array,{isArray:h});var _=Object("a"),b="a"!==_[0]||!(0 in _);g(a,{forEach:function(e){var t=m(this),r=b&&v(this)?this.split(""):t,n=arguments[1],o=-1,i=r.length>>>0;if(!d(e))throw new TypeError;for(;++o<i;)o in r&&e.call(n,r[o],o,t)}},!function(e){var t=!0,r=!0;return e&&(e.call("foo",function(e,r,n){"object"!=typeof n&&(t=!1)}),e.call([1],function(){r="string"==typeof this},"x")),!!e&&t&&r}(a.forEach));var P=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);g(a,{indexOf:function(e){var t=b&&v(this)?this.split(""):m(this),r=t.length>>>0;if(!r)return-1;var o=0;for(arguments.length>1&&(o=n(arguments[1])),o=o>=0?o:Math.max(0,r+o);o<r;o++)if(o in t&&t[o]===e)return o;return-1}},P);var O=l.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=void 0===/()??/.exec("")[1];l.split=function(t,r){var n=this;if(void 0===t&&0===r)return[];if("[object RegExp]"!==p.call(t))return O.call(this,t,r);var i,s,c,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),d=0;for(t=new RegExp(t.source,f+"g"),n+="",e||(i=new RegExp("^"+t.source+"$(?!\\s)",f)),r=void 0===r?-1>>>0:o(r);(s=t.exec(n))&&!((c=s.index+s[0].length)>d&&(l.push(n.slice(d,s.index)),!e&&s.length>1&&s[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)}),s.length>1&&s.index<n.length&&a.push.apply(l,s.slice(1)),u=s[0].length,d=c,l.length>=r));)t.lastIndex===s.index&&t.lastIndex++;return d===n.length?!u&&t.test("")||l.push(""):l.push(n.slice(d)),l.length>r?l.slice(0,r):l}}():"0".split(void 0,0).length&&(l.split=function(e,t){return void 0===e&&0===t?[]:O.call(this,e,t)});var T=l.substr,S="".substr&&"b"!=="0b".substr(-1);g(l,{substr:function(e,t){return T.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},S)},function(e,t,r){"use strict";var n,o=r(24),i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,function(e){return r[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,r};e.exports={quote:function(e){var t=o.stringify(e);return i.lastIndex=0,i.test(t)?(n||(n=s(i)),t.replace(i,function(e){return n[e]})):t}}},function(e,t,r){"use strict";var n=function(){};n=r(9)("sockjs-client:utils:transport"),e.exports=function(e){return{filterToEnabled:function(t,r){var o={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach(function(e){if(e)return"websocket"===e.transportName&&!1===r.websocket?void n("disabled from server","websocket"):t.length&&-1===t.indexOf(e.transportName)?void n("not in whitelist",e.transportName):void(e.enabled(r)?(n("enabled",e.transportName),o.main.push(e),e.facadeTransport&&o.facade.push(e.facadeTransport)):n("disabled",e.transportName))}),o}}}},function(e,t,r){"use strict";(function(t){var r={};["log","debug","warn"].forEach(function(e){var n;try{n=t.console&&t.console[e]&&t.console[e].apply}catch(e){}r[e]=n?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:r.log}),e.exports=r}).call(t,r(8))},function(e,t,r){"use strict";function n(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var o=r(2),i=r(80);o(n,i),e.exports=n},function(e,t,r){"use strict";function n(e){i.call(this),this.initEvent("message",!1,!1),this.data=e}var o=r(2),i=r(80);o(n,i),e.exports=n},function(e,t,r){"use strict";function n(e,t){d(e);var r=this;o.call(this),setTimeout(function(){r.doXhr(e,t)},0)}var o=r(13).EventEmitter,i=r(2),s=r(16),a=r(77),c=r(56),u=r(45),l=r(304),f=r(305),p=r(150),d=function(){};d=r(9)("sockjs-client:info-receiver"),i(n,o),n._getReceiver=function(e,t,r){return r.sameOrigin?new p(t,u):c.enabled?new p(t,c):a.enabled&&r.sameScheme?new p(t,a):f.enabled()?new f(e,t):new p(t,l)},n.prototype.doXhr=function(e,t){var r=this,o=s.addPath(e,"/info");d("doXhr",o),this.xo=n._getReceiver(e,o,t),this.timeoutRef=setTimeout(function(){d("timeout"),r._cleanup(!1),r.emit("finish")},n.timeout),this.xo.once("finish",function(e,t){d("finish",e,t),r._cleanup(!0),r.emit("finish",e,t)})},n.prototype._cleanup=function(e){d("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},n.prototype.close=function(){d("close"),this.removeAllListeners(),this._cleanup(!1)},n.timeout=8e3,e.exports=n},function(e,t,r){"use strict";function n(){var e=this;o.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},n.timeout)}var o=r(13).EventEmitter;r(2)(n,o),n.prototype.close=function(){clearTimeout(this.to)},n.timeout=2e3,e.exports=n},function(e,t,r){"use strict";(function(t){function n(e,r){var n=this;o.call(this);var i=function(){var t=n.ifr=new c(u.transportName,r,e);t.once("message",function(e){if(e){var t;try{t=s.parse(e)}catch(t){return l("bad json",e),n.emit("finish"),void n.close()}var r=t[0],o=t[1];n.emit("finish",r,o)}n.close()}),t.once("close",function(){n.emit("finish"),n.close()})};t.document.body?i():a.attachEvent("load",i)}var o=r(13).EventEmitter,i=r(2),s=r(24),a=r(27),c=r(144),u=r(149),l=function(){};l=r(9)("sockjs-client:info-iframe"),i(n,o),n.enabled=function(){return c.enabled()},n.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=n}).call(t,r(8))},function(e,t,r){"use strict";var n=r(16),o=r(27),i=r(24),s=r(307),a=r(149),c=r(47),u=r(148),l=function(){};l=r(9)("sockjs-client:iframe-bootstrap"),e.exports=function(e,t){var r={};t.forEach(function(e){e.facadeTransport&&(r[e.facadeTransport.transportName]=e.facadeTransport)}),r[a.transportName]=a;var f;e.bootstrap_iframe=function(){var t;c.currentWindowId=u.hash.slice(1);var a=function(o){if(o.source===parent&&(void 0===f&&(f=o.origin),o.origin===f)){var a;try{a=i.parse(o.data)}catch(e){return void l("bad json",o.data)}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var p;try{p=i.parse(a.data)}catch(e){l("bad json",a.data);break}var d=p[0],h=p[1],v=p[2],y=p[3];if(l(d,h,v,y),d!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+d+'", the iframe: "'+e.version+'".');if(!n.isOriginEqual(v,u.href)||!n.isOriginEqual(y,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+v+", "+y+")");t=new s(new r[h](v,y));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null}}};o.attachEvent("message",a),c.postMessage("s")}}},function(e,t,r){"use strict";function n(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}var o=r(24),i=r(47);n.prototype._transportClose=function(e,t){i.postMessage("c",o.stringify([e,t]))},n.prototype._transportMessage=function(e){i.postMessage("t",e)},n.prototype._send=function(e){this._transport.send(e)},n.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=n},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e){var t=encodeURIComponent(e),r=t.replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),n=Array.prototype.map.call(r,function(e){return e.charCodeAt(0)});return new Uint8Array(n)}function i(e){var t=String.fromCharCode.apply(String,n(e)),r=t.replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r});return decodeURIComponent(r)}function s(e){return e?encodeURIComponent(e).match(/%..|./g).length:0}function a(){return(new Date).getTime()+"-"+Math.floor(1e3*Math.random())}Object.defineProperty(t,"__esModule",{value:!0}),t.unicodeStringToTypedArray=o,t.typedArrayToUnicodeString=i,t.sizeOfUTF8=s,t.createId=a;t.VERSIONS={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},t.BYTES={LF:"\n",NULL:"\0"},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(2),a=function(e){return e&&e.__esModule?e:{default:e}}(s),c=r(0),u=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e);var o=r.binary,i=void 0!==o&&o,s=r.heartbeat,a=void 0===s?{outgoing:1e4,incoming:1e4}:s,c=r.debug,u=void 0===c||c;this.ws=t,this.ws.binaryType="arraybuffer",this.isBinary=!!i,this.hasDebug=!!u,this.connected=!1,this.heartbeat=a||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}return i(e,[{key:"debug",value:function(){var e;this.hasDebug&&(e=console).log.apply(e,arguments)}},{key:"connect",value:function(){var e=this,t=this._parseConnect.apply(this,arguments),r=o(t,3),n=r[0],i=r[1],s=r[2];this.connectCallback=i,this.debug("Opening Web Socket..."),this.ws.onmessage=function(t){var r=t.data;if(t.data instanceof ArrayBuffer&&(r=(0,c.typedArrayToUnicodeString)(new Uint8Array(t.data))),e.serverActivity=Date.now(),r===c.BYTES.LF)return void e.debug("<<< PONG");e.debug("<<< "+r);var n=a.default.unmarshall(e.partialData+r);e.partialData=n.partial,n.frames.forEach(function(t){switch(t.command){case"CONNECTED":e.debug("connected to server "+t.headers.server),e.connected=!0,e.version=t.headers.version,e._setupHeartbeat(t.headers),i&&i(t);break;case"MESSAGE":var r=t.headers.subscription,n=e.subscriptions[r]||e.onreceive;if(n){var o=e.version===c.VERSIONS.V1_2&&t.headers.ack||t.headers["message-id"];t.ack=e.ack.bind(e,o,r),t.nack=e.nack.bind(e,o,r),n(t)}else e.debug("Unhandled received MESSAGE: "+t);break;case"RECEIPT":e.onreceipt&&e.onreceipt(t);break;case"ERROR":s&&s(t);break;default:e.debug("Unhandled frame: "+t)}})},this.ws.onclose=function(t){e.debug("Whoops! Lost connection to "+e.ws.url+":",{event:t}),e._cleanUp(),s&&s(t)},this.ws.onopen=function(){e.debug("Web Socket Opened..."),n["accept-version"]=c.VERSIONS.supportedVersions(),n["heart-beat"]||(n["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(",")),e._transmit("CONNECT",n)}}},{key:"disconnect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),e&&e()}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r);n.destination=e,this._transmit("SEND",n,t)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx-"+(0,c.createId)();return this._transmit("BEGIN",{transaction:e}),{id:e,commit:this.commit.bind(this,e),abort:this.abort.bind(this,e)}}},{key:"commit",value:function(e){this._transmit("COMMIT",{transaction:e})}},{key:"abort",value:function(e){this._transmit("ABORT",{transaction:e})}},{key:"ack",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r);n[this.version===c.VERSIONS.V1_2?"id":"message-id"]=e,n.subscription=t,this._transmit("ACK",n)}},{key:"nack",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r);n[this.version===c.VERSIONS.V1_2?"id":"message-id"]=e,n.subscription=t,this._transmit("NACK",n)}},{key:"subscribe",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r);return n.id||(n.id="sub-"+(0,c.createId)()),n.destination=e,this.subscriptions[n.id]=t,this._transmit("SUBSCRIBE",n),{id:n.id,unsubscribe:this.unsubscribe.bind(this,n.id)}}},{key:"unsubscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},t);delete this.subscriptions[e],r.id=e,this._transmit("UNSUBSCRIBE",r)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(e,t,r){var n=a.default.marshall(e,t,r);this.debug(">>> "+n,{frame:{command:e,headers:t,body:r}}),this._wsSend(n)}},{key:"_wsSend",value:function(e){for(this.isBinary&&(e=(0,c.unicodeStringToTypedArray)(e)),this.debug(">>> length "+e.length);;){if(!(e.length>this.maxWebSocketFrameSize))return this.ws.send(e);this.ws.send(e.slice(0,this.maxWebSocketFrameSize)),e=e.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+e.length)}}},{key:"_setupHeartbeat",value:function(e){var t=this;if(this.version===c.VERSIONS.V1_1||this.version===c.VERSIONS.V1_2){var r=(e["heart-beat"]||"0,0").split(",").map(function(e){return parseInt(e,10)}),n=o(r,2),i=n[0],s=n[1];if(0!==this.heartbeat.outgoing&&0!==s){var a=Math.max(this.heartbeat.outgoing,s);this.debug("send PING every "+a+"ms"),this.pinger=setInterval(function(){t._wsSend(c.BYTES.LF),t.debug(">>> PING")},a)}if(0!==this.heartbeat.incoming&&0!==i){var u=Math.max(this.heartbeat.incoming,i);this.debug("check PONG every "+u+"ms"),this.ponger=setInterval(function(){var e=Date.now()-t.serverActivity;e>2*u&&(t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close())},u)}}}},{key:"_parseConnect",value:function(){for(var e={},t=void 0,r=void 0,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];switch(o.length){case 2:e=o[0],t=o[1];break;case 3:o[1]instanceof Function?(e=o[0],t=o[1],r=o[2]):(e.login=o[0],e.passcode=o[1],t=o[2]);break;case 4:e.login=o[0],e.passcode=o[1],t=o[2],r=o[3];break;default:e.login=o[0],e.passcode=o[1],t=o[2],r=o[3],e.host=o[4]}return[e,t,r]}}]),e}();t.default=u,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n(this,e),this.command=t,this.headers=r,this.body=o}return o(e,[{key:"toString",value:function(){var e=this,t=[this.command],r=!1===this.headers["content-length"];return r&&delete this.headers["content-length"],Object.keys(this.headers).forEach(function(r){var n=e.headers[r];t.push(r+":"+n)}),this.body&&!r&&t.push("content-length:"+(0,i.sizeOfUTF8)(this.body)),t.push(i.BYTES.LF+this.body),t.join(i.BYTES.LF)}}],[{key:"unmarshallSingle",value:function(t){var r=t.search(new RegExp(i.BYTES.LF+i.BYTES.LF)),n=t.substring(0,r).split(i.BYTES.LF),o=n.shift(),s={},a="",c=r+2,u=!0,l=!1,f=void 0;try{for(var p,d=n.reverse()[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var h=p.value,v=h.indexOf(":");s[(0,i.trim)(h.substring(0,v))]=(0,i.trim)(h.substring(v+1))}}catch(e){l=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(l)throw f}}if(s["content-length"]){a=(""+t).substring(c,c+parseInt(s["content-length"],10))}else for(var y=null,g=c;g<t.length&&(y=t.charAt(g))!==i.BYTES.NULL;g++)a+=y;return new e(o,s,a)}},{key:"unmarshall",value:function(t){var r=t.split(new RegExp(i.BYTES.NULL+i.BYTES.LF+"*")),n=r.slice(0,-1),o=r.slice(-1)[0],s={frames:n.map(function(t){return e.unmarshallSingle(t)}),partial:""};return o===i.BYTES.LF||-1!==o.search(RegExp(i.BYTES.NULL+i.BYTES.LF+"*$"))?s.frames.push(e.unmarshallSingle(o)):s.partial=o,s}},{key:"marshall",value:function(t,r,n){return new e(t,r,n).toString()+i.BYTES.NULL}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r(0),s={VERSIONS:i.VERSIONS,client:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new WebSocket(e,t.protocols||i.VERSIONS.supportedProtocols());return new o.default(r,t)},over:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(o.default,[null].concat(t)))}};t.default=s,e.exports=t.default}])})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),o=r(21),i=function(){function e(e){var t=new n.Container(e);return o.queryDecorator(t,this)}return e}();t.SPARQLER=i,t.default=i},function(e,t,r){"use strict";function n(e,t,r){var n=new u.IRIResolver(e._iriResolver);return t.push.apply(t,n.resolve(r)),s(new a.Container(e,t,n),{})}function o(e){return n(this,[l.FROM],e)}function i(e){return n(this,[l.FROM,l.NAMED],e)}function s(e,t){return Object.assign(c.whereDecorator(e,t),{from:o.bind(e),fromNamed:i.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(19),c=r(21),u=r(33),l=r(6);t.fromDecorator=s},function(e,t,r){"use strict";function n(e){var t=[a.GROUP,a.BY,new c.StringLiteral(e)],r=new i.Container(this,t);return this._finishDecorator(r,s.havingDecorator(r,{}))}function o(e,t){return Object.assign(s.havingDecorator(e,t),{groupBy:n.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),s=r(21),a=r(6),c=r(4);t.groupDecorator=o},function(e,t,r){"use strict";function n(e){var t=[a.HAVING,new c.StringLiteral(e)],r=new i.Container(this,t);return this._finishDecorator(r,s.orderDecorator(r,{}))}function o(e,t){return Object.assign(s.orderDecorator(e,t),{having:n.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),s=r(21),a=r(6),c=r(4);t.havingDecorator=o},function(e,t,r){"use strict";function n(e){var t=[p.LIMIT,new d.NumberLiteral(e)];if(this._offsetUsed){var r=new l.Container(this,t);return this._finishDecorator(r,f.valuesDecorator(r,{}))}var n=new h(this,t,u.LIMIT);return this._finishDecorator(n,s(n,{}))}function o(e){var t=[p.OFFSET,new d.NumberLiteral(e)];if(this._limitUsed){var r=new l.Container(this,t);return this._finishDecorator(r,f.valuesDecorator(r,{}))}var n=new h(this,t,u.OFFSET);return this._finishDecorator(n,i(n,{}))}function i(e,t){return Object.assign(f.valuesDecorator(e,t),{limit:n.bind(e)})}function s(e,t){return Object.assign(f.valuesDecorator(e,t),{offset:o.bind(e)})}function a(e,t){return Object.assign(f.valuesDecorator(e,t),{limit:n.bind(e),offset:o.bind(e)})}var c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var u,l=r(19),f=r(314),p=r(6),d=r(4);!function(e){e[e.LIMIT=0]="LIMIT",e[e.OFFSET=1]="OFFSET"}(u=t.CurrentMethod||(t.CurrentMethod={}));var h=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o._offsetUsed=n===u.OFFSET,o._limitUsed=n===u.LIMIT,Object.freeze(o),o}return c(t,e),t}(l.Container);t.LimitOffsetContainer=h,t.limit=n,t.offset=o,t.limitDecorator=i,t.offsetDecorator=s,t.limitOffsetDecorator=a},function(e,t,r){"use strict";function n(e,t){var r=!Array.isArray(e),n=(r?[e]:e).map(function(e){return new u.Variable(null,e)}),o=[c.VALUES];r?o.push.apply(o,n[0].getSelfTokens().concat([c.OPEN_SINGLE_BLOCK])):(o.push(c.OPEN_SINGLE_LIST),n.forEach(function(e){return o.push.apply(o,e.getSelfTokens())}),o.push(c.CLOSE_SINGLE_LIST,c.OPEN_MULTI_BLOCK));var f=void 0,p="function"==typeof t?t(new a.PatternBuilder(f=new s.IRIResolver(this._iriResolver))):t;(r?Array.isArray(p)?p.map(function(e){return[e]}):[[p]]:Array.isArray(p[0])?p:[p]).forEach(function(e){r?o.push.apply(o,l.serialize(e[0])):(o.push(c.OPEN_SINGLE_LIST),e.forEach(function(e){return o.push.apply(o,l.serialize(e))}),o.push(c.CLOSE_SINGLE_LIST))}),o.push(r?c.CLOSE_SINGLE_BLOCK:c.CLOSE_MULTI_BLOCK);var d=new i.Container(this,o,f);return this._finishDecorator(d,{})}function o(e,t){return Object.assign(t,{values:n.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),s=r(33),a=r(155),c=r(6),u=r(317),l=r(48);t.valuesDecorator=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(157)),n(r(158))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMESPACE="http://www.w3.org/2001/XMLSchema#",t.dateTime=t.NAMESPACE+"dateTime",t.integer=t.NAMESPACE+"integer",t.float=t.NAMESPACE+"float",t.boolean=t.NAMESPACE+"boolean",t.string=t.NAMESPACE+"string"},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(159)),n(r(160)),n(r(161)),n(r(162)),n(r(57)),n(r(58)),n(r(163))},function(e,t,r){"use strict";function n(e){var t=[a.ORDER,a.BY,new c.StringLiteral(e)],r=new i.Container(this,t);return this._finishDecorator(r,s.limitOffsetDecorator(r,{}))}function o(e,t){return Object.assign(s.limitOffsetDecorator(e,t),{orderBy:n.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),s=r(21),a=r(6),c=r(4);t.orderBy=n,t.orderDecorator=o},function(e,t,r){"use strict";function n(e){var t=[l.BASE,l.OPEN_IRI,new f.StringLiteral(e),l.CLOSE_IRI];return s(new a.Container(this,t),{})}function o(e){var t=new u.IRIResolver(this._iriResolver,e);return s(new a.Container(this,null,t),{})}function i(e,t){var r=new u.IRIResolver(this._iriResolver),n=r._prefixes.has(e)?this._tokens.findIndex(function(t){return t instanceof f.StringLiteral&&t.value===e}):-1;r._prefixes.set(e,!1);var o=[l.PREFIX,new f.StringLiteral(e),l.PREFIX_SYMBOL,l.OPEN_IRI,new f.StringLiteral(t),l.CLOSE_IRI],i=new a.Container(this,o,r);return-1!==n&&i._tokens.splice(n-1,6),s(i,{})}function s(e,t){return Object.assign(c.selectDecorator(e,t),{base:n.bind(e),vocab:o.bind(e),prefix:i.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(19),c=r(21),u=r(33),l=r(6),f=r(4);t.queryDecorator=s},function(e,t,r){"use strict";function n(e,t,r){if(r&&0===r.length)throw new Error("Need to provide al least one variable.");r&&r.forEach(function(e){return t.push(d.VAR_SYMBOL,new h.StringLiteral(e))});var n=new f.Container(e,t);return e._finishDecorator===p.subFinishDecorator?p.subWhereDecorator(n,{}):p.fromDecorator(n,{})}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,[d.SELECT],e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,[d.SELECT,d.DISTINCT],e)}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,[d.SELECT,d.REDUCED],e)}function a(){return n(this,[d.SELECT,d.ALL])}function c(){return n(this,[d.SELECT,d.DISTINCT,d.ALL])}function u(){return n(this,[d.SELECT,d.REDUCED,d.ALL])}function l(e,t){return Object.assign(t,{select:o.bind(e),selectDistinct:i.bind(e),selectReduced:s.bind(e),selectAll:a.bind(e),selectAllDistinct:c.bind(e),selectAllReduced:u.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var f=r(19),p=r(21),d=r(6),h=r(4);t.selectDecorator=l},function(e,t,r){"use strict";function n(e){var t=[f.WHERE].concat(p.getBlockTokens(e)),r=new a.Container(this,t);return this._finishDecorator(r,c.groupDecorator(r,{}))}function o(e){var t=new u.IRIResolver(this._iriResolver),r=e(new l.PatternBuilder(t)),n=[f.WHERE].concat(p.getBlockTokens(r)),o=new a.Container(this,n,t);return this._finishDecorator(o,c.groupDecorator(o,{}))}function i(e,t){return Object.assign(t,{where:o.bind(e)})}function s(e,t){return Object.assign(t,{where:n.bind(e)})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(19),c=r(21),u=r(33),l=r(155),f=r(6),p=r(164);t.whereDecorator=i,t.subWhereDecorator=s},function(e,t,r){"use strict";function n(e){if(e._registry)return e._registry;throw new s.IllegalActionError('"'+e.id+"\" doesn't support SPARQL requests.")}function o(e,t,r,n,o){void 0===o&&(o={});var i,s=r;u.isObject(n)?o=n:void 0!==n&&(s=n,i=r);var c=a.RequestUtils.getRequestURLFor(t,e,i);return t._context&&t._context.auth&&t._context.auth.addAuthentication(o),{url:c,query:s,options:o}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(15),s=r(3),a=r(26),c=r(7),u=r(0),l=r(152),f=r(73),p={_registry:void 0,executeRawASKQuery:function(e,t,r){var i=this;return u.promiseMethod(function(){var s=n(i),a=o(i,s,e,t,r),c=a.url,u=a.query,l=a.options;return f.SPARQLService.executeRawASKQuery(c,u,l).then(function(e){return e[0]}).catch(s._parseErrorFromResponse.bind(i))})},executeASKQuery:function(e,t,r){var i=this;return u.promiseMethod(function(){var s=n(i),a=o(i,s,e,t,r),c=a.url,u=a.query,l=a.options;return f.SPARQLService.executeASKQuery(c,u,l).then(function(e){return e[0]}).catch(s._parseErrorFromResponse.bind(i))})},executeRawSELECTQuery:function(e,t,r){var i=this;return u.promiseMethod(function(){var s=n(i),a=o(i,s,e,t,r),c=a.url,u=a.query,l=a.options;return f.SPARQLService.executeRawSELECTQuery(c,u,l).then(function(e){return e[0]}).catch(s._parseErrorFromResponse.bind(i))})},executeSELECTQuery:function(e,t,r){var i=this;return u.promiseMethod(function(){var s=n(i),a=o(i,s,e,t,r),c=a.url,u=a.query,l=a.options;return f.SPARQLService.executeSELECTQuery(c,u,i._registry,l).then(function(e){return e[0]}).catch(s._parseErrorFromResponse.bind(i))})},executeRawCONSTRUCTQuery:function(e,t,r){var i=this;return u.promiseMethod(function(){var s=n(i),a=o(i,s,e,t,r),c=a.url,u=a.query,l=a.options;return f.SPARQLService.executeRawCONSTRUCTQuery(c,u,l).then(function(e){return e[0]}).catch(s._parseErrorFromResponse.bind(i))})},executeRawDESCRIBEQuery:function(e,t,r){var i=this;return u.promiseMethod(function(){var s=n(i),a=o(i,s,e,t,r),c=a.url,u=a.query,l=a.options;return f.SPARQLService.executeRawDESCRIBEQuery(c,u,l).then(function(e){return e[0]}).catch(s._parseErrorFromResponse.bind(i))})},executeUPDATE:function(e,t,r){var i=this;return u.promiseMethod(function(){var s=n(i),a=o(i,s,e,t,r),c=a.url,u=a.query,l=a.options;return f.SPARQLService.executeUPDATE(c,u,l).then(function(){}).catch(s._parseErrorFromResponse.bind(i))})},sparql:function(e){var t=n(this),r=a.RequestUtils.getRequestURLFor(t,this,e),o=t.getGeneralSchema(),i=new l.SPARQLBuilder(this,r).base(o.base).vocab(o.vocab);return o.prefixes.forEach(function(e,t){i=i.prefix(t,e)}),i}};t.SPARQLDocument={PROTOTYPE:p,isDecorated:function(e){return u.isObject(e)&&i.ModelDecorator.hasPropertiesFrom(p,e)},decorate:function(e){if(t.SPARQLDocument.isDecorated(e))return e;var r=i.ModelDecorator.decorateMultiple(e,c.TransientResource);return i.ModelDecorator.definePropertiesFrom(p,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),o=r(1),i=r(168);t.ACE={TYPE:i.TransientACE.TYPE,SCHEMA:{granting:{"@id":o.CS.granting,"@type":o.XSD.boolean},permissions:{"@id":o.CS.permission,"@type":"@id","@container":"@set"},subjects:{"@id":o.CS.subject,"@type":"@id","@container":"@set"},subjectsClass:{"@id":o.CS.subjectClass,"@type":"@id"}},is:function(e){return n.Fragment.is(e)&&e.hasType(t.ACE.TYPE)},create:i.TransientACE.create,createFrom:i.TransientACE.createFrom}},function(e,t,r){"use strict";function n(e){return s.isObject(e)?e:this.getPointer(e)}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),s=o(r(0)),a=r(1),c=r(170);t.ACL={TYPE:a.CS.AccessControlList,SCHEMA:{entries:{"@id":a.CS.accessControlEntry,"@type":"@id","@container":"@set"},accessTo:{"@id":a.CS.accessTo,"@type":"@id"},inheritableEntries:{"@id":a.CS.inheritableEntry,"@type":"@id","@container":"@set"}},isDecorated:function(e){return s.hasPropertyDefined(e,"accessTo")&&e._parsePointer===n},decorate:function(e){if(t.ACL.isDecorated(e))return e;c.TransientACL.decorate(e),i.Document.decorate(e);var r=e;Object.defineProperties(r,{_parsePointer:{writable:!0,enumerable:!1,configurable:!0,value:n}});var o=function(e){return e.subjects||r._removeFragment(e),!!e.subjects};return r.entries&&(r.entries=r.entries.filter(o)),r.inheritableEntries&&(r.inheritableEntries=r.inheritableEntries.filter(o)),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o={authenticatedUserMetadata:{"@id":n.CS.authenticatedUserMetadata,"@type":"@id"}};t.AuthenticatedUserInformationAccessor={TYPE:n.CS.AuthenticatedUserInformationAccessor,SCHEMA:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o={user:{"@id":n.CS.user,"@type":"@id"}};t.AuthenticatedUserMetadata={TYPE:n.CS.AuthenticatedUserMetadata,SCHEMA:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),o=r(1),i=r(171);t.User={TYPE:i.TransientUser.TYPE,SCHEMA:{name:{"@id":o.CS.name,"@type":o.XSD.string},credentials:{"@id":o.CS.credentials,"@type":"@id"}},isDecorated:function(e){return n.ProtectedDocument.isDecorated(e)&&i.TransientUser.isDecorated(e)},is:function(e){return i.TransientUser.isDecorated(e)&&n.ProtectedDocument.is(e)},decorate:function(e){i.TransientUser.decorate(e),n.ProtectedDocument.decorate(e);var t=e;return t.addType(i.TransientUser.TYPE),t},create:i.TransientUser.create,createFrom:i.TransientUser.createFrom}},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(r(0)),s=r(173),a=r(84),c=r(175),u=r(176),l=r(85),f=r(177),p=function(){function e(e){this.context=e;var t=e._resolvePath("users");this.users=f.UsersEndpoint.decorate(e.registry.getPointer(t)),this.authenticators=(r={},r[s.AuthMethod.BASIC]=new a.BasicAuthenticator(this.context),r[s.AuthMethod.TOKEN]=new u.TokenAuthenticator(this.context),r);var r}return Object.defineProperty(e.prototype,"authenticatedUser",{get:function(){return this._authenticatedUser?this._authenticatedUser:null},enumerable:!0,configurable:!0}),e.prototype.isAuthenticated=function(){return!!this.authenticator&&this.authenticator.isAuthenticated()},e.prototype.authenticate=function(e,t){return this.authenticateUsing(s.AuthMethod.TOKEN,e,t)},e.prototype.authenticateUsing=function(e,t,r){var n=this;this.clearAuthentication();var i=this.authenticators[e];if(!i)return Promise.reject(new o.IllegalArgumentError('Invalid authentication method "'+e+'".'));var s=this._getAuthenticationToken(t,r);if(!s)return Promise.reject(new o.IllegalArgumentError("Invalid authentication token."));var a;return i.authenticate(s).then(function(e){return a=e,i.getAuthenticatedUser()}).then(function(e){return n._authenticatedUser=e,n.authenticator=i,a})},e.prototype.addAuthentication=function(e){if(this.isAuthenticated())return this.authenticator.addAuthentication(e)},e.prototype.clearAuthentication=function(){this.authenticator&&(this.authenticator.clearAuthentication(),this.authenticator=null,this._authenticatedUser=null)},e.prototype._getAuthenticationToken=function(e,t){return i.isString(e)?new c.BasicToken(e,t):l.TokenCredentialsBase.is(e)?e:null},e}();t.AuthService=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o={user:{"@id":n.CS.user,"@type":"@id"},credentials:{"@id":n.CS.credentials,"@type":"@id","@container":"@set"}};t.CredentialsSet={TYPE:n.CS.CredentialsSet,SCHEMA:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o={ldapServer:{"@id":n.CS.ldapServer,"@type":"@id"},ldapUserDN:{"@id":n.CS.ldapUserDN,"@type":n.XSD.string}};t.LDAPCredentials={TYPE:n.CS.LDAPCredentials,SCHEMA:o}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(93),i=r(167),s=r(18),a=r(20),c=r(132),u=r(74),l=r(12),f=r(17),p=r(34),d=r(42),h=r(178),v=r(43),y=r(179),g=function(e){function t(){var t=e.call(this)||this;return t.repository=void 0,t.auth=void 0,t._baseURI="",t._parentContext=void 0,t._generalObjectSchema=new l.DigestedObjectSchema,t.registry=new d.RegistryService(f.Pointer,t),t._registerDefaultObjectSchemas(),t._registerDefaultDecorators(),t}return n(t,e),t.prototype._registerDefaultObjectSchemas=function(){this.extendObjectSchema(s.Document.TYPE,s.Document.SCHEMA).extendObjectSchema(p.ProtectedDocument.TYPE,p.ProtectedDocument.SCHEMA).extendObjectSchema(y.PlatformMetadata.TYPE,y.PlatformMetadata.SCHEMA).extendObjectSchema(y.PlatformInstance.TYPE,y.PlatformInstance.SCHEMA).extendObjectSchema(c.AddMemberAction.TYPE,c.AddMemberAction.SCHEMA).extendObjectSchema(c.RemoveMemberAction.TYPE,c.RemoveMemberAction.SCHEMA).extendObjectSchema(a.Error.TYPE,a.Error.SCHEMA).extendObjectSchema(a.Map.TYPE,a.Map.SCHEMA).extendObjectSchema(a.MapEntry.SCHEMA).extendObjectSchema(a.DocumentMetadata.TYPE,a.DocumentMetadata.SCHEMA).extendObjectSchema(a.ErrorResponse.TYPE,a.ErrorResponse.SCHEMA).extendObjectSchema(a.ResponseMetadata.TYPE,a.ResponseMetadata.SCHEMA).extendObjectSchema(a.ValidationError.TYPE,a.ValidationError.SCHEMA).extendObjectSchema(i.ACE.TYPE,i.ACE.SCHEMA).extendObjectSchema(i.ACL.TYPE,i.ACL.SCHEMA).extendObjectSchema(i.AuthenticatedUserInformationAccessor.TYPE,i.AuthenticatedUserInformationAccessor.SCHEMA).extendObjectSchema(i.AuthenticatedUserMetadata.TYPE,i.AuthenticatedUserMetadata.SCHEMA).extendObjectSchema(i.User.TYPE,i.User.SCHEMA).extendObjectSchema(i.TokenCredentials.TYPE,i.TokenCredentials.SCHEMA).extendObjectSchema(i.CredentialsSet.TYPE,i.CredentialsSet.SCHEMA).extendObjectSchema(i.UsernameAndPasswordCredentials.TYPE,i.UsernameAndPasswordCredentials.SCHEMA).extendObjectSchema(i.LDAPCredentials.TYPE,i.LDAPCredentials.SCHEMA).extendObjectSchema(h.ValidationReport.TYPE,h.ValidationReport.SCHEMA).extendObjectSchema(h.ValidationResult.TYPE,h.ValidationResult.SCHEMA).extendObjectSchema(v.QueryMetadata.TYPE,v.QueryMetadata.SCHEMA).extendObjectSchema(u.AccessPointCreated.TYPE,u.AccessPointCreated.SCHEMA).extendObjectSchema(u.ChildCreated.TYPE,u.ChildCreated.SCHEMA).extendObjectSchema(u.DocumentCreatedDetails.TYPE,u.DocumentCreatedDetails.SCHEMA).extendObjectSchema(u.DocumentDeleted.TYPE,u.DocumentDeleted.SCHEMA).extendObjectSchema(u.DocumentModified.TYPE,u.DocumentModified.SCHEMA).extendObjectSchema(u.MemberAdded.TYPE,u.MemberAdded.SCHEMA).extendObjectSchema(u.MemberAddedDetails.TYPE,u.MemberAddedDetails.SCHEMA).extendObjectSchema(u.MemberRemoved.TYPE,u.MemberRemoved.SCHEMA).extendObjectSchema(u.MemberRemovedDetails.TYPE,u.MemberRemovedDetails.SCHEMA)},t.prototype._registerDefaultDecorators=function(){this.registry.documentDecorators.set(p.ProtectedDocument.TYPE,p.ProtectedDocument.decorate).set(i.ACL.TYPE,i.ACL.decorate).set(i.User.TYPE,i.User.decorate)},t.instance=new t,t}(o.AbstractContext);t.GlobalContext=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(66),o=r(14),i={conforms:{"@id":n.SHACL.conforms,"@type":o.XSD.boolean},results:{"@id":n.SHACL.result,"@type":"@id","@container":"@set"},shapesGraphWellFormed:{"@id":n.SHACL.shapesGraphWellFormed,"@type":o.XSD.boolean}};t.ValidationReport={TYPE:n.SHACL.ValidationReport,SCHEMA:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(66),o=r(14),i={focusNode:{"@id":n.SHACL.focusNode,"@type":"@id"},resultPath:{"@id":n.SHACL.resultPath,"@type":"@id"},value:{"@id":n.SHACL.value},sourceShape:{"@id":n.SHACL.sourceShape,"@type":"@id"},sourceConstraintComponent:{"@id":n.SHACL.sourceConstraintComponent,"@type":"@id"},detail:{"@id":n.SHACL.detail,"@type":"@id"},resultMessage:{"@id":n.SHACL.resultMessage,"@type":o.XSD.string},resultSeverity:{"@id":n.SHACL.resultSeverity,"@type":"@id"}};t.ValidationResult={TYPE:n.SHACL.ValidationResult,SCHEMA:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o={instance:{"@id":n.C.instance,"@type":"@id"}};t.PlatformMetadata={TYPE:n.C.Platform,SCHEMA:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(14),i={buildDate:{"@id":n.C.buildDate,"@type":o.XSD.dateTime},version:{"@id":n.C.version,"@type":o.XSD.string}};t.PlatformInstance={TYPE:n.C.PlatformInstance,SCHEMA:i}}])});