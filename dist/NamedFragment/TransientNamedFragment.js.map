{"version":3,"sources":["NamedFragment/TransientNamedFragment.ts"],"names":[],"mappings":";;AAAA,wCAAgD;AAChD,8BAA6B;AAC7B,kCAAoC;AAqBvB,QAAA,sBAAsB,GAAiC;IACnE,WAAW,EAAX,UAAa,MAAa;QACzB,MAAM,CAAC,gBAAQ,CAAE,MAAM,CAAE;YACxB,MAAM,CAAC,cAAc,CAAE,MAAM,CAAE,IAAI,CAAE,MAAM,CAAC,oBAAoB,CAAE,MAAM,CAAE,CACzE;IACH,CAAC;IAED,EAAE,EAAF,UAAI,KAAS;QACZ,MAAM,CAAC,4BAAiB,CAAC,EAAE,CAAE,KAAK,CAAE;eAChC,8BAAsB,CAAC,WAAW,CAAE,KAAK,CAAE,CAC7C;IACH,CAAC;IAED,MAAM,EAAN,UAAqC,IAAM;QAC1C,IAAM,IAAI,GAAK,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,IAAI,CAAE,CAAC;QACzC,MAAM,CAAC,8BAAsB,CAAC,UAAU,CAAE,IAAI,CAAE,CAAC;IAClD,CAAC;IAED,UAAU,EAAV,UAAyC,MAAQ;QAChD,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,EAAE,GAAG,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC;QACpD,MAAM,CAAC,8BAAsB,CAAC,QAAQ,CAAE,MAAM,CAAE,CAAC;IAClD,CAAC;IAED,QAAQ,EAAR,UAA4B,MAAQ;QACnC,EAAE,CAAA,CAAE,8BAAsB,CAAC,WAAW,CAAE,MAAM,CAAG,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC;QAEjE,4BAAiB,CAAC,QAAQ,CAAE,MAAM,CAAE,CAAC;QAErC,IAAM,aAAa,GAA8B,MAAoC,CAAC;QACtF,MAAM,CAAC,gBAAgB,CAAE,aAAa,EAAE;YACvC,MAAM,EAAE;gBACP,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,GAAG,EAAH;oBACC,MAAM,CAAC,SAAG,CAAC,WAAW,CAAE,IAAI,CAAC,EAAE,CAAE,CAAC;gBACnC,CAAC;gBACD,GAAG,EAAH,UAAkC,KAAY;oBAC7C,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC;gBAC3C,CAAC;aACD;SACD,CAAE,CAAC;QAEJ,MAAM,CAAC,aAAa,CAAC;IACtB,CAAC;CACD,CAAC","file":"TransientNamedFragment.js","sourcesContent":["import { TransientFragment } from \"../Fragment\";\nimport { URI } from \"../RDF\";\nimport { isObject } from \"../Utils\";\nimport { BaseNamedFragment } from \"./BaseNamedFragment\";\n\nexport interface TransientNamedFragment extends TransientFragment {\n\tslug:string;\n}\n\n\nexport interface TransientNamedFragmentFactory {\n\tisDecorated( object:object ):object is TransientNamedFragment;\n\n\tis( value:any ):value is TransientNamedFragment;\n\n\n\tcreate<T extends BaseNamedFragment>( base:T ):T & TransientNamedFragment;\n\n\tcreateFrom<T extends BaseNamedFragment>( object:T ):T & TransientNamedFragment;\n\n\tdecorate<T extends object>( object:T ):T & TransientNamedFragment;\n}\n\nexport const TransientNamedFragment:TransientNamedFragmentFactory = {\n\tisDecorated( object:object ):object is TransientNamedFragment {\n\t\treturn isObject( object ) &&\n\t\t\tobject.hasOwnProperty( \"slug\" ) && ! object.propertyIsEnumerable( \"slug\" )\n\t\t\t;\n\t},\n\n\tis( value:any ):value is TransientNamedFragment {\n\t\treturn TransientFragment.is( value )\n\t\t\t&& TransientNamedFragment.isDecorated( value )\n\t\t\t;\n\t},\n\n\tcreate<T extends BaseNamedFragment>( data:T ):T & TransientNamedFragment {\n\t\tconst copy:T = Object.assign( {}, data );\n\t\treturn TransientNamedFragment.createFrom( copy );\n\t},\n\n\tcreateFrom<T extends BaseNamedFragment>( object:T ):T & TransientNamedFragment {\n\t\tobject.id = object._document.id + \"#\" + object.slug;\n\t\treturn TransientNamedFragment.decorate( object );\n\t},\n\n\tdecorate<T extends object>( object:T ):T & TransientNamedFragment {\n\t\tif( TransientNamedFragment.isDecorated( object ) ) return object;\n\n\t\tTransientFragment.decorate( object );\n\n\t\tconst namedFragment:T & TransientNamedFragment = object as T & TransientNamedFragment;\n\t\tObject.defineProperties( namedFragment, {\n\t\t\t\"slug\": {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget( this:TransientNamedFragment ):string {\n\t\t\t\t\treturn URI.getFragment( this.id );\n\t\t\t\t},\n\t\t\t\tset( this:TransientNamedFragment, value:string ):void {\n\t\t\t\t\tthis.id = this._document.id + \"#\" + value;\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\t\treturn namedFragment;\n\t},\n};\n"]}