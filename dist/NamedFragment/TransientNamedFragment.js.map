{"version":3,"sources":["NamedFragment/TransientNamedFragment.ts"],"names":[],"mappings":";;AAAA,oCAA+C;AAC/C,wCAAgD;AAChD,8BAA6B;AAC7B,kCAAoC;AAsBvB,QAAA,sBAAsB,GAAiC;IACnE,WAAW,EAAX,UAAa,MAAa;QACzB,OAAO,gBAAQ,CAAE,MAAM,CAAE;YACxB,MAAM,CAAC,cAAc,CAAE,MAAM,CAAE,IAAI,CAAE,MAAM,CAAC,oBAAoB,CAAE,MAAM,CAAE,CACzE;IACH,CAAC;IAED,EAAE,EAAF,UAAI,KAAS;QACZ,OAAO,4BAAiB,CAAC,EAAE,CAAE,KAAK,CAAE;eAChC,8BAAsB,CAAC,WAAW,CAAE,KAAK,CAAE,CAC7C;IACH,CAAC;IAED,MAAM,EAAN,UAA0B,IAA0B;QACnD,IAAM,IAAI,GAAyB,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,IAAI,CAAE,CAAC;QAC7D,OAAO,8BAAsB,CAAC,UAAU,CAAE,IAAI,CAAE,CAAC;IAClD,CAAC;IAED,UAAU,EAAV,UAA8B,MAA4B;QACzD,IAAM,IAAI,GAAU,MAAM,CAAC,IAAI,CAAC;QAEhC,IAAM,aAAa,GAA8B,8BAAsB,CAAC,QAAQ,CAAE,MAAM,CAAE,CAAC;QAC3F,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC;QAE1B,OAAO,aAAa,CAAC;IACtB,CAAC;IAED,QAAQ,EAAR,UAA4B,MAAQ;QACnC,IAAI,8BAAsB,CAAC,WAAW,CAAE,MAAM,CAAE;YAAG,OAAO,MAAM,CAAC;QAEjE,4BAAiB,CAAC,QAAQ,CAAE,MAAM,CAAE,CAAC;QAErC,IAAM,aAAa,GAA8B,MAAoC,CAAC;QACtF,MAAM,CAAC,gBAAgB,CAAE,aAAa,EAAE;YACvC,IAAI,EAAE;gBACL,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,GAAG,EAAH;oBACC,IAAM,UAAU,GAAU,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC;oBACpE,OAAO,UAAU,GAAG,GAAG,GAAG,SAAG,CAAC,WAAW,CAAE,IAAI,CAAC,GAAG,CAAE,CAAC;gBACvD,CAAC;gBACD,GAAG,EAAH,UAAkC,KAAY;oBAC7C,IAAM,QAAQ,GAAiB,SAAG,CAAC,WAAW,CAAE,KAAK,CAAE,CAAC;oBACxD,IAAI,CAAE,QAAQ;wBAAG,MAAM,IAAI,2BAAkB,CAAE,qBAAmB,KAAK,+BAA4B,CAAE,CAAC;oBAEtG,IAAM,UAAU,GAAU,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC;oBACpE,IAAI,CAAE,SAAG,CAAC,QAAQ,CAAE,UAAU,EAAE,KAAK,CAAE;wBAAG,MAAM,IAAI,2BAAkB,CAAE,OAAK,KAAK,0BAAqB,UAAU,gBAAa,CAAE,CAAC;oBAEjI,IAAI,CAAC,GAAG,GAAG,UAAU,GAAG,GAAG,GAAG,QAAQ,CAAC;gBACxC,CAAC;aACD;YACD,MAAM,EAAE;gBACP,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,GAAG,EAAH;oBACC,OAAO,SAAG,CAAC,WAAW,CAAE,IAAI,CAAC,GAAG,CAAE,CAAC;gBACpC,CAAC;gBACD,GAAG,EAAH,UAAkC,KAAY;oBAC7C,IAAM,UAAU,GAAU,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC;oBACpE,IAAI,CAAC,GAAG,GAAG,UAAU,GAAG,GAAG,GAAG,KAAK,CAAC;gBACrC,CAAC;aACD;SACD,CAAE,CAAC;QAEJ,OAAO,aAAa,CAAC;IACtB,CAAC;CACD,CAAC","file":"TransientNamedFragment.js","sourcesContent":["import { IllegalActionError } from \"../Errors\";\nimport { TransientFragment } from \"../Fragment\";\nimport { URI } from \"../RDF\";\nimport { isObject } from \"../Utils\";\nimport { BaseNamedFragment } from \"./BaseNamedFragment\";\n\n\nexport interface TransientNamedFragment extends TransientFragment {\n\tslug:string;\n}\n\n\nexport interface TransientNamedFragmentFactory {\n\tisDecorated( object:object ):object is TransientNamedFragment;\n\n\tis( value:any ):value is TransientNamedFragment;\n\n\n\tcreate<T extends object>( base:T & BaseNamedFragment ):T & TransientNamedFragment;\n\n\tcreateFrom<T extends object>( object:T & BaseNamedFragment ):T & TransientNamedFragment;\n\n\tdecorate<T extends object>( object:T ):T & TransientNamedFragment;\n}\n\nexport const TransientNamedFragment:TransientNamedFragmentFactory = {\n\tisDecorated( object:object ):object is TransientNamedFragment {\n\t\treturn isObject( object ) &&\n\t\t\tobject.hasOwnProperty( \"slug\" ) && ! object.propertyIsEnumerable( \"slug\" )\n\t\t\t;\n\t},\n\n\tis( value:any ):value is TransientNamedFragment {\n\t\treturn TransientFragment.is( value )\n\t\t\t&& TransientNamedFragment.isDecorated( value )\n\t\t\t;\n\t},\n\n\tcreate<T extends object>( data:T & BaseNamedFragment ):T & TransientNamedFragment {\n\t\tconst copy:T & BaseNamedFragment = Object.assign( {}, data );\n\t\treturn TransientNamedFragment.createFrom( copy );\n\t},\n\n\tcreateFrom<T extends object>( object:T & BaseNamedFragment ):T & TransientNamedFragment {\n\t\tconst slug:string = object.slug;\n\n\t\tconst namedFragment:T & TransientNamedFragment = TransientNamedFragment.decorate( object );\n\t\tnamedFragment.slug = slug;\n\n\t\treturn namedFragment;\n\t},\n\n\tdecorate<T extends object>( object:T ):T & TransientNamedFragment {\n\t\tif( TransientNamedFragment.isDecorated( object ) ) return object;\n\n\t\tTransientFragment.decorate( object );\n\n\t\tconst namedFragment:T & TransientNamedFragment = object as T & TransientNamedFragment;\n\t\tObject.defineProperties( namedFragment, {\n\t\t\t\"id\": {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget( this:TransientNamedFragment ):string {\n\t\t\t\t\tconst registryID:string = this._registry && this._registry.id || \"\";\n\t\t\t\t\treturn registryID + \"#\" + URI.getFragment( this._id );\n\t\t\t\t},\n\t\t\t\tset( this:TransientNamedFragment, value:string ):void {\n\t\t\t\t\tconst fragment:string | null = URI.getFragment( value );\n\t\t\t\t\tif( ! fragment ) throw new IllegalActionError( `Cannot assign \"${ value }\" as a named fragment ID.` );\n\n\t\t\t\t\tconst registryID:string = this._registry && this._registry.id || \"\";\n\t\t\t\t\tif( ! URI.isBaseOf( registryID, value ) ) throw new IllegalActionError( `\"${ value }\" it's outside \"${ registryID }\"'s scope.` );\n\n\t\t\t\t\tthis._id = registryID + \"#\" + fragment;\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"slug\": {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget( this:TransientNamedFragment ):string {\n\t\t\t\t\treturn URI.getFragment( this._id );\n\t\t\t\t},\n\t\t\t\tset( this:TransientNamedFragment, value:string ):void {\n\t\t\t\t\tconst registryID:string = this._registry && this._registry.id || \"\";\n\t\t\t\t\tthis._id = registryID + \"#\" + value;\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\t\treturn namedFragment;\n\t},\n};\n"]}