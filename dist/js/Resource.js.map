{"version":3,"sources":["Resource.ts"],"names":["hasType","Factory","Factory.constructor","Factory.hasClassProperties","Factory.create","Factory.createFrom","Factory.decorate"],"mappings":"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","file":"Resource.js","sourcesContent":["import * as Document from \"./Document\";\nimport * as Errors from \"./Errors\";\nimport * as Pointer from \"./Pointer\";\nimport * as RDF from \"./RDF\";\nimport * as Utils from \"./Utils\";\n\nexport interface Class extends Pointer.Class {\n\t_id:string;\n\n\ttypes:string[];\n}\n\nfunction hasType( type:string ):boolean {\n\treturn this.types.indexOf( type ) !== -1;\n}\n\nexport class Factory {\n\thasClassProperties( resource:Object ):boolean {\n\t\treturn (\n\t\t\tUtils.hasPropertyDefined( resource, \"_id\" ) &&\n\t\t\tUtils.hasPropertyDefined( resource, \"id\" ) &&\n\t\t\tUtils.hasPropertyDefined( resource, \"types\" ) &&\n\n\t\t\tUtils.hasPropertyDefined( resource, \"resolve\" )\n\t\t);\n\t}\n\n\tcreate( id:string = null, types:string[] = null ):Class {\n\t\treturn this.createFrom( {}, id, types );\n\t}\n\n\tcreateFrom<T extends Object>( object:T, id:string = null, types:string[] = null ):T & Class {\n\t\tid = !! id ? id : \"\";\n\t\ttypes = !! types ? types : [];\n\n\t\tlet resource:Class = this.decorate( object );\n\t\tresource.id = id;\n\t\tresource.types = types;\n\n\t\treturn <any> resource;\n\t}\n\n\tdecorate<T extends Object>( object:T ):T & Class {\n\t\tif( this.hasClassProperties( object ) ) return <any> object;\n\n\t\tObject.defineProperties( object, {\n\t\t\t\"_id\": {\n\t\t\t\twritable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: \"\",\n\t\t\t},\n\t\t\t\"id\": {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function():string {\n\t\t\t\t\tif( ! this._id ) return \"\";\n\t\t\t\t\treturn this._id;\n\t\t\t\t},\n\t\t\t\tset: function( value:string ):void {\n\t\t\t\t\tthis._id = value;\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"types\": {\n\t\t\t\twritable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: [],\n\t\t\t},\n\t\t\t\"resolve\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: function():Promise<void> {\n\t\t\t\t\treturn new Promise( ( resolve:( result:any ) => void, reject:( error:any ) => void ):any => {\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\t\treturn <any> object;\n\t}\n}\n\nexport let factory:Factory = new Factory();\n"],"sourceRoot":"/source/"}