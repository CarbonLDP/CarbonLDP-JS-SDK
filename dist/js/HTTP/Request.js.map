{"version":3,"sources":["HTTP/Request.ts"],"names":[],"mappings":"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","file":"HTTP/Request.js","sourcesContent":["/// <reference path=\"./../../typings/typings.d.ts\" />\n\nimport * as Errors from \"./Errors\";\nimport * as Header from \"./Header\";\nimport Method from \"./Method\";\nimport Parser from \"./Parser\";\nimport Response from \"./Response\";\n\nimport * as Utils from \"./../Utils\";\n\nexport interface Options {\n\theaders?: Map<string, Header.Class>;\n\tsendCredentialsOnCORS?:boolean;\n\ttimeout?:number;\n\trequest?:XMLHttpRequest;\n}\n\nexport interface ContainerRetrievalPreferences {\n\tinclude?:string[];\n\tomit?:string[];\n}\n\nfunction setHeaders( request:XMLHttpRequest, headers:Map<string, Header.Class> ):void {\n\tlet namesIterator:Iterator<string> = headers.keys();\n\tlet next:IteratorResult<string> = namesIterator.next();\n\twhile ( ! next.done ) {\n\t\tlet name:string = next.value;\n\t\tlet value:Header.Class = headers.get( name );\n\t\trequest.setRequestHeader( name, value.toString() );\n\n\t\tnext = namesIterator.next();\n\t}\n}\n\nfunction onLoad( resolve:( result:any ) => void, reject:( value:Response ) => void, request:XMLHttpRequest ):() => void {\n\treturn () => {\n\t\tlet response:Response = new Response( request );\n\t\tif ( request.status >= 200 && request.status <= 299 ) {\n\n\n\t\t\tresolve( response );\n\t\t} else {\n\t\t\trejectRequest( reject, request );\n\t\t}\n\t};\n}\n\nfunction onError( reject:( error:any ) => void, request:XMLHttpRequest ):() => void {\n\treturn () => {\n\t\trejectRequest( reject, request );\n\t};\n}\n\nfunction rejectRequest( reject:( error:any ) => void, request:XMLHttpRequest ):void {\n\tlet response:Response = new Response( request );\n\n\tif ( response.status >= 400 && response.status < 600 ) {\n\t\tif ( Errors.statusCodeMap.has( response.status ) ) {\n\t\t\tlet error:typeof Errors.Error = Errors.statusCodeMap.get( response.status );\n\t\t\t// TODO: Set error message\n\t\t\treject( new error( \"\", response ) );\n\t\t}\n\t}\n\n\treject( new Errors.UnknownError( \"\", response ) );\n}\n\nexport class Service {\n\n\tprivate static defaultOptions:Options = {\n\t\tsendCredentialsOnCORS: true,\n\t};\n\n\tstatic send( method:(Method | string), url:string, options?:Options ):Promise<Response>;\n\tstatic send( method:(Method | string), url:string, body:string, options?:Options ):Promise<Response>;\n\tstatic send( method:(Method | string), url:string, body:string, options?:Options ):Promise<Response>;\n\tstatic send<T>( method:(Method | string), url:string, body:string, options?:Options, parser?:Parser<T> ):Promise<[ T, Response ]>;\n\tstatic send<T>( method:any, url:string, bodyOrOptions:any = Service.defaultOptions, options:Options = Service.defaultOptions, parser:Parser<T> = null ):any {\n\t\tlet body:string = bodyOrOptions && Utils.isString( bodyOrOptions ) ? bodyOrOptions : null;\n\n\t\toptions = ! bodyOrOptions || Utils.isString( bodyOrOptions ) ? options : bodyOrOptions;\n\t\toptions = options ? options : {};\n\t\toptions = Utils.extend( options, Service.defaultOptions );\n\n\t\tif ( Utils.isNumber( method ) ) method = Method[ method ];\n\n\t\tlet requestPromise:Promise<Response> = new Promise<Response>( ( resolve:( result:Response ) => void, reject:( error:any ) => void ):void => {\n\t\t\tlet request:XMLHttpRequest = options.request ? options.request : new XMLHttpRequest();\n\t\t\trequest.open( method, url, true );\n\n\t\t\tif ( options.headers ) setHeaders( request, options.headers );\n\t\t\trequest.withCredentials = options.sendCredentialsOnCORS;\n\t\t\tif ( options.timeout ) request.timeout = options.timeout;\n\n\t\t\trequest.onload = onLoad( resolve, reject, request );\n\t\t\trequest.onerror = onError( reject, request );\n\n\t\t\tif ( body ) {\n\t\t\t\trequest.send( body );\n\t\t\t} else {\n\t\t\t\trequest.send();\n\t\t\t}\n\t\t});\n\n\t\tif( parser === null ) return requestPromise;\n\n\t\treturn requestPromise.then( ( response:Response ) => {\n\t\t\treturn parser.parse( response.data ).then( ( parsedBody:T ) => {\n\t\t\t\treturn [ parsedBody, response ];\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic options( url:string, options:Options = Service.defaultOptions ):Promise<Response> {\n\t\treturn Service.send( Method.OPTIONS, url, options );\n\t}\n\n\tstatic head( url:string, options:Options = Service.defaultOptions ):Promise<Response> {\n\t\treturn Service.send( Method.HEAD, url, options );\n\t}\n\n\tstatic get( url:string, options?:Options ):Promise<Response>;\n\tstatic get<T>( url:string, options?:Options, parser?:Parser<T> ):Promise<[ T, Response ]>;\n\tstatic get<T>( url:string, options:Options = Service.defaultOptions, parser:Parser<T> = null ):any {\n\t\treturn Service.send( Method.GET, url, null, options, parser );\n\t}\n\n\tstatic post( url:string, body:string, options?:Options ):Promise<Response>;\n\tstatic post<T>( url:string, body:string, options?:Options, parser?:Parser<T> ):Promise<[ T, Response ] >;\n\tstatic post<T>( url:string, bodyOrOptions:any = Service.defaultOptions, options:Options = Service.defaultOptions, parser:Parser<T> = null ):any {\n\t\treturn Service.send( Method.POST, url, bodyOrOptions, options, parser );\n\t}\n\n\tstatic put( url:string, body:string, options?:Options ):Promise<Response>;\n\tstatic put<T>( url:string, body:string, options?:Options, parser?:Parser<T> ):Promise<[ T, Response ]>;\n\tstatic put<T>( url:string, bodyOrOptions:any = Service.defaultOptions, options:Options = Service.defaultOptions, parser:Parser<T> = null ):any {\n\t\treturn Service.send( Method.PUT, url, bodyOrOptions, options, parser );\n\t}\n\n\tstatic patch( url:string, body:string, options?:Options ):Promise<Response>;\n\tstatic patch<T>( url:string, body:string, options?:Options, parser?:Parser<T> ):Promise<[ T, Response ]>;\n\tstatic patch<T>( url:string, bodyOrOptions:any = Service.defaultOptions, options:Options = Service.defaultOptions, parser:Parser<T> = null ):any {\n\t\treturn Service.send( Method.PATCH, url, bodyOrOptions, options, parser );\n\t}\n\n\tstatic delete( url:string, body:string, options?:Options ):Promise<Response>;\n\tstatic delete<T>( url:string, body:string, options?:Options, parser?:Parser<T> ):Promise<[ T, Response ]>;\n\tstatic delete<T>( url:string, bodyOrOptions:any = Service.defaultOptions, options:Options = Service.defaultOptions, parser:Parser<T> = null ):any {\n\t\treturn Service.send( Method.DELETE, url, bodyOrOptions, options, parser );\n\t}\n}\n\nexport class Util {\n\tstatic getHeader( headerName:string, requestOptions:Options, initialize:boolean = false ):Header.Class {\n\t\tif( initialize ) {\n\t\t\tlet headers:Map<string, Header.Class> = requestOptions.headers ? requestOptions.headers : requestOptions.headers = new Map<string, Header.Class>();\n\t\t\theaders.set( headerName, new Header.Class() );\n\t\t}\n\n\t\tif( ! requestOptions.headers  ) return null;\n\t\treturn requestOptions.headers.get( headerName );\n\t}\n\n\tstatic setAcceptHeader( accept:string, requestOptions:Options ):Options {\n\t\tlet headers:Map<string, Header.Class> = requestOptions.headers ? requestOptions.headers : requestOptions.headers = new Map<string, Header.Class>();\n\t\theaders.set( \"Accept\", new Header.Class( accept ) );\n\t\treturn requestOptions;\n\t}\n\n\tstatic setContentTypeHeader( contentType:string, requestOptions:Options ):Options {\n\t\tlet headers:Map<string, Header.Class> = requestOptions.headers ? requestOptions.headers : requestOptions.headers = new Map<string, Header.Class>();\n\t\theaders.set( \"Content-Type\", new Header.Class( contentType ) );\n\t\treturn requestOptions;\n\t}\n\n\tstatic setIfMatchHeader( etag:string, requestOptions:Options ):Options {\n\t\tlet headers:Map<string, Header.Class> = requestOptions.headers ? requestOptions.headers : requestOptions.headers = new Map<string, Header.Class>();\n\t\theaders.set( \"If-Match\", new Header.Class( etag ) );\n\t\treturn requestOptions;\n\t}\n\n\tstatic setPreferredInteractionModel( interactionModelURI:string, requestOptions:Options ):Options {\n\t\tlet prefer:Header.Class = Util.getHeader( \"Prefer\", requestOptions, true );\n\t\tprefer.values.push( new Header.Value( interactionModelURI + \"; rel=interaction-model\" ) );\n\n\t\treturn requestOptions;\n\t}\n\n\tstatic setContainerRetrievalPreferences( preferences:ContainerRetrievalPreferences, requestOptions:Options ):Options {\n\t\tlet prefer:Header.Class = Util.getHeader( \"Prefer\", requestOptions, true );\n\n\t\tlet headerPieces:string[] = [ \"return=representation;\" ];\n\t\tif( \"include\" in preferences ) headerPieces.push( 'include=\"' + preferences.include.join( \" \" ) + '\"' );\n\t\tif( \"omit\" in preferences ) headerPieces.push( 'omit=\"' + preferences.omit.join( \" \" ) + '\"' );\n\n\t\tif( headerPieces.length === 1 ) return requestOptions;\n\n\t\tprefer.values.push( new Header.Value( headerPieces.join( \" \" ) ) );\n\n\t\treturn requestOptions;\n\t}\n\n\tstatic setSlug( slug:string, requestOptions:Options ):Options {\n\t\tlet slugHeader:Header.Class = Util.getHeader( \"Slug\", requestOptions, true );\n\t\tslugHeader.values.push( new Header.Value( slug ) );\n\n\t\treturn requestOptions;\n\t}\n}\n"],"sourceRoot":"/source/"}