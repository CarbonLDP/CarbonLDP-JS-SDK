{"version":3,"sources":["HTTP/Response.ts"],"names":[],"mappings":";;;;;;;;;;;YAEA;gBACC,eAAa,OAAsB;oBAClC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;oBAC7B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC;oBACjC,IAAI,CAAC,UAAU,CAAE,OAAO,CAAE,CAAC;oBAE3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBACxB,CAAC;gBAQO,0BAAU,GAAlB,UAAoB,OAAsB;oBACzC,IAAI,aAAa,GAAU,OAAO,CAAC,qBAAqB,EAAE,CAAC;oBAC3D,EAAE,CAAC,CAAE,aAAc,CAAC,CAAC,CAAC;wBACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAE,aAAa,CAAE,CAAC;oBAC1D,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAwB,CAAC;oBAChD,CAAC;gBACF,CAAC;gBACF,YAAC;YAAD,CAvBA,AAuBC,IAAA;YAvBD,yBAuBC,CAAA;YAED;gBAAA;gBAYA,CAAC;gBAXO,YAAO,GAAd,UAAgB,QAAc;oBAC7B,EAAE,CAAA,CAAE,CAAE,QAAQ,IAAI,CAAE,QAAQ,CAAC,OAAQ,CAAC;wBAAC,MAAM,CAAC,IAAI,CAAC;oBAEnD,IAAI,UAAU,GAAgB,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAE,MAAM,CAAE,CAAC;oBAE7D,EAAE,CAAA,CAAE,CAAE,UAAW,CAAC;wBAAC,MAAM,CAAC,IAAI,CAAC;oBAC/B,EAAE,CAAA,CAAE,CAAE,UAAU,CAAC,MAAM,CAAC,MAAO,CAAC;wBAAC,MAAM,CAAC,IAAI,CAAC;oBAC7C,EAAE,CAAA,CAAE,UAAU,CAAC,MAAM,CAAC,MAAM,GAAG,CAAE,CAAC;wBAAC,OAAO,CAAC,IAAI,CAAE,wDAAwD,EAAE,QAAQ,CAAE,CAAC;oBAEtH,MAAM,CAAC,UAAU,CAAC,MAAM,CAAE,CAAC,CAAE,CAAC,QAAQ,EAAE,CAAC;gBAC1C,CAAC;gBACF,WAAC;YAAD,CAZA,AAYC,IAAA;YAZD,uBAYC,CAAA;YAED,oBAAe,KAAK,EAAC","file":"HTTP/Response.js","sourcesContent":["import * as Header from \"./Header\";\n\nexport class Class {\n\tconstructor( request:XMLHttpRequest ) {\n\t\tthis.status = request.status;\n\t\tthis.data = request.responseText;\n\t\tthis.setHeaders( request );\n\n\t\tthis.request = request;\n\t}\n\n\tstatus:number;\n\tdata:string;\n\theaders:Map<string, Header.Class>;\n\trequest:XMLHttpRequest;\n\n\n\tprivate setHeaders( request:XMLHttpRequest ):void {\n\t\tlet headersString:string = request.getAllResponseHeaders();\n\t\tif ( headersString ) {\n\t\t\tthis.headers = Header.Util.parseHeaders( headersString );\n\t\t} else {\n\t\t\tthis.headers = new Map<string, Header.Class>();\n\t\t}\n\t}\n}\n\nexport class Util {\n\tstatic getETag( response:Class ):string {\n\t\tif( ! response || ! response.headers ) return null;\n\n\t\tlet etagHeader:Header.Class = response.headers.get( \"ETag\" );\n\n\t\tif( ! etagHeader ) return null;\n\t\tif( ! etagHeader.values.length ) return null;\n\t\tif( etagHeader.values.length > 1 ) console.warn( \"The response contains more than one ETag. Response: %o\", response );\n\n\t\treturn etagHeader.values[ 0 ].toString();\n\t}\n}\n\nexport default Class;\n"],"sourceRoot":"/source/"}