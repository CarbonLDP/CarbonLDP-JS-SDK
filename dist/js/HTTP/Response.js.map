{"version":3,"sources":["HTTP/Response.ts"],"names":["Class","Class.constructor","Class.setHeaders","Util","Util.constructor","Util.getETag"],"mappings":";;;;;;;;;YAEA;gBACCA,eAAaA,OAAsBA;oBAClCC,IAAIA,CAACA,MAAMA,GAAGA,OAAOA,CAACA,MAAMA,CAACA;oBAC7BA,IAAIA,CAACA,IAAIA,GAAGA,OAAOA,CAACA,YAAYA,CAACA;oBACjCA,IAAIA,CAACA,UAAUA,CAAEA,OAAOA,CAAEA,CAACA;oBAE3BA,IAAIA,CAACA,OAAOA,GAAGA,OAAOA,CAACA;gBACxBA,CAACA;gBAQOD,0BAAUA,GAAlBA,UAAoBA,OAAsBA;oBACzCE,IAAIA,aAAaA,GAAUA,OAAOA,CAACA,qBAAqBA,EAAEA,CAACA;oBAC3DA,EAAEA,CAACA,CAAEA,aAAcA,CAACA,CAACA,CAACA;wBACrBA,IAAIA,CAACA,OAAOA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,YAAYA,CAAEA,aAAaA,CAAEA,CAACA;oBAC1DA,CAACA;oBAACA,IAAIA,CAACA,CAACA;wBACPA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,GAAGA,EAAwBA,CAACA;oBAChDA,CAACA;gBACFA,CAACA;gBACFF,YAACA;YAADA,CAvBA,AAuBCA,IAAA;YAvBD,yBAuBC,CAAA;YAED;gBAAAG;gBAYAC,CAACA;gBAXOD,YAAOA,GAAdA,UAAgBA,QAAcA;oBAC7BE,EAAEA,CAAAA,CAAEA,CAAEA,QAAQA,IAAIA,CAAEA,QAAQA,CAACA,OAAQA,CAACA;wBAACA,MAAMA,CAACA,IAAIA,CAACA;oBAEnDA,IAAIA,UAAUA,GAAgBA,QAAQA,CAACA,OAAOA,CAACA,GAAGA,CAAEA,MAAMA,CAAEA,CAACA;oBAE7DA,EAAEA,CAAAA,CAAEA,CAAEA,UAAWA,CAACA;wBAACA,MAAMA,CAACA,IAAIA,CAACA;oBAC/BA,EAAEA,CAAAA,CAAEA,CAAEA,UAAUA,CAACA,MAAMA,CAACA,MAAOA,CAACA;wBAACA,MAAMA,CAACA,IAAIA,CAACA;oBAC7CA,EAAEA,CAAAA,CAAEA,UAAUA,CAACA,MAAMA,CAACA,MAAMA,GAAGA,CAAEA,CAACA;wBAACA,OAAOA,CAACA,IAAIA,CAAEA,wDAAwDA,EAAEA,QAAQA,CAAEA,CAACA;oBAEtHA,MAAMA,CAACA,UAAUA,CAACA,MAAMA,CAAEA,CAACA,CAAEA,CAACA,QAAQA,EAAEA,CAACA;gBAC1CA,CAACA;gBACFF,WAACA;YAADA,CAZA,AAYCA,IAAA;YAZD,uBAYC,CAAA;YAED,oBAAe,KAAK,EAAC","file":"HTTP/Response.js","sourcesContent":["import * as Header from \"./Header\";\n\nexport class Class {\n\tconstructor( request:XMLHttpRequest ) {\n\t\tthis.status = request.status;\n\t\tthis.data = request.responseText;\n\t\tthis.setHeaders( request );\n\n\t\tthis.request = request;\n\t}\n\n\tstatus:number;\n\tdata:string;\n\theaders:Map<string, Header.Class>;\n\trequest:XMLHttpRequest;\n\n\n\tprivate setHeaders( request:XMLHttpRequest ):void {\n\t\tlet headersString:string = request.getAllResponseHeaders();\n\t\tif ( headersString ) {\n\t\t\tthis.headers = Header.Util.parseHeaders( headersString );\n\t\t} else {\n\t\t\tthis.headers = new Map<string, Header.Class>();\n\t\t}\n\t}\n}\n\nexport class Util {\n\tstatic getETag( response:Class ):string {\n\t\tif( ! response || ! response.headers ) return null;\n\n\t\tlet etagHeader:Header.Class = response.headers.get( \"ETag\" );\n\n\t\tif( ! etagHeader ) return null;\n\t\tif( ! etagHeader.values.length ) return null;\n\t\tif( etagHeader.values.length > 1 ) console.warn( \"The response contains more than one ETag. Response: %o\", response );\n\n\t\treturn etagHeader.values[ 0 ].toString();\n\t}\n}\n\nexport default Class;\n"],"sourceRoot":"/source/"}