{"version":3,"sources":["LDP/PersistedContainer.ts"],"names":[],"mappings":";;;;;IAkBA,qBAAsB,YAA0B,EAAE,MAAoB;QAAhD,4BAA0B,GAA1B,mBAA0B;QAAE,sBAAoB,GAApB,aAAoB;QACrE,IAAI,IAAI,GAAU,KAAK,CAAC,QAAQ,CAAE,YAAY,CAAE,GAAS,YAAY,GAAG,IAAI,CAAC;QAC7E,MAAM,GAAG,CAAC,CAAE,YAAY,IAAI,CAAE,KAAK,CAAC,QAAQ,CAAE,YAAY,CAAE,GAAG,YAAY,GAAG,CAAE,CAAC,CAAE,MAAM,GAAG,MAAM,GAAG,IAAI,CAAE,CAAC;QAE5G,0CAA0C;QAC1C,oGAAoG;QACpG,IAAI,QAAQ,GAAmC,MAAM,CAAC;QAEtD,EAAE,CAAA,CAAE,IAAI,KAAK,IAAK,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAE,CAAC;QAC/D,CAAC;QAAC,IAAI;YAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAE,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAE,CAAC;IAChE,CAAC;;;;;;;YAED;gBAAA;gBAqBA,CAAC;gBApBO,0BAAkB,GAAzB,UAA2B,QAAuB;oBACjD,MAAM,CAAC,CACL,KAAK,CAAC,WAAW,CAAE,QAAQ,EAAE,aAAa,CAAE,CAC7C,CAAC;gBACH,CAAC;gBAEM,gBAAQ,GAAf,UAAoD,iBAAmB;oBACtE,EAAE,CAAA,CAAE,OAAO,CAAC,kBAAkB,CAAE,iBAAiB,CAAG,CAAC;wBAAC,MAAM,CAAO,iBAAiB,CAAC;oBAErF,MAAM,CAAC,gBAAgB,CAAE,iBAAiB,EAAE;wBAC3C,aAAa,EAAE;4BACd,QAAQ,EAAE,KAAK;4BACf,UAAU,EAAE,KAAK;4BACjB,YAAY,EAAE,IAAI;4BAClB,KAAK,EAAE,WAAW;yBAClB;qBACD,CAAE,CAAC;oBAEJ,MAAM,CAAO,iBAAiB,CAAC;gBAChC,CAAC;gBACF,cAAC;YAAD,CArBA,AAqBC,IAAA;YArBD,6BAqBC,CAAA","file":"LDP/PersistedContainer.js","sourcesContent":["import * as Document from \"./../Document\";\nimport * as HTTP from \"./../HTTP\";\nimport * as PersistedDocument from \"./../PersistedDocument\";\nimport * as Pointer from \"./../Pointer\";\nimport * as RDF from \"./../RDF\";\nimport * as Utils from \"./../Utils\";\n\nexport interface Class extends PersistedDocument.Class {\n\tcreateChild( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tcreateChild( slug:string ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tcreateChild( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tcreateChild():Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n}\n\nfunction createChild( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( slug:string ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild():Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( slugOrObject:Object = null, object:Object = null ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n\tlet slug:string = Utils.isString( slugOrObject ) ? <any> slugOrObject : null;\n\tobject = !! slugOrObject && ! Utils.isString( slugOrObject ) ? slugOrObject : ( !! object ? object : null );\n\n\t// TODO: Check if the object is a document\n\t// TODO: If it's not a document turn it and any of the objects related to it into document/fragments\n\tlet document:Document.Class = <Document.Class> object;\n\n\tif( slug !== null ) {\n\t\treturn this._documents.createChild( this.id, slug, document );\n\t} else return this._documents.createChild( this.id, document );\n}\n\nexport class Factory {\n\tstatic hasClassProperties( document:Document.Class ):boolean {\n\t\treturn (\n\t\t\t\tUtils.hasFunction( document, \"createChild\" )\n\t\t);\n\t}\n\n\tstatic decorate<T extends PersistedDocument.Class>( persistedDocument:T ):T & Class {\n\t\tif( Factory.hasClassProperties( persistedDocument ) ) return <any> persistedDocument;\n\n\t\tObject.defineProperties( persistedDocument, {\n\t\t\t\"createChild\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChild,\n\t\t\t},\n\t\t} );\n\n\t\treturn <any> persistedDocument;\n\t}\n}\n"],"sourceRoot":"/source/"}