{"version":3,"sources":["LDP/PersistedContainer.ts"],"names":["createChild","Factory","Factory.constructor","Factory.hasClassProperties","Factory.decorate"],"mappings":";;;IAkBA,qBAAsB,YAA0B,EAAE,MAAoB;QAAhDA,4BAA0BA,GAA1BA,mBAA0BA;QAAEA,sBAAoBA,GAApBA,aAAoBA;QACrEA,IAAIA,IAAIA,GAAUA,KAAKA,CAACA,QAAQA,CAAEA,YAAYA,CAAEA,GAASA,YAAYA,GAAGA,IAAIA,CAACA;QAC7EA,MAAMA,GAAGA,CAACA,CAAEA,YAAYA,IAAIA,CAAEA,KAAKA,CAACA,QAAQA,CAAEA,YAAYA,CAAEA,GAAGA,YAAYA,GAAGA,CAAEA,CAACA,CAAEA,MAAMA,GAAGA,MAAMA,GAAGA,IAAIA,CAAEA,CAACA;QAE5GA,0CAA0CA;QAC1CA,oGAAoGA;QACpGA,IAAIA,QAAQA,GAAmCA,MAAMA,CAACA;QAEtDA,EAAEA,CAAAA,CAAEA,IAAIA,KAAKA,IAAKA,CAACA,CAACA,CAACA;YACpBA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,WAAWA,CAAEA,IAAIA,CAACA,EAAEA,EAAEA,IAAIA,EAAEA,QAAQA,CAAEA,CAACA;QAC/DA,CAACA;QAACA,IAAIA;YAACA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,WAAWA,CAAEA,IAAIA,CAACA,EAAEA,EAAEA,QAAQA,CAAEA,CAACA;IAChEA,CAACA;;;;;;;YAED;gBAAAC;gBAqBAC,CAACA;gBApBOD,0BAAkBA,GAAzBA,UAA2BA,QAAuBA;oBACjDE,MAAMA,CAACA,CACLA,KAAKA,CAACA,WAAWA,CAAEA,QAAQA,EAAEA,aAAaA,CAAEA,CAC7CA,CAACA;gBACHA,CAACA;gBAEMF,gBAAQA,GAAfA,UAAoDA,iBAAmBA;oBACtEG,EAAEA,CAAAA,CAAEA,OAAOA,CAACA,kBAAkBA,CAAEA,iBAAiBA,CAAGA,CAACA;wBAACA,MAAMA,CAAOA,iBAAiBA,CAACA;oBAErFA,MAAMA,CAACA,gBAAgBA,CAAEA,iBAAiBA,EAAEA;wBAC3CA,aAAaA,EAAEA;4BACdA,QAAQA,EAAEA,KAAKA;4BACfA,UAAUA,EAAEA,KAAKA;4BACjBA,YAAYA,EAAEA,IAAIA;4BAClBA,KAAKA,EAAEA,WAAWA;yBAClBA;qBACDA,CAAEA,CAACA;oBAEJA,MAAMA,CAAOA,iBAAiBA,CAACA;gBAChCA,CAACA;gBACFH,cAACA;YAADA,CArBA,AAqBCA,IAAA;YArBD,6BAqBC,CAAA","file":"LDP/PersistedContainer.js","sourcesContent":["import * as Document from \"./../Document\";\nimport * as HTTP from \"./../HTTP\";\nimport * as PersistedDocument from \"./../PersistedDocument\";\nimport * as Pointer from \"./../Pointer\";\nimport * as RDF from \"./../RDF\";\nimport * as Utils from \"./../Utils\";\n\nexport interface Class extends PersistedDocument.Class {\n\tcreateChild( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tcreateChild( slug:string ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tcreateChild( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n\tcreateChild():Promise<[ Pointer.Class, HTTP.Response.Class ]>;\n}\n\nfunction createChild( slug:string, object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( slug:string ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( object:Object ):Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild():Promise<[ Pointer.Class, HTTP.Response.Class ]>;\nfunction createChild( slugOrObject:Object = null, object:Object = null ):Promise<[ Pointer.Class, HTTP.Response.Class ]> {\n\tlet slug:string = Utils.isString( slugOrObject ) ? <any> slugOrObject : null;\n\tobject = !! slugOrObject && ! Utils.isString( slugOrObject ) ? slugOrObject : ( !! object ? object : null );\n\n\t// TODO: Check if the object is a document\n\t// TODO: If it's not a document turn it and any of the objects related to it into document/fragments\n\tlet document:Document.Class = <Document.Class> object;\n\n\tif( slug !== null ) {\n\t\treturn this._documents.createChild( this.id, slug, document );\n\t} else return this._documents.createChild( this.id, document );\n}\n\nexport class Factory {\n\tstatic hasClassProperties( document:Document.Class ):boolean {\n\t\treturn (\n\t\t\t\tUtils.hasFunction( document, \"createChild\" )\n\t\t);\n\t}\n\n\tstatic decorate<T extends PersistedDocument.Class>( persistedDocument:T ):T & Class {\n\t\tif( Factory.hasClassProperties( persistedDocument ) ) return <any> persistedDocument;\n\n\t\tObject.defineProperties( persistedDocument, {\n\t\t\t\"createChild\": {\n\t\t\t\twritable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChild,\n\t\t\t},\n\t\t} );\n\n\t\treturn <any> persistedDocument;\n\t}\n}\n"],"sourceRoot":"/source/"}