{"version":3,"sources":["NamedFragment.ts"],"names":[],"mappings":";;;;iBA4CW,OAAO;;;;;;;;;;;;;YAnClB;gBAAA;gBAiCA,CAAC;gBAhCA,oCAAkB,GAAlB,UAAoB,QAAuB;oBAC1C,MAAM,CAAC,CACN,KAAK,CAAC,kBAAkB,CAAE,QAAQ,EAAE,MAAM,CAAE,CAC5C,CAAC;gBACH,CAAC;gBAED,wBAAM,GAAN,UAAQ,IAAW,EAAE,QAAuB;oBAC3C,MAAM,CAAC,IAAI,CAAC,UAAU,CAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAE,CAAC;gBAC9C,CAAC;gBAED,4BAAU,GAAV,UAA8B,MAAQ,EAAE,IAAW,EAAE,QAAuB;oBAC3E,IAAI,GAAG,GAAU,QAAQ,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC;oBAE1C,IAAI,QAAQ,GAAkB,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,CAAE,CAAC;oBAEnF,EAAE,CAAA,CAAE,IAAI,CAAC,kBAAkB,CAAE,QAAQ,CAAG,CAAC;wBAAC,MAAM,CAAO,QAAQ,CAAC;oBAEhE,MAAM,CAAC,gBAAgB,CAAE,QAAQ,EAAE;wBAClC,MAAM,EAAE;4BACP,UAAU,EAAE,KAAK;4BACjB,YAAY,EAAE,IAAI;4BAClB,GAAG,EAAE;gCACJ,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAE,QAAQ,CAAC,EAAE,CAAE,CAAC;4BAChD,CAAC;4BACD,GAAG,EAAE,UAAU,KAAY;gCAC1B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC;4BAC1C,CAAC;yBACD;qBACD,CAAE,CAAC;oBAEJ,MAAM,CAAM,QAAQ,CAAC;gBACtB,CAAC;gBACF,cAAC;YAAD,CAjCA,AAiCC,IAAA;YAjCD,6BAiCC,CAAA;YAEU,qBAAA,OAAO,GAAW,IAAI,OAAO,EAAE,CAAA,CAAC","file":"NamedFragment.js","sourcesContent":["import * as Document from \"./Document\";\nimport * as Fragment from \"./Fragment\";\nimport * as RDF from \"./RDF\";\nimport * as Utils from \"./Utils\";\n\nexport interface Class extends Fragment.Class {\n\tslug:string;\n}\n\nexport class Factory {\n\thasClassProperties( resource:Fragment.Class ):boolean {\n\t\treturn (\n\t\t\tUtils.hasPropertyDefined( resource, \"slug\" )\n\t\t);\n\t}\n\n\tcreate( slug:string, document:Document.Class ):Class {\n\t\treturn this.createFrom( {}, slug, document );\n\t}\n\n\tcreateFrom<T extends Object>( object:T, slug:string, document:Document.Class ):T & Class {\n\t\tlet uri:string = document.id + \"#\" + slug;\n\n\t\tlet fragment:Fragment.Class = Fragment.factory.createFrom( object, uri, document );\n\n\t\tif( this.hasClassProperties( fragment ) ) return <any> fragment;\n\n\t\tObject.defineProperties( fragment, {\n\t\t\t\"slug\": {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function():string {\n\t\t\t\t\treturn RDF.URI.Util.getFragment( fragment.id );\n\t\t\t\t},\n\t\t\t\tset: function( value:string ):void {\n\t\t\t\t\tthis.id = this.document.id + \"#\" + value;\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\t\treturn <any>fragment;\n\t}\n}\n\nexport var factory:Factory = new Factory();\n\nexport default Class;\n"],"sourceRoot":"/source/"}