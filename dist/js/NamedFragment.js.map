{"version":3,"sources":["NamedFragment.ts"],"names":["Factory","Factory.constructor","Factory.hasClassProperties","Factory.create","Factory.createFrom"],"mappings":"AACA,IAAY,QAAQ,WAAM,YAAY,CAAC,CAAA;AACvC,IAAY,GAAG,WAAM,OAAO,CAAC,CAAA;AAC7B,IAAY,KAAK,WAAM,SAAS,CAAC,CAAA;AAMjC;IAAAA;IAiCAC,CAACA;IAhCAD,oCAAkBA,GAAlBA,UAAoBA,QAAuBA;QAC1CE,MAAMA,CAACA,CACNA,KAAKA,CAACA,kBAAkBA,CAAEA,QAAQA,EAAEA,MAAMA,CAAEA,CAC5CA,CAACA;IACHA,CAACA;IAEDF,wBAAMA,GAANA,UAAQA,IAAWA,EAAEA,QAAuBA;QAC3CG,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAAEA,EAAEA,EAAEA,IAAIA,EAAEA,QAAQA,CAAEA,CAACA;IAC9CA,CAACA;IAEDH,4BAAUA,GAAVA,UAA8BA,MAAQA,EAAEA,IAAWA,EAAEA,QAAuBA;QAC3EI,IAAIA,GAAGA,GAAUA,QAAQA,CAACA,EAAEA,GAAGA,GAAGA,GAAGA,IAAIA,CAACA;QAE1CA,IAAIA,QAAQA,GAAkBA,QAAQA,CAACA,OAAOA,CAACA,UAAUA,CAAEA,MAAMA,EAAEA,GAAGA,EAAEA,QAAQA,CAAEA,CAACA;QAEnFA,EAAEA,CAAAA,CAAEA,IAAIA,CAACA,kBAAkBA,CAAEA,QAAQA,CAAGA,CAACA;YAACA,MAAMA,CAAOA,QAAQA,CAACA;QAEhEA,MAAMA,CAACA,gBAAgBA,CAAEA,QAAQA,EAAEA;YAClCA,MAAMA,EAAEA;gBACPA,UAAUA,EAAEA,KAAKA;gBACjBA,YAAYA,EAAEA,IAAIA;gBAClBA,GAAGA,EAAEA;oBACJ,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAE,QAAQ,CAAC,EAAE,CAAE,CAAC;gBAChD,CAAC;gBACDA,GAAGA,EAAEA,UAAUA,KAAYA;oBAC1B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC;gBAC1C,CAAC;aACDA;SACDA,CAAEA,CAACA;QAEJA,MAAMA,CAAMA,QAAQA,CAACA;IACtBA,CAACA;IACFJ,cAACA;AAADA,CAjCA,AAiCCA,IAAA;AAjCY,eAAO,UAiCnB,CAAA;AAEU,eAAO,GAAW,IAAI,OAAO,EAAE,CAAC","file":"NamedFragment.js","sourcesContent":["import * as Document from \"./Document\";\nimport * as Fragment from \"./Fragment\";\nimport * as RDF from \"./RDF\";\nimport * as Utils from \"./Utils\";\n\nexport interface Class extends Fragment.Class {\n\tslug:string;\n}\n\nexport class Factory {\n\thasClassProperties( resource:Fragment.Class ):boolean {\n\t\treturn (\n\t\t\tUtils.hasPropertyDefined( resource, \"slug\" )\n\t\t);\n\t}\n\n\tcreate( slug:string, document:Document.Class ):Class {\n\t\treturn this.createFrom( {}, slug, document );\n\t}\n\n\tcreateFrom<T extends Object>( object:T, slug:string, document:Document.Class ):T & Class {\n\t\tlet uri:string = document.id + \"#\" + slug;\n\n\t\tlet fragment:Fragment.Class = Fragment.factory.createFrom( object, uri, document );\n\n\t\tif( this.hasClassProperties( fragment ) ) return <any> fragment;\n\n\t\tObject.defineProperties( fragment, {\n\t\t\t\"slug\": {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function():string {\n\t\t\t\t\treturn RDF.URI.Util.getFragment( fragment.id );\n\t\t\t\t},\n\t\t\t\tset: function( value:string ):void {\n\t\t\t\t\tthis.id = this.document.id + \"#\" + value;\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\t\treturn <any>fragment;\n\t}\n}\n\nexport var factory:Factory = new Factory();\n\nexport default Class;\n"],"sourceRoot":"/source/"}