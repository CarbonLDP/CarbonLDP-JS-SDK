{"version":3,"sources":["Context.ts"],"names":["Context","Context.constructor","Context.resolve","Context.hasSetting","Context.getSetting","Context.setSetting","Context.deleteSetting","Context.hasDefinition","Context.getDefinition","Context.getDefinitionURIs","Context.addDefinition","Context.setDefinition","Context.deleteDefinition"],"mappings":"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","file":"Context.js","sourcesContent":["/// <reference path=\"../typings/es6/es6.d.ts\" />\n\nimport Auth from \"./Auth\";\nimport Documents from \"./Documents\";\nimport * as Errors from \"./Errors\";\nimport * as RDF from \"./RDF\";\nimport * as Utils from \"./Utils\";\n\nclass Context {\n\t/* tslint:disable: variable-name */\n\tAuth:Auth;\n\tDocuments:Documents;\n\t/* tslint:enable: variable-name */\n\n\tparentContext:Context;\n\tprotected settings:Map<string, any>;\n\tprotected definitions:Map<string, Map<string, RDF.PropertyDescription>>;\n\n\tconstructor() {\n\t\tthis.settings = new Map<string, any>();\n\t\tthis.definitions = new Map<string, Map<string, RDF.PropertyDescription>>();\n\n\t\tthis.Auth = new Auth( this );\n\t\tthis.Documents = new Documents( this );\n\t}\n\n\tresolve( relativeURI:string ):string {\n\t\tthrow new Errors.IllegalStateError( \"Method needs to be implemented by child.\" );\n\t}\n\n\thasSetting( name:string ):boolean {\n\t\treturn (\n\t\t\tthis.settings.has( name ) ||\n\t\t\t( this.parentContext && this.parentContext.hasSetting( name ) )\n\t\t);\n\t}\n\n\tgetSetting( name:string ):any {\n\t\tif( this.settings.has( name ) ) return this.settings.get( name );\n\t\tif( this.parentContext && this.parentContext.hasSetting( name ) ) return this.parentContext.getSetting( name );\n\t\treturn null;\n\t}\n\n\tsetSetting( name:string, value:any ):any {\n\t\tthis.settings.set( name, value );\n\t}\n\n\tdeleteSetting( name:string ):any {\n\t\tthis.settings.delete( name );\n\t}\n\n\thasDefinition( uri:string ):boolean {\n\t\tif ( this.definitions.has( uri ) ) return true;\n\t\tif ( this.parentContext && this.parentContext.hasDefinition( uri ) ) return true;\n\t\treturn false;\n\t}\n\n\tgetDefinition( uri:string ):Map<string, RDF.PropertyDescription> {\n\t\tlet descriptions:Map<string, RDF.PropertyDescription> = new Map<string, RDF.PropertyDescription>();\n\t\tif ( this.definitions.has( uri ) ) {\n\t\t\tUtils.M.extend<string, RDF.PropertyDescription>( descriptions, this.definitions.get( uri ) );\n\t\t\tif ( this.parentContext && this.parentContext.hasDefinition( uri ) ) Utils.M.extend( descriptions, this.parentContext.getDefinition( uri ) );\n\t\t}\n\t\treturn descriptions;\n\t}\n\n\tgetDefinitionURIs():string[] {\n\t\tlet uris:string[] = Utils.A.from<string>( this.definitions.keys() );\n\t\tif ( this.parentContext ) uris = Utils.A.joinWithoutDuplicates<string>( uris, this.parentContext.getDefinitionURIs() );\n\t\treturn uris;\n\t}\n\n\taddDefinition( uri:string, descriptions:Map<string, RDF.PropertyDescription> ):void;\n\taddDefinition( uri:string, descriptions:Object ):void;\n\taddDefinition( uri:string, descriptions:any ):void {\n\t\tlet extender:Map<string, RDF.PropertyDescription>;\n\t\tif ( Utils.isMap( descriptions ) ) {\n\t\t\textender = <any> descriptions;\n\t\t} else if ( Utils.isObject( descriptions ) ) {\n\t\t\textender = <any> Utils.M.from( descriptions );\n\t\t} else throw new Errors.IllegalArgumentError( \"descriptions must be a Map or an Object\" );\n\n\t\tif ( this.definitions.has( uri ) ) {\n\t\t\tUtils.M.extend( this.definitions.get( uri ), extender );\n\t\t} else {\n\t\t\tthis.definitions.set( uri, extender );\n\t\t}\n\t}\n\n\tsetDefinition( uri:string, descriptions:Map<string, RDF.PropertyDescription> ):void;\n\tsetDefinition( uri:string, descriptions:Object ):void {\n\t\tlet extender:Map<string, RDF.PropertyDescription>;\n\t\tif ( Utils.isMap( descriptions ) ) {\n\t\t\textender = <any> descriptions;\n\t\t} else if ( Utils.isObject( descriptions ) ) {\n\t\t\textender = <any> Utils.M.from( descriptions );\n\t\t} else throw new Errors.IllegalArgumentError( \"descriptions must be a Map or an Object\" );\n\n\t\tthis.definitions.set( uri, extender );\n\t}\n\n\tdeleteDefinition( uri:string ):void {\n\t\tthis.definitions.delete( uri );\n\t}\n}\n\nexport default Context;\n"],"sourceRoot":"/source/"}