{"version":3,"sources":["JSONLDConverter.ts"],"names":[],"mappings":"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","file":"JSONLDConverter.js","sourcesContent":["import * as Errors from \"./Errors\";\nimport * as ObjectSchema from \"./ObjectSchema\";\nimport * as NS from \"./NS\";\nimport * as Pointer from \"./Pointer\";\nimport * as RDF from \"./RDF\";\nimport * as Utils from \"./Utils\";\n\n// TODO: Use Literal.Parsers to parse literals\nexport class Class {\n\tprivate _literalSerializers:Map<string, RDF.Literal.Serializer>;\n\n\tget literalSerializers():Map<string, RDF.Literal.Serializer> { return this._literalSerializers; };\n\n\tprivate static getDefaultSerializers():Map<string, RDF.Literal.Serializer> {\n\t\tlet literalSerializers:Map<string, RDF.Literal.Serializer> = new Map<string, RDF.Literal.Serializer>();\n\n\t\tliteralSerializers.set( NS.XSD.DataType.date, RDF.Literal.Serializers.XSD.dateSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.dateTime, RDF.Literal.Serializers.XSD.dateTimeSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.time, RDF.Literal.Serializers.XSD.timeSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.integer, RDF.Literal.Serializers.XSD.integerSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.int, RDF.Literal.Serializers.XSD.integerSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.unsignedInt, RDF.Literal.Serializers.XSD.unsignedIntegerSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.long, RDF.Literal.Serializers.XSD.integerSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.unsignedLong, RDF.Literal.Serializers.XSD.unsignedIntegerSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.float, RDF.Literal.Serializers.XSD.floatSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.double, RDF.Literal.Serializers.XSD.floatSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.boolean, RDF.Literal.Serializers.XSD.booleanSerializer );\n\t\tliteralSerializers.set( NS.XSD.DataType.string, RDF.Literal.Serializers.XSD.stringSerializer );\n\n\t\treturn literalSerializers;\n\t}\n\n\tconstructor( literalSerializers:Map<string, RDF.Literal.Serializer> = null ) {\n\t\tthis._literalSerializers = ! ! literalSerializers ? literalSerializers : Class.getDefaultSerializers();\n\t}\n\n\tcompact( expandedObjects:Object[], targetObjects:Object[], digestedSchema:ObjectSchema.DigestedObjectSchema, pointerLibrary:Pointer.Library ):Object[];\n\tcompact( expandedObject:Object, targetObject:Object, digestedSchema:ObjectSchema.DigestedObjectSchema, pointerLibrary:Pointer.Library ):Object;\n\tcompact( expandedObjects:Object[], digestedSchema:ObjectSchema.DigestedObjectSchema, pointerLibrary:Pointer.Library ):Object[];\n\tcompact( expandedObject:Object, digestedSchema:ObjectSchema.DigestedObjectSchema, pointerLibrary:Pointer.Library ):Object;\n\tcompact( expandedObjectOrObjects:any, targetObjectOrObjectsOrDigestedContext:any, digestedSchemaOrPointerLibrary:any, pointerLibrary:Pointer.Library = null ):any {\n\t\tlet targetObjectOrObjects:any = ! pointerLibrary ? null : targetObjectOrObjectsOrDigestedContext;\n\t\tlet digestedSchema:any = ! pointerLibrary ? targetObjectOrObjectsOrDigestedContext : digestedSchemaOrPointerLibrary;\n\t\tpointerLibrary = ! pointerLibrary ? digestedSchemaOrPointerLibrary : pointerLibrary;\n\n\t\tif( ! Utils.isArray( expandedObjectOrObjects ) ) return this.compactSingle( expandedObjectOrObjects, targetObjectOrObjects, digestedSchema, pointerLibrary );\n\n\t\tlet expandedObjects:Object[] = expandedObjectOrObjects;\n\t\tlet targetObjects:Object[] = ! ! targetObjectOrObjects ? targetObjectOrObjects : [];\n\t\tfor( let i:number = 0, length:number = expandedObjects.length; i < length; i ++ ) {\n\t\t\tlet expandedObject:Object = expandedObjects[ i ];\n\t\t\tlet targetObject:Object = targetObjects[ i ] = ! ! targetObjects[ i ] ? targetObjects[ i ] : {};\n\n\t\t\tthis.compactSingle( expandedObject, targetObject, digestedSchema, pointerLibrary );\n\t\t}\n\n\t\treturn targetObjects;\n\t}\n\n\texpand( compactedObjects:Object[], digestedSchema:ObjectSchema.DigestedObjectSchema ):RDF.Node.Class[];\n\texpand( compactedObject:Object, digestedSchema:ObjectSchema.DigestedObjectSchema ):RDF.Node.Class;\n\texpand( compactedObjectOrObjects:Object[], digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tif( ! Utils.isArray( compactedObjectOrObjects ) ) return this.expandSingle( compactedObjectOrObjects, digestedSchema );\n\t}\n\n\tprivate expandSingle( compactedObject:Object, digestedSchema:ObjectSchema.DigestedObjectSchema ):RDF.Node.Class {\n\t\tlet expandedObject:any = {};\n\n\t\texpandedObject[ \"@id\" ] = ! ! compactedObject[ \"id\" ] ? compactedObject[ \"id\" ] : \"\";\n\t\tif( ! ! compactedObject[ \"types\" ] ) expandedObject[ \"@type\" ] = compactedObject[ \"types\" ];\n\n\t\tUtils.forEachOwnProperty( compactedObject, ( propertyName:string, value:any ):void => {\n\t\t\tif( propertyName === \"id\" ) return;\n\n\t\t\tlet expandedValue:any;\n\t\t\tif( digestedSchema.properties.has( propertyName ) ) {\n\t\t\t\tlet definition:ObjectSchema.DigestedPropertyDefinition = digestedSchema.properties.get( propertyName );\n\t\t\t\texpandedValue = this.expandProperty( value, definition, digestedSchema );\n\t\t\t\tpropertyName = definition.uri.toString();\n\n\t\t\t} else if( RDF.URI.Util.isAbsolute( propertyName ) ) {\n\t\t\t\texpandedValue = this.expandPropertyValues( value, digestedSchema );\n\n\t\t\t} else if( digestedSchema.vocab ) {\n\t\t\t\texpandedValue = this.expandPropertyValue( value, digestedSchema );\n\t\t\t\tpropertyName = RDF.URI.Util.resolve( digestedSchema.vocab, propertyName );\n\t\t\t}\n\n\t\t\tif( ! expandedValue ) return;\n\t\t\texpandedObject[ propertyName ] = expandedValue;\n\t\t} );\n\n\t\treturn expandedObject;\n\t}\n\n\tprivate expandProperty( propertyValue:any, propertyDefinition:ObjectSchema.DigestedPropertyDefinition, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tswitch( propertyDefinition.containerType ) {\n\t\t\tcase null:\n\t\t\t\t// Property is not a list\n\t\t\t\tif( propertyDefinition.literal ) {\n\t\t\t\t\treturn this.expandPropertyLiteral( propertyValue, propertyDefinition.literalType.toString() );\n\t\t\t\t} else if( propertyDefinition.literal === false ) {\n\t\t\t\t\treturn this.expandPropertyPointer( propertyValue, digestedSchema );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.expandPropertyValue( propertyValue, digestedSchema );\n\t\t\t\t}\n\t\t\tcase ObjectSchema.ContainerType.LIST:\n\t\t\t\tif( propertyDefinition.literal ) {\n\t\t\t\t\treturn this.expandPropertyLiteralList( propertyValue, propertyDefinition.literalType.toString() );\n\t\t\t\t} else if( propertyDefinition.literal === false ) {\n\t\t\t\t\treturn this.expandPropertyPointerList( propertyValue, digestedSchema );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.expandPropertyList( propertyValue, digestedSchema );\n\t\t\t\t}\n\t\t\tcase ObjectSchema.ContainerType.SET:\n\t\t\t\tif( propertyDefinition.literal ) {\n\t\t\t\t\treturn this.expandPropertyLiterals( propertyValue, propertyDefinition.literalType.toString() );\n\t\t\t\t} else if( propertyDefinition.literal === false ) {\n\t\t\t\t\treturn this.expandPropertyPointers( propertyValue, digestedSchema );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.expandPropertyValues( propertyValue, digestedSchema );\n\t\t\t\t}\n\t\t\tcase ObjectSchema.ContainerType.LANGUAGE:\n\t\t\t\treturn this.expandPropertyLanguageMap( propertyValue );\n\t\t\tdefault:\n\t\t\t\tthrow new Errors.IllegalArgumentError( \"The containerType specified is not supported.\" );\n\t\t}\n\t}\n\n\tprivate expandPropertyValue( propertyValue:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tif( Utils.isArray( propertyValue ) ) {\n\t\t\treturn this.expandPropertyValues( propertyValue, digestedSchema );\n\t\t} else {\n\t\t\tlet expandedValue:RDF.Node.Class = this.expandValue( propertyValue, digestedSchema );\n\n\t\t\tif( ! expandedValue ) return null;\n\n\t\t\treturn [ expandedValue ];\n\t\t}\n\t}\n\n\tprivate expandPropertyPointer( propertyValue:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tlet expandedPointer:RDF.Node.Class = this.expandPointer( propertyValue, digestedSchema );\n\n\t\tif( ! expandedPointer ) return null;\n\n\t\treturn [ expandedPointer ];\n\t}\n\n\tprivate expandPropertyLiteral( propertyValue:any, literalType:string ):any {\n\t\t// TODO: Language\n\t\tlet serializedValue:string = this.serializeLiteral( propertyValue, literalType );\n\n\t\tif( serializedValue === null ) return null;\n\n\t\treturn [\n\t\t\t{\"@value\": serializedValue, \"@type\": literalType},\n\t\t];\n\t}\n\n\tprivate expandPropertyList( propertyValues:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tpropertyValues = Utils.isArray( propertyValues ) ? propertyValues : [ propertyValues ];\n\n\t\tlet expandedArray:any = this.expandArray( propertyValues, digestedSchema );\n\n\t\tif( ! expandedArray ) return null;\n\n\t\treturn [\n\t\t\t{\"@list\": expandedArray},\n\t\t];\n\t}\n\n\tprivate expandPropertyPointerList( propertyValues:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tlet listValues:Array<any> = this.expandPropertyPointers( propertyValues, digestedSchema );\n\n\t\treturn [\n\t\t\t{\"@list\": listValues},\n\t\t];\n\t}\n\n\tprivate expandPropertyLiteralList( propertyValues:any, literalType:string ):any {\n\t\tlet listValues:Array<any> = this.expandPropertyLiterals( propertyValues, literalType );\n\n\t\treturn [\n\t\t\t{\"@list\": listValues},\n\t\t];\n\t}\n\n\tprivate expandPropertyValues( propertyValues:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tpropertyValues = Utils.isArray( propertyValues ) ? propertyValues : [ propertyValues ];\n\n\t\tlet expandedArray:any = this.expandArray( propertyValues, digestedSchema );\n\n\t\tif( ! expandedArray ) return null;\n\n\t\treturn expandedArray;\n\t}\n\n\tprivate expandPropertyPointers( propertyValues:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tpropertyValues = Utils.isArray( propertyValues ) ? propertyValues : [ propertyValues ];\n\n\t\tlet expandedPointers:Array<any> = [];\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tlet expandedPointer:RDF.Node.Class = this.expandPointer( propertyValue, digestedSchema );\n\t\t\tif( ! expandedPointer ) continue;\n\n\t\t\texpandedPointers.push( expandedPointer );\n\t\t}\n\n\t\treturn expandedPointers;\n\t}\n\n\tprivate expandPropertyLiterals( propertyValues:any, literalType:string ):any {\n\t\tpropertyValues = Utils.isArray( propertyValues ) ? propertyValues : [ propertyValues ];\n\n\t\tlet listValues:Array<any> = [];\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tlet serializedValue:string = this.serializeLiteral( propertyValue, literalType );\n\t\t\tif( ! serializedValue ) continue;\n\n\t\t\tlistValues.push( {\"@value\": serializedValue, \"@type\": literalType} );\n\t\t}\n\n\t\treturn listValues;\n\t}\n\n\tprivate expandPropertyLanguageMap( propertyValue:any ):any {\n\t\tif( ! Utils.isObject( propertyValue ) ) {\n\t\t\t// TODO: Warn of data loss\n\t\t\treturn null;\n\t\t}\n\n\t\tlet mapValues:Array<any> = [];\n\t\tUtils.forEachOwnProperty( propertyValue, ( languageTag:string, value:any ):void => {\n\t\t\t// TODO: Validate language tags\n\n\t\t\tlet serializedValue:string = this.literalSerializers.get( NS.XSD.DataType.string ).serialize( value );\n\t\t\tmapValues.push( {\"@value\": serializedValue, \"@type\": NS.XSD.DataType.string, \"@language\": languageTag} );\n\t\t} );\n\n\t\treturn mapValues;\n\t}\n\n\tprivate serializeLiteral( propertyValue:any, literalType:string ):string {\n\t\tif( Pointer.Factory.is( propertyValue ) ) {\n\t\t\t// TODO: Warn of data loss\n\t\t\treturn null;\n\t\t}\n\n\t\tif( ! this.literalSerializers.has( literalType ) ) {\n\t\t\t// TODO: Warn of data loss\n\t\t\treturn null;\n\t\t}\n\n\t\ttry {\n\t\t\treturn this.literalSerializers.get( literalType ).serialize( propertyValue );\n\t\t} catch( error ) {\n\t\t\t// TODO: Warn of data loss\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tprivate expandPointer( propertyValue:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):RDF.Node.Class {\n\t\tlet id:string = Pointer.Factory.is( propertyValue ) ? propertyValue.id : Utils.isString( propertyValue ) ? propertyValue : null;\n\t\tif( ! id ) {\n\t\t\t// TODO: Warn of data loss\n\t\t\treturn null;\n\t\t}\n\n\t\tid = ObjectSchema.Digester.resolvePrefixedURI( new RDF.URI.Class( id ), digestedSchema ).stringValue;\n\t\treturn {\"@id\": id};\n\t}\n\n\tprivate expandArray( propertyValue:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tlet listValues:Array<any> = [];\n\t\tfor( let listValue of propertyValue ) {\n\t\t\tlet expandedValue:any = this.expandValue( listValue, digestedSchema );\n\t\t\tif( ! expandedValue ) continue;\n\n\t\t\tlistValues.push( expandedValue );\n\t\t}\n\n\t\tif( ! listValues.length ) return null;\n\n\t\treturn listValues;\n\t}\n\n\tprivate expandValue( propertyValue:any, digestedSchema:ObjectSchema.DigestedObjectSchema ):any {\n\t\tif( Utils.isArray( propertyValue ) ) {\n\t\t\t// TODO: Lists of lists are not currently supported by the spec\n\t\t\treturn null;\n\t\t} else if( Pointer.Factory.is( propertyValue ) ) {\n\t\t\treturn this.expandPointer( propertyValue, digestedSchema );\n\t\t} else {\n\t\t\treturn this.expandLiteral( propertyValue );\n\t\t}\n\t}\n\n\tprivate expandLiteral( literalValue:any ):any {\n\t\tlet serializedValue:string;\n\t\tlet literalType:string;\n\t\tswitch( true ) {\n\t\t\tcase Utils.isFunction( literalValue ):\n\t\t\t\treturn null;\n\t\t\tcase Utils.isDate( literalValue ):\n\t\t\t\tliteralType = NS.XSD.DataType.dateTime;\n\t\t\t\tbreak;\n\t\t\tcase Utils.isNumber( literalValue ):\n\t\t\t\tliteralType = NS.XSD.DataType.float;\n\t\t\t\tbreak;\n\t\t\tcase Utils.isBoolean( literalValue ):\n\t\t\t\tliteralType = NS.XSD.DataType.boolean;\n\t\t\t\tbreak;\n\t\t\tcase Utils.isString( literalValue ):\n\t\t\t\tliteralType = NS.XSD.DataType.string;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// TODO: Warn of data loss\n\t\t\t\treturn null;\n\t\t}\n\n\t\tserializedValue = this.literalSerializers.get( literalType ).serialize( literalValue );\n\n\t\treturn {\"@value\": serializedValue, \"@type\": literalType};\n\t}\n\n\tprivate compactSingle( expandedObject:any, targetObject:any, digestedSchema:ObjectSchema.DigestedObjectSchema, pointerLibrary:Pointer.Library ):void {\n\t\tlet propertyURINameMap:Map<string, string> = this.getPropertyURINameMap( digestedSchema );\n\n\t\tif( ! expandedObject[ \"@id\" ] ) throw new Errors.IllegalArgumentError( \"The expandedObject doesn't have an @id defined.\" );\n\t\ttargetObject[ \"id\" ] = expandedObject[ \"@id\" ];\n\n\t\ttargetObject[ \"types\" ] = ! ! expandedObject[ \"@type\" ] ? expandedObject[ \"@type\" ] : [];\n\n\t\tUtils.forEachOwnProperty( expandedObject, ( propertyURI:string, value:any ):void => {\n\t\t\tif( propertyURI === \"@id\" ) return;\n\t\t\tif( propertyURI === \"@type\" ) return;\n\n\t\t\tif( propertyURINameMap.has( propertyURI ) ) {\n\t\t\t\tlet propertyName:string = propertyURINameMap.get( propertyURI );\n\t\t\t\tthis.assignProperty( targetObject, expandedObject, propertyName, digestedSchema, pointerLibrary );\n\t\t\t} else {\n\t\t\t\tlet propertyName:string = digestedSchema.vocab ? RDF.URI.Util.getRelativeURI( propertyURI, digestedSchema.vocab ) : propertyURI;\n\t\t\t\tthis.assignURIProperty( targetObject, expandedObject, propertyURI, propertyName, pointerLibrary );\n\t\t\t}\n\t\t} );\n\n\t\treturn targetObject;\n\t}\n\n\tprivate assignProperty( compactedObject:any, expandedObject:any, propertyName:string, digestedSchema:ObjectSchema.DigestedObjectSchema, pointerLibrary:Pointer.Library ):void {\n\t\tlet propertyDefinition:ObjectSchema.DigestedPropertyDefinition = digestedSchema.properties.get( propertyName );\n\t\tcompactedObject[ propertyName ] = this.getPropertyValue( expandedObject, propertyDefinition, pointerLibrary );\n\t}\n\n\tprivate assignURIProperty( compactedObject:any, expandedObject:any, propertyURI:string, propertyName:string, pointerLibrary:Pointer.Library ):void {\n\t\tlet guessedDefinition:ObjectSchema.DigestedPropertyDefinition = new ObjectSchema.DigestedPropertyDefinition();\n\t\tguessedDefinition.uri = new RDF.URI.Class( propertyURI );\n\t\tguessedDefinition.containerType = this.getPropertyContainerType( expandedObject[ propertyURI ] );\n\n\t\tcompactedObject[ propertyName ] = this.getPropertyValue( expandedObject, guessedDefinition, pointerLibrary );\n\t}\n\n\tprivate getPropertyContainerType( propertyValues:any ):ObjectSchema.ContainerType {\n\t\tif( propertyValues.length === 1 ) {\n\t\t\tif( RDF.List.Factory.is( propertyValues[ 0 ] ) ) return ObjectSchema.ContainerType.LIST;\n\t\t} else {\n\t\t\treturn ObjectSchema.ContainerType.SET;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate getPropertyValue( expandedObject:any, propertyDefinition:ObjectSchema.DigestedPropertyDefinition, pointerLibrary:Pointer.Library ):any {\n\t\tlet propertyURI:string = propertyDefinition.uri.toString();\n\n\t\tswitch( propertyDefinition.containerType ) {\n\t\t\tcase null:\n\t\t\t\t// Property is not a list\n\t\t\t\tif( propertyDefinition.literal ) {\n\t\t\t\t\treturn this.getPropertyLiteral( expandedObject, propertyURI, propertyDefinition.literalType.toString() );\n\t\t\t\t} else if( propertyDefinition.literal === false ) {\n\t\t\t\t\treturn this.getPropertyPointer( expandedObject, propertyURI, pointerLibrary );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getProperty( expandedObject, propertyURI, pointerLibrary );\n\t\t\t\t}\n\t\t\tcase ObjectSchema.ContainerType.LIST:\n\t\t\t\tif( propertyDefinition.literal ) {\n\t\t\t\t\treturn this.getPropertyLiteralList( expandedObject, propertyURI, propertyDefinition.literalType.toString() );\n\t\t\t\t} else if( propertyDefinition.literal === false ) {\n\t\t\t\t\treturn this.getPropertyPointerList( expandedObject, propertyURI, pointerLibrary );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getPropertyList( expandedObject, propertyURI, pointerLibrary );\n\t\t\t\t}\n\t\t\tcase ObjectSchema.ContainerType.SET:\n\t\t\t\tif( propertyDefinition.literal ) {\n\t\t\t\t\treturn this.getPropertyLiterals( expandedObject, propertyURI, propertyDefinition.literalType.toString() );\n\t\t\t\t} else if( propertyDefinition.literal === false ) {\n\t\t\t\t\treturn this.getPropertyPointers( expandedObject, propertyURI, pointerLibrary );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getProperties( expandedObject, propertyURI, pointerLibrary );\n\t\t\t\t}\n\t\t\tcase ObjectSchema.ContainerType.LANGUAGE:\n\t\t\t\treturn this.getPropertyLanguageMap( expandedObject, propertyURI );\n\t\t\tdefault:\n\t\t\t\tthrow new Errors.IllegalArgumentError( \"The containerType specified is not supported.\" );\n\t\t}\n\t}\n\n\tprivate getProperty( expandedObject:any, propertyURI:string, pointerLibrary:Pointer.Library ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\t\tif( ! propertyValues.length ) return null;\n\n\t\tlet propertyValue:any = propertyValues[ 0 ];\n\n\t\treturn this.parseValue( propertyValue, pointerLibrary );\n\t}\n\n\tprivate getPropertyPointer( expandedObject:any, propertyURI:string, pointerLibrary:Pointer.Library ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tif( ! RDF.Node.Factory.is( propertyValue ) ) continue;\n\n\t\t\treturn pointerLibrary.getPointer( propertyValue[ \"@id\" ].trim() );\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate getPropertyLiteral( expandedObject:any, propertyURI:string, literalType:string ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tif( ! RDF.Literal.Factory.is( propertyValue ) ) continue;\n\t\t\tif( ! RDF.Literal.Factory.hasType( propertyValue, literalType ) ) continue;\n\n\t\t\treturn RDF.Literal.Factory.parse( propertyValue );\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate getPropertyList( expandedObject:any, propertyURI:string, pointerLibrary:Pointer.Library ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\n\t\tlet propertyList:RDF.List.Class = this.getList( propertyValues );\n\t\tif( ! propertyList ) return null;\n\n\t\tlet listValues:Array<any> = [];\n\t\tfor( let listValue of propertyList[ \"@list\" ] ) {\n\t\t\tlistValues.push( this.parseValue( listValue, pointerLibrary ) );\n\t\t}\n\n\t\treturn listValues;\n\t}\n\n\tprivate getPropertyPointerList( expandedObject:any, propertyURI:string, pointerLibrary:Pointer.Library ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\n\t\tlet propertyList:RDF.List.Class = this.getList( propertyValues );\n\t\tif( ! propertyList ) return null;\n\n\t\tlet listPointers:Array<any> = [];\n\t\tfor( let listValue of propertyList[ \"@list\" ] ) {\n\t\t\tif( ! RDF.Node.Factory.is( listValue ) ) continue;\n\n\t\t\tlet pointer:Pointer.Class = pointerLibrary.getPointer( listValue[ \"@id\" ].trim() );\n\t\t\tlistPointers.push( pointer );\n\t\t}\n\n\t\treturn listPointers;\n\t}\n\n\tprivate getPropertyLiteralList( expandedObject:any, propertyURI:string, literalType:string ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\n\t\tlet propertyList:RDF.List.Class = this.getList( propertyValues );\n\t\tif( ! propertyList ) return null;\n\n\t\tlet listLiterals:Array<any> = [];\n\t\tfor( let listValue of propertyList[ \"@list\" ] ) {\n\t\t\tif( ! RDF.Literal.Factory.is( listValue ) ) continue;\n\t\t\tif( ! RDF.Literal.Factory.hasType( <any> listValue, literalType ) ) continue;\n\n\t\t\tlistLiterals.push( RDF.Literal.Factory.parse( <any> listValue ) );\n\t\t}\n\n\t\treturn listLiterals;\n\t}\n\n\tprivate getProperties( expandedObject:any, propertyURI:string, pointerLibrary:Pointer.Library ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\t\tif( ! propertyValues.length ) return null;\n\n\t\tlet properties:Array<any> = [];\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tproperties.push( this.parseValue( propertyValue, pointerLibrary ) );\n\t\t}\n\n\t\treturn properties;\n\t}\n\n\tprivate getPropertyPointers( expandedObject:any, propertyURI:string, pointerLibrary:Pointer.Library ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\t\tif( ! propertyValues.length ) return null;\n\n\t\tlet propertyPointers:Array<any> = [];\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tif( ! RDF.Node.Factory.is( propertyValue ) ) continue;\n\n\t\t\tlet pointer:Pointer.Class = pointerLibrary.getPointer( propertyValue[ \"@id\" ].trim() );\n\t\t\tpropertyPointers.push( pointer );\n\t\t}\n\n\t\treturn propertyPointers;\n\t}\n\n\tprivate getPropertyLiterals( expandedObject:any, propertyURI:string, literalType:string ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\n\t\tlet propertyLiterals:Array<any> = [];\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tif( ! RDF.Literal.Factory.is( propertyValue ) ) continue;\n\t\t\tif( ! RDF.Literal.Factory.hasType( propertyValue, literalType ) ) continue;\n\n\t\t\tpropertyLiterals.push( RDF.Literal.Factory.parse( propertyValue ) );\n\t\t}\n\n\t\treturn propertyLiterals;\n\t}\n\n\tprivate getPropertyLanguageMap( expandedObject:any, propertyURI:string ):any {\n\t\tlet propertyValues:Array<any> = expandedObject[ propertyURI ];\n\t\tif( ! propertyValues ) return null;\n\n\t\tlet propertyLanguageMap:any = {};\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tif( ! RDF.Literal.Factory.is( propertyValue ) ) continue;\n\t\t\tif( ! RDF.Literal.Factory.hasType( propertyValue, NS.XSD.DataType.string ) ) continue;\n\n\t\t\tlet languageTag:string = propertyValue[ \"@language\" ];\n\t\t\tif( ! languageTag ) continue;\n\n\t\t\tpropertyLanguageMap[ languageTag ] = RDF.Literal.Factory.parse( propertyValue );\n\t\t}\n\n\t\treturn propertyLanguageMap;\n\t}\n\n\tprivate getList( propertyValues:Array<any> ):RDF.List.Class {\n\t\tfor( let propertyValue of propertyValues ) {\n\t\t\tif( ! RDF.List.Factory.is( propertyValue ) ) continue;\n\n\t\t\treturn propertyValue;\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate getPropertyURINameMap( digestedSchema:ObjectSchema.DigestedObjectSchema ):Map<string, string> {\n\t\tlet map:Map<string, string> = new Map<string, string>();\n\t\tdigestedSchema.properties.forEach( ( definition:ObjectSchema.DigestedPropertyDefinition, propertyName:string ):void => {\n\t\t\tmap.set( definition.uri.toString(), propertyName );\n\t\t} );\n\t\treturn map;\n\t}\n\n\tprivate parseValue( propertyValue:RDF.Value.Class, pointerLibrary:Pointer.Library ):any {\n\t\tif( RDF.Literal.Factory.is( propertyValue ) ) {\n\t\t\treturn RDF.Literal.Factory.parse( <any> propertyValue );\n\t\t} else if( RDF.Node.Factory.is( propertyValue ) ) {\n\t\t\treturn pointerLibrary.getPointer( propertyValue[ \"@id\" ].trim() );\n\t\t} else if( RDF.List.Factory.is( propertyValue ) ) {\n\t\t\tlet parsedValue:Array<any> = [];\n\t\t\tlet listValues:Array<any> = propertyValue[ \"@list\" ];\n\t\t\tfor( let listValue of listValues ) {\n\t\t\t\tparsedValue.push( this.parseValue( listValue, pointerLibrary ) );\n\t\t\t}\n\t\t\treturn parsedValue;\n\t\t} else {\n\t\t\t// TODO: What else could it be?\n\t\t}\n\t}\n}\n\nexport default Class;\n"],"sourceRoot":"/source/"}