{"version":3,"sources":["HTTP/Header.ts"],"names":[],"mappings":"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","file":"Header.js","sourcesContent":["export class Class {\n\tvalues:string[] = [];\n\n\tconstructor();\n\tconstructor( values:string[] );\n\tconstructor( value:string );\n\tconstructor( valueOrValues?:(string | string[]) ) {\n\t\tif( ! valueOrValues ) return;\n\n\t\tif( Array.isArray( valueOrValues ) ) {\n\t\t\tthis.values = valueOrValues;\n\t\t} else {\n\t\t\tthis.setValues( valueOrValues );\n\t\t}\n\t}\n\n\thasValue( value:string ) {\n\t\treturn this.values.indexOf( value ) !== -1;\n\t}\n\n\ttoString():string {\n\t\treturn this.values.join( \", \" );\n\t}\n\n\tprivate setValues( valuesString:string ):void {\n\t\tthis.values = [];\n\n\t\tlet valueStrings:string[] = valuesString.split( \",\" );\n\t\tfor( let i:number = 0, length:number = valueStrings.length; i < length; i ++ ) {\n\t\t\tlet valueString:string = valueStrings[ i ].trim();\n\t\t\tthis.values.push( valueString );\n\t\t}\n\t}\n}\n\nexport class Util {\n\tstatic parseHeaders( headersString:string ):Map<string, Class> {\n\t\tlet headers:Map<string, Class> = new Map<string, Class>();\n\n\t\tlet headerStrings:string[] = headersString.split( /\\r?\\n/ );\n\t\tfor( let i:number = 0, length:number = headerStrings.length; i < length; i ++ ) {\n\t\t\tlet headerString:string = headerStrings[ i ];\n\t\t\tif( ! headerString.trim() ) continue;\n\n\t\t\tlet parts:string[] = headerString.split( \":\" );\n\t\t\tif( parts.length < 2 ) throw new Error( \"ParseError: The header couldn't be parsed.\" );\n\t\t\tif( parts.length > 2 ) parts[ 1 ] = parts.slice( 1 ).join( \":\" );\n\n\t\t\tlet name:string = parts[ 0 ].trim().toLowerCase();\n\t\t\tlet header:Class = new Class( parts[ 1 ].trim() );\n\t\t\tif( headers.has( name ) ) {\n\t\t\t\tlet existingHeader:Class = headers.get( name );\n\t\t\t\texistingHeader.values.concat( header.values );\n\t\t\t} else headers.set( name, header );\n\t\t}\n\n\t\treturn headers;\n\t}\n}\n\nexport default Class;\n"]}