{"version":3,"sources":["SPARQL/QueryDocument/QueryContextPartial.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA,2DAA+C;AAE/C;IAA2B,yBAAkB;IAI5C,eAAa,QAAgC,EAAE,OAAgB;QAA/D,YACC,kBAAO,OAAO,CAAE,SAEhB;QADA,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;;IAC3B,CAAC;IAED,4BAAY,GAAZ,UAAc,MAAa,EAAE,IAAY;QACxC,EAAE,CAAA,CAAE,IAAI,KAAK,KAAK,CAAE,CAAC;YAAC,MAAM,CAAC,iBAAM,YAAY,YAAE,MAAM,CAAE,CAAC;QAE1D,IAAM,KAAK,GAAY,IAAI,CAAC,KAAK,CAAE,KAAK,CAAE,CAAC,KAAK,CAAE,CAAC,CAAE,CAAC;QACtD,IAAI,aAAa,GAA2B,IAAI,CAAC,SAAS,CAAC;QAC3D,OAAO,KAAK,CAAC,MAAM,EAAG,CAAC;YACtB,IAAM,IAAI,GAAU,KAAK,CAAC,KAAK,EAAE,CAAC;YAClC,IAAM,MAAM,GAAS,KAAK,CAAC,OAAO,CAAE,aAAa,CAAE,IAAI,CAAE,CAAE,CAAC,CAAC;gBAC5D,aAAa,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CAAE,aAAa,CAAE,IAAI,CAAE,CAAE,CAAC;YAEnD,aAAa,GAAG,MAAM,CAAC,IAAI,CAAE,UAAA,KAAK,IAAI,OAAA,KAAK,IAAI,kBAAkB,IAAI,KAAK,EAApC,CAAoC,CAAE,CAAC;YAC7E,EAAE,CAAA,CAAE,CAAE,aAAc,CAAC;gBAAC,MAAM,CAAC,iBAAM,YAAY,YAAE,MAAM,CAAE,CAAC;QAC3D,CAAC;QAED,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAAC,MAAM,CAAC;IAC9C,CAAC;IACF,YAAC;AAAD,CAzBA,AAyBC,CAzB0B,YAAY,CAAC,KAAK,GAyB5C;AAzBY,sBAAK;AA2BlB,kBAAe,KAAK,CAAC","file":"QueryContextPartial.js","sourcesContent":["import { Context } from \"../../Context\";\nimport { DigestedObjectSchema } from \"../../ObjectSchema\";\nimport * as PersistedDocument from \"../../PersistedDocument\";\nimport * as PersistedResource from \"../../PersistedResource\";\nimport * as QueryContext from \"./QueryContext\";\n\nexport class Class extends QueryContext.Class {\n\n\tprivate _document:PersistedDocument.Class;\n\n\tconstructor( document:PersistedDocument.Class, context?:Context ) {\n\t\tsuper( context );\n\t\tthis._document = document;\n\t}\n\n\tgetSchemaFor( object:object, path?:string ):DigestedObjectSchema {\n\t\tif( path === void 0 ) return super.getSchemaFor( object );\n\n\t\tconst parts:string[] = path.split( /\\./g ).slice( 1 );\n\t\tlet schemaLibrary:PersistedResource.Class = this._document;\n\t\twhile( parts.length ) {\n\t\t\tconst part:string = parts.shift();\n\t\t\tconst values:any[] = Array.isArray( schemaLibrary[ part ] ) ?\n\t\t\t\tschemaLibrary[ part ] : [ schemaLibrary[ part ] ];\n\n\t\t\tschemaLibrary = values.find( value => value && \"_partialMetadata\" in value );\n\t\t\tif( ! schemaLibrary ) return super.getSchemaFor( object );\n\t\t}\n\n\t\treturn schemaLibrary._partialMetadata.schema;\n\t}\n}\n\nexport default Class;\n"]}