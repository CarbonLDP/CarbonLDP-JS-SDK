{"version":3,"sources":["Endpoint.ts"],"names":[],"mappings":"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","file":"Endpoint.js","sourcesContent":["import { Document } from \"./Document\";\nimport { Documents } from \"./Documents\";\nimport { IllegalArgumentError } from \"./Errors/IllegalArgumentError\";\nimport {\n\tGETOptions,\n\tRequestOptions,\n} from \"./HTTP/Request\";\nimport { ModelDecorator } from \"./ModelDecorator\";\nimport { PersistedDocument } from \"./PersistedDocument\";\nimport { PersistedProtectedDocument } from \"./PersistedProtectedDocument\";\nimport { URI } from \"./RDF/URI\";\nimport { QueryDocumentBuilder } from \"./SPARQL/QueryDocument/QueryDocumentBuilder\";\nimport { QueryDocumentsBuilder } from \"./SPARQL/QueryDocument/QueryDocumentsBuilder\";\nimport {\n\tisObject,\n\tisString,\n\tpromiseMethod,\n} from \"./Utils\";\n\n\nexport interface EndpointModelFactory<B extends object, D extends Document, P extends PersistedProtectedDocument> {\n\tcreateFrom?( object:B ):B & D;\n\tdecorate?<T extends object>( object:T, documents:Documents ):T & P;\n}\n\nexport interface Endpoint<B extends object, D extends Document, P extends PersistedProtectedDocument> extends PersistedProtectedDocument {\n\t_ModelFactory:EndpointModelFactory<B, D, P>;\n\n\n\tget<T extends object>( relativeURI:string, requestOptions?:GETOptions, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & P>;\n\tget<T extends object>( relativeURI:string, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & P>;\n\n\n\tcreateChild<T extends B>( child:T, slug:string, requestOptions?:RequestOptions ):Promise<T & P>;\n\tcreateChild<T extends B>( child:T, requestOptions?:RequestOptions ):Promise<T & P>;\n\n\tcreateChildren<T extends B>( children:T[], slugs:string[], requestOptions?:RequestOptions ):Promise<(T & P)[]>;\n\tcreateChildren<T extends B>( children:T[], requestOptions?:RequestOptions ):Promise<(T & P)[]>;\n\n\tcreateChildAndRetrieve<T extends B>( child:T, slug:string, requestOptions?:RequestOptions ):Promise<T & P>;\n\tcreateChildAndRetrieve<T extends B>( child:T, requestOptions?:RequestOptions ):Promise<T & P>;\n\n\tcreateChildrenAndRetrieve<T extends B>( children:T[], slugs:string[], requestOptions?:RequestOptions ):Promise<(T & P)[]>;\n\tcreateChildrenAndRetrieve<T extends B>( children:T[], requestOptions?:RequestOptions ):Promise<(T & P)[]>;\n\n\n\tlistChildren( requestOptions?:RequestOptions ):Promise<P[]>;\n\n\tlistMembers( requestOptions?:RequestOptions ):Promise<P[]>;\n\n\tgetChildren<T extends object>( requestOptions?:RequestOptions, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\n\tgetChildren<T extends object>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\n\n\tgetMembers<T extends object>( requestOptions?:RequestOptions, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\n\tgetMembers<T extends object>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\n\n\n\tdelete( relativeURI:string, requestOptions?:RequestOptions ):Promise<void>;\n\tdelete( requestOptions?:RequestOptions ):Promise<void>;\n}\n\n\nexport interface EndpointFactory extends ModelDecorator<Endpoint<object, Document, PersistedProtectedDocument>, PersistedProtectedDocument> {\n\tisDecorated<B extends object, D extends Document, P extends PersistedProtectedDocument>( value:any ):value is Endpoint<B, D, P>;\n\n\tdecorate<T extends object, B extends object, D extends Document, P extends PersistedProtectedDocument>( object:T, documents:Documents ):T & Endpoint<B, D, P>;\n\n\n\tresolveEndpointURI( endpoint:Endpoint<any, any, any>, relativeURI:string ):Promise<string>;\n\n\tcreateChildren<B extends object, D extends Document>( endpoint:Endpoint<B, D, any>, objects:B[] ):Promise<(B & D)[]>;\n\tcreateChildren<B extends object, D extends Document>( endpoint:Endpoint<B, D, any>, object:B ):Promise<B & D>;\n\n\tdecorateChildren<B extends object, P extends PersistedProtectedDocument>( endpoint:Endpoint<B, any, P>, documents:(B & PersistedDocument)[] ):(B & P)[];\n\tdecorateChildren<B extends object, P extends PersistedProtectedDocument>( endpoint:Endpoint<B, any, P>, documents:B & PersistedDocument ):B & P;\n}\n\nexport const Endpoint:EndpointFactory = {\n\tisDecorated( value:any ):value is Endpoint<any, any, any> {\n\t\treturn isObject( value )\n\t\t\t&& value.hasOwnProperty( \"_ModelFactory\" )\n\n\t\t\t&& value[ \"get\" ] === get\n\n\t\t\t&& value[ \"createChild\" ] === createChild\n\t\t\t&& value[ \"createChildren\" ] === createChildren\n\t\t\t&& value[ \"createChildAndRetrieve\" ] === createChildAndRetrieve\n\t\t\t&& value[ \"createChildrenAndRetrieve\" ] === createChildrenAndRetrieve\n\n\t\t\t&& value[ \"listChildren\" ] === listChildren\n\t\t\t&& value[ \"listMembers\" ] === listMembers\n\t\t\t&& value[ \"getChildren\" ] === getChildren\n\t\t\t&& value[ \"getMembers\" ] === getMembers\n\n\t\t\t&& value[ \"delete\" ] === deleteChild\n\t\t\t;\n\t},\n\n\tdecorate<T extends object, B extends object, D extends Document, P extends PersistedProtectedDocument>( object:T, documents:Documents ):T & Endpoint<B, D, P> {\n\t\tif( Endpoint.isDecorated<B, D, P>( object ) ) return object;\n\n\t\tPersistedProtectedDocument.decorate( object, documents );\n\n\t\treturn Object.defineProperties( object, {\n\t\t\t\"_ModelFactory\": {\n\t\t\t\tconfigurable: true,\n\t\t\t},\n\t\t\t\"get\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: get,\n\t\t\t},\n\t\t\t\"createChild\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChild,\n\t\t\t},\n\t\t\t\"createChildren\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChildren,\n\t\t\t},\n\t\t\t\"createChildAndRetrieve\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChildAndRetrieve,\n\t\t\t},\n\t\t\t\"createChildrenAndRetrieve\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChildrenAndRetrieve,\n\t\t\t},\n\t\t\t\"listChildren\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: listChildren,\n\t\t\t},\n\t\t\t\"listMembers\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: listMembers,\n\t\t\t},\n\t\t\t\"getChildren\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: getChildren,\n\t\t\t},\n\t\t\t\"getMembers\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: getMembers,\n\t\t\t},\n\n\t\t\t\"delete\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: deleteChild,\n\t\t\t},\n\t\t} );\n\t},\n\n\n\tresolveEndpointURI( endpoint:Endpoint<any, any, any>, relativeURI:string ):Promise<string> {\n\t\treturn promiseMethod( () => {\n\t\t\tif( ! URI.isBaseOf( endpoint.id, relativeURI ) )\n\t\t\t\tthrow new IllegalArgumentError( `The URI \"${ relativeURI }\" isn't a child of \"${ endpoint.id }\".` );\n\n\t\t\treturn URI.resolve( endpoint.id, relativeURI );\n\t\t} );\n\t},\n\n\tcreateChildren<B extends object, D extends Document>( endpoint:Endpoint<B, D, any>, objects:B | B[] ):Promise<(B & D) | (B & D)[]> {\n\t\treturn promiseMethod( () => {\n\t\t\tif( ! endpoint._ModelFactory || ! endpoint._ModelFactory.createFrom )\n\t\t\t\treturn objects as (B & D) | (B & D)[];\n\n\t\t\tif( ! Array.isArray( objects ) ) {\n\t\t\t\tconst document:B & D = endpoint._ModelFactory.createFrom( objects );\n\n\t\t\t\tif( document ) return document;\n\t\t\t\tthrow new IllegalArgumentError( `Invalid base child object for the \"${ endpoint.id }\" endpoint.` );\n\t\t\t}\n\n\t\t\tconst documents:(B & D)[] = objects\n\t\t\t\t.map( object => endpoint._ModelFactory.createFrom( object ) )\n\t\t\t\t.filter( document => ! ! document )\n\t\t\t;\n\n\t\t\tif( documents.length === objects.length ) return documents;\n\t\t\tthrow new IllegalArgumentError( `Invalid base child objects for the \"${ endpoint.id }\" endpoint.` );\n\t\t} );\n\t},\n\n\tdecorateChildren<B extends object, P extends PersistedProtectedDocument>( endpoint:Endpoint<B, any, P>, documents:(B & PersistedDocument) | (B & PersistedDocument)[] ):(B & P) | (B & P)[] {\n\t\tif( ! endpoint._ModelFactory || ! endpoint._ModelFactory.decorate )\n\t\t\treturn documents as (B & P) | (B & P)[];\n\n\t\tif( ! Array.isArray( documents ) )\n\t\t\treturn endpoint._ModelFactory.decorate( documents, endpoint._documents );\n\n\t\treturn documents\n\t\t\t.map( document => endpoint._ModelFactory.decorate( document, endpoint._documents ) );\n\t},\n};\n\n\nfunction get<T extends object, P extends PersistedProtectedDocument>( relativeURI:string, requestOptions?:GETOptions, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & P>;\nfunction get<T extends object, P extends PersistedProtectedDocument>( relativeURI:string, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & P>;\nfunction get<T extends object, P extends PersistedProtectedDocument>( this:Endpoint<any, any, P>, relativeURI:string, optionsOrQueryBuilderFn:any, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & P> {\n\treturn Endpoint\n\t\t.resolveEndpointURI( this, relativeURI )\n\t\t.then( absoluteURI => this._documents\n\t\t\t.get( absoluteURI, optionsOrQueryBuilderFn, queryBuilderFn ) )\n\t\t.then( document => Endpoint.decorateChildren( this, document ) )\n\t\t;\n}\n\nfunction createChild<B extends object, D extends Document, P extends PersistedProtectedDocument>( child:B, slug:string, requestOptions?:RequestOptions ):Promise<B & P>;\nfunction createChild<B extends object, D extends Document, P extends PersistedProtectedDocument>( child:B, requestOptions?:RequestOptions ):Promise<B & P>;\nfunction createChild<B extends object, D extends Document, P extends PersistedProtectedDocument>( this:Endpoint<B, D, P>, child:B, slugOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<B & P> {\n\treturn Endpoint\n\t\t.createChildren( this, child )\n\t\t.then( base => this._documents\n\t\t\t.createChild( this.id, base, slugOrRequestOptions, requestOptions ) )\n\t\t.then( document => Endpoint.decorateChildren( this, document ) )\n\t\t;\n}\n\nfunction createChildren<B extends object, D extends Document, P extends PersistedProtectedDocument>( children:B[], slugs:string[], requestOptions?:RequestOptions ):Promise<(B & P)[]>;\nfunction createChildren<B extends object, D extends Document, P extends PersistedProtectedDocument>( children:B[], requestOptions?:RequestOptions ):Promise<(B & P)[]>;\nfunction createChildren<B extends object, D extends Document, P extends PersistedProtectedDocument>( this:Endpoint<B, D, P>, children:B[], slugsOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<(B & P)[]> {\n\treturn Endpoint\n\t\t.createChildren( this, children )\n\t\t.then( bases => this._documents\n\t\t\t.createChildren( this.id, bases, slugsOrRequestOptions, requestOptions ) )\n\t\t.then( documents => Endpoint.decorateChildren( this, documents ) )\n\t\t;\n}\n\nfunction createChildAndRetrieve<B extends object, D extends Document, P extends PersistedProtectedDocument>( child:B, slug:string, requestOptions?:RequestOptions ):Promise<B & P>;\nfunction createChildAndRetrieve<B extends object, D extends Document, P extends PersistedProtectedDocument>( child:B, requestOptions?:RequestOptions ):Promise<B & P>;\nfunction createChildAndRetrieve<B extends object, D extends Document, P extends PersistedProtectedDocument>( this:Endpoint<B, D, P>, child:B, slugOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<B & P> {\n\treturn Endpoint\n\t\t.createChildren( this, child )\n\t\t.then( base => this._documents\n\t\t\t.createChildAndRetrieve( this.id, base, slugOrRequestOptions, requestOptions ) )\n\t\t.then( document => Endpoint.decorateChildren( this, document ) )\n\t\t;\n}\n\nfunction createChildrenAndRetrieve<B extends object, D extends Document, P extends PersistedProtectedDocument>( children:B[], slugs:string[], requestOptions?:RequestOptions ):Promise<(B & P)[]>;\nfunction createChildrenAndRetrieve<B extends object, D extends Document, P extends PersistedProtectedDocument>( children:B[], requestOptions?:RequestOptions ):Promise<(B & P)[]>;\nfunction createChildrenAndRetrieve<B extends object, D extends Document, P extends PersistedProtectedDocument>( this:Endpoint<B, D, P>, children:B[], slugsOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<(B & P)[]> {\n\treturn Endpoint\n\t\t.createChildren( this, children )\n\t\t.then( bases => this._documents\n\t\t\t.createChildrenAndRetrieve( this.id, bases, slugsOrRequestOptions, requestOptions ) )\n\t\t.then( documents => Endpoint.decorateChildren( this, documents ) )\n\t\t;\n}\n\n\nfunction listChildren<P extends PersistedProtectedDocument>( this:Endpoint<{}, any, P>, requestOptions?:RequestOptions ):Promise<P[]> {\n\treturn this._documents\n\t\t.listChildren( this.id, requestOptions )\n\t\t.then( documents => Endpoint.decorateChildren( this, documents ) );\n}\n\nfunction listMembers<P extends PersistedProtectedDocument>( this:Endpoint<{}, any, P>, requestOptions?:RequestOptions ):Promise<P[]> {\n\treturn this._documents\n\t\t.listMembers( this.id, requestOptions )\n\t\t.then( documents => Endpoint.decorateChildren( this, documents ) )\n\t\t;\n}\n\nfunction getChildren<T extends object, P extends PersistedProtectedDocument>( requestOptions?:RequestOptions, childrenQuery?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\nfunction getChildren<T extends object, P extends PersistedProtectedDocument>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\nfunction getChildren<T extends object, P extends PersistedProtectedDocument>( this:Endpoint<T, any, P>, requestOptionsOrQueryBuilderFn?:any, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]> {\n\treturn this._documents\n\t\t.getChildren<T>( this.id, requestOptionsOrQueryBuilderFn, queryBuilderFn )\n\t\t.then( documents => Endpoint.decorateChildren( this, documents ) )\n\t\t;\n}\n\nfunction getMembers<T extends object, P extends PersistedProtectedDocument>( requestOptions?:RequestOptions, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\nfunction getMembers<T extends object, P extends PersistedProtectedDocument>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]>;\nfunction getMembers<T extends object, P extends PersistedProtectedDocument>( this:Endpoint<T, any, P>, requestOptionsOrQueryBuilderFn?:any, childrenQuery?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & P)[]> {\n\treturn this._documents\n\t\t.getMembers<T>( this.id, requestOptionsOrQueryBuilderFn, childrenQuery )\n\t\t.then( documents => Endpoint.decorateChildren( this, documents ) )\n\t\t;\n}\n\nfunction deleteChild( relativeURI:string, requestOptions?:RequestOptions ):Promise<void>;\nfunction deleteChild( requestOptions?:RequestOptions ):Promise<void>;\nfunction deleteChild( this:Endpoint<any, any, any>, relativeURIOrOptions:string | RequestOptions, requestOptions?:RequestOptions ):Promise<void> {\n\tconst relativeURI:string = isString( relativeURIOrOptions ) ? relativeURIOrOptions : \"\";\n\tif( isObject( relativeURIOrOptions ) ) requestOptions = relativeURIOrOptions;\n\n\treturn Endpoint\n\t\t.resolveEndpointURI( this, relativeURI )\n\t\t.then( uri => this._documents\n\t\t\t.delete( uri, requestOptions ) )\n\t\t;\n}\n"]}