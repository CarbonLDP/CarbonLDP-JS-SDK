{"version":3,"sources":["Endpoint.ts"],"names":[],"mappings":"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","file":"Endpoint.js","sourcesContent":["import { Documents } from \"./Documents\";\nimport { IllegalArgumentError } from \"./Errors/IllegalArgumentError\";\nimport {\n\tGETOptions,\n\tRequestOptions,\n} from \"./HTTP/Request\";\nimport { ModelDecorator } from \"./ModelDecorator\";\nimport { PersistedDocument } from \"./PersistedDocument\";\nimport { PersistedProtectedDocument } from \"./PersistedProtectedDocument\";\nimport { URI } from \"./RDF/URI\";\nimport { QueryDocumentBuilder } from \"./SPARQL/QueryDocument/QueryDocumentBuilder\";\nimport { QueryDocumentsBuilder } from \"./SPARQL/QueryDocument/QueryDocumentsBuilder\";\nimport {\n\tisObject,\n\tisString,\n\tpromiseMethod,\n} from \"./Utils\";\n\n\nexport interface EndpointModelFactory<T extends object, U extends PersistedProtectedDocument> extends ModelDecorator<U> {\n\tvalidateBase?( object:object ):object is T;\n}\n\nexport interface Endpoint<T extends object, U extends PersistedProtectedDocument> extends PersistedProtectedDocument {\n\t_ModelFactory:EndpointModelFactory<T, U>;\n\n\n\tget<W extends object>( relativeURI:string, requestOptions?:GETOptions, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<W & U>;\n\tget<W extends object>( relativeURI:string, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<W & U>;\n\n\n\tcreateChild<W extends T>( child:W, slug:string, requestOptions?:RequestOptions ):Promise<W & U>;\n\tcreateChild<W extends T>( child:W, requestOptions?:RequestOptions ):Promise<W & U>;\n\n\tcreateChildren<W extends T>( children:W[], slugs:string[], requestOptions?:RequestOptions ):Promise<(W & U)[]>;\n\tcreateChildren<W extends T>( children:W[], requestOptions?:RequestOptions ):Promise<(W & U)[]>;\n\n\tcreateChildAndRetrieve<W extends T>( child:W, slug:string, requestOptions?:RequestOptions ):Promise<W & U>;\n\tcreateChildAndRetrieve<W extends T>( child:W, requestOptions?:RequestOptions ):Promise<W & U>;\n\n\tcreateChildrenAndRetrieve<W extends T>( children:W[], slugs:string[], requestOptions?:RequestOptions ):Promise<(W & U)[]>;\n\tcreateChildrenAndRetrieve<W extends T>( children:W[], requestOptions?:RequestOptions ):Promise<(W & U)[]>;\n\n\n\tlistChildren( requestOptions?:RequestOptions ):Promise<U[]>;\n\n\tlistMembers( requestOptions?:RequestOptions ):Promise<U[]>;\n\n\tgetChildren<W extends object>( requestOptions?:RequestOptions, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(W & U)[]>;\n\tgetChildren<W extends object>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(W & U)[]>;\n\n\tgetMembers<W extends object>( requestOptions?:RequestOptions, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(W & U)[]>;\n\tgetMembers<W extends object>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(W & U)[]>;\n\n\n\tdelete( relativeURI:string, requestOptions?:RequestOptions ):Promise<void>;\n\tdelete( requestOptions?:RequestOptions ):Promise<void>;\n}\n\n\nexport interface EndpointFactory extends ModelDecorator<Endpoint<any, any>, PersistedProtectedDocument> {\n\tisDecorated<U extends object, W extends PersistedProtectedDocument>( object:object ):object is Endpoint<U, W>;\n\n\tdecorate<T extends object, U extends object, W extends PersistedProtectedDocument>( object:T, documents:Documents ):T & Endpoint<U, W>;\n\n\n\tresolveEndpointURI( endpoint:Endpoint<any, any>, relativeURI:string ):Promise<string>;\n\n\tresolveChildBase<T extends object>( endpoint:Endpoint<T, any>, objects:object[] ):Promise<T[]>;\n\tresolveChildBase<T extends object>( endpoint:Endpoint<T, any>, object:object ):Promise<T>;\n\n\tdecorateEndpointChild<T extends object, U extends PersistedProtectedDocument>( endpoint:Endpoint<T, U>, documents:(T & PersistedDocument)[] ):(T & U)[];\n\tdecorateEndpointChild<T extends object, U extends PersistedProtectedDocument>( endpoint:Endpoint<T, U>, documents:T & PersistedDocument ):T & U;\n}\n\nexport const Endpoint:EndpointFactory = {\n\tisDecorated<U extends object = any, W extends PersistedProtectedDocument = any>( object:object ):object is Endpoint<U, W> {\n\t\treturn isObject( object )\n\t\t\t&& object.hasOwnProperty( \"_ModelFactory\" )\n\n\t\t\t&& object[ \"get\" ] === get\n\n\t\t\t&& object[ \"createChild\" ] === createChild\n\t\t\t&& object[ \"createChildren\" ] === createChildren\n\t\t\t&& object[ \"createChildAndRetrieve\" ] === createChildAndRetrieve\n\t\t\t&& object[ \"createChildrenAndRetrieve\" ] === createChildrenAndRetrieve\n\n\t\t\t&& object[ \"listChildren\" ] === listChildren\n\t\t\t&& object[ \"listMembers\" ] === listMembers\n\t\t\t&& object[ \"getChildren\" ] === getChildren\n\t\t\t&& object[ \"getMembers\" ] === getMembers\n\n\t\t\t&& object[ \"delete\" ] === deleteChild\n\t\t\t;\n\t},\n\n\tdecorate<T extends object, U extends object, W extends PersistedProtectedDocument>( object:T, documents:Documents ):T & Endpoint<U, W> {\n\t\tif( Endpoint.isDecorated<U, W>( object ) ) return object;\n\n\t\tPersistedProtectedDocument.decorate( object, documents );\n\n\t\treturn Object.defineProperties( object, {\n\t\t\t\"_ModelFactory\": {\n\t\t\t\tconfigurable: true,\n\t\t\t},\n\t\t\t\"get\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: get,\n\t\t\t},\n\t\t\t\"createChild\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChild,\n\t\t\t},\n\t\t\t\"createChildren\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChildren,\n\t\t\t},\n\t\t\t\"createChildAndRetrieve\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChildAndRetrieve,\n\t\t\t},\n\t\t\t\"createChildrenAndRetrieve\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: createChildrenAndRetrieve,\n\t\t\t},\n\t\t\t\"listChildren\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: listChildren,\n\t\t\t},\n\t\t\t\"listMembers\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: listMembers,\n\t\t\t},\n\t\t\t\"getChildren\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: getChildren,\n\t\t\t},\n\t\t\t\"getMembers\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: getMembers,\n\t\t\t},\n\n\t\t\t\"delete\": {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: deleteChild,\n\t\t\t},\n\t\t} );\n\t},\n\n\n\tresolveEndpointURI( endpoint:Endpoint<any, any>, relativeURI:string ):Promise<string> {\n\t\treturn promiseMethod( () => {\n\t\t\tif( ! URI.isBaseOf( endpoint.id, relativeURI ) )\n\t\t\t\tthrow new IllegalArgumentError( `The URI \"${ relativeURI }\" isn't a child of \"${ endpoint.id }\".` );\n\n\t\t\treturn URI.resolve( endpoint.id, relativeURI );\n\t\t} );\n\t},\n\n\tresolveChildBase<T extends object>( endpoint:Endpoint<T, any>, objects:object | object[] ):Promise<T | T[]> {\n\t\treturn promiseMethod( () => {\n\t\t\tif( ! endpoint._ModelFactory || ! endpoint._ModelFactory.validateBase )\n\t\t\t\treturn objects as T | T[];\n\n\t\t\tif( ! Array.isArray( objects ) ) {\n\t\t\t\tif( endpoint._ModelFactory.validateBase( objects ) ) return objects;\n\t\t\t\tthrow new IllegalArgumentError( `Invalid base child object for the \"${ endpoint.id }\" endpoint.` );\n\t\t\t}\n\n\t\t\tif( objects.every( object => endpoint._ModelFactory.validateBase( object ) ) )\n\t\t\t\treturn objects as T[];\n\t\t\tthrow new IllegalArgumentError( `Invalid base child objects for the \"${ endpoint.id }\" endpoint.` );\n\t\t} );\n\t},\n\n\tdecorateEndpointChild<T extends object, U extends PersistedProtectedDocument>( endpoint:Endpoint<T, U>, documents:(T & PersistedDocument) | (T & PersistedDocument)[] ):(T & U) | (T & U)[] {\n\t\tif( ! endpoint._ModelFactory || ! endpoint._ModelFactory.decorate )\n\t\t\treturn documents as (T & U) | (T & U)[];\n\n\t\tif( ! Array.isArray( documents ) )\n\t\t\treturn endpoint._ModelFactory.decorate( documents, endpoint._documents );\n\n\t\treturn documents\n\t\t\t.map( document => endpoint._ModelFactory.decorate( document, endpoint._documents ) );\n\t},\n};\n\n\nfunction get<T extends object, U extends PersistedProtectedDocument>( relativeURI:string, requestOptions?:GETOptions, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & U>;\nfunction get<T extends object, U extends PersistedProtectedDocument>( relativeURI:string, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & U>;\nfunction get<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<any, U>, relativeURI:string, optionsOrQueryBuilderFn:any, queryBuilderFn?:( queryBuilder:QueryDocumentBuilder ) => QueryDocumentBuilder ):Promise<T & U> {\n\treturn Endpoint\n\t\t.resolveEndpointURI( this, relativeURI )\n\t\t.then( absoluteURI => this._documents\n\t\t\t.get( absoluteURI, optionsOrQueryBuilderFn, queryBuilderFn ) )\n\t\t.then( document => Endpoint.decorateEndpointChild( this, document ) )\n\t\t;\n}\n\nfunction createChild<T extends object, U extends PersistedProtectedDocument>( child:T, slug:string, requestOptions?:RequestOptions ):Promise<T & U>;\nfunction createChild<T extends object, U extends PersistedProtectedDocument>( child:T, requestOptions?:RequestOptions ):Promise<T & U>;\nfunction createChild<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<T, U>, child:T, slugOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<T & U> {\n\treturn Endpoint\n\t\t.resolveChildBase( this, child )\n\t\t.then( base => this._documents\n\t\t\t.createChild( this.id, base, slugOrRequestOptions, requestOptions ) )\n\t\t.then( document => Endpoint.decorateEndpointChild( this, document ) )\n\t\t;\n}\n\nfunction createChildren<T extends object, U extends PersistedProtectedDocument>( children:T[], slugs:string[], requestOptions?:RequestOptions ):Promise<(T & U)[]>;\nfunction createChildren<T extends object, U extends PersistedProtectedDocument>( children:T[], requestOptions?:RequestOptions ):Promise<(T & U)[]>;\nfunction createChildren<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<T, U>, children:T[], slugsOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<(T & U)[]> {\n\treturn Endpoint\n\t\t.resolveChildBase( this, children )\n\t\t.then( bases => this._documents\n\t\t\t.createChildren( this.id, bases, slugsOrRequestOptions, requestOptions ) )\n\t\t.then( documents => Endpoint.decorateEndpointChild( this, documents ) )\n\t\t;\n}\n\nfunction createChildAndRetrieve<T extends object, U extends PersistedProtectedDocument>( child:T, slug:string, requestOptions?:RequestOptions ):Promise<T & U>;\nfunction createChildAndRetrieve<T extends object, U extends PersistedProtectedDocument>( child:T, requestOptions?:RequestOptions ):Promise<T & U>;\nfunction createChildAndRetrieve<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<T, U>, child:T, slugOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<T & U> {\n\treturn Endpoint\n\t\t.resolveChildBase( this, child )\n\t\t.then( base => this._documents\n\t\t\t.createChildAndRetrieve( this.id, base, slugOrRequestOptions, requestOptions ) )\n\t\t.then( document => Endpoint.decorateEndpointChild( this, document ) )\n\t\t;\n}\n\nfunction createChildrenAndRetrieve<T extends object, U extends PersistedProtectedDocument>( children:T[], slugs:string[], requestOptions?:RequestOptions ):Promise<(T & U)[]>;\nfunction createChildrenAndRetrieve<T extends object, U extends PersistedProtectedDocument>( children:T[], requestOptions?:RequestOptions ):Promise<(T & U)[]>;\nfunction createChildrenAndRetrieve<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<T, U>, children:T[], slugsOrRequestOptions?:any, requestOptions?:RequestOptions ):Promise<(T & U)[]> {\n\treturn Endpoint\n\t\t.resolveChildBase( this, children )\n\t\t.then( bases => this._documents\n\t\t\t.createChildrenAndRetrieve( this.id, bases, slugsOrRequestOptions, requestOptions ) )\n\t\t.then( documents => Endpoint.decorateEndpointChild( this, documents ) )\n\t\t;\n}\n\n\nfunction listChildren<U extends PersistedProtectedDocument>( this:Endpoint<{}, U>, requestOptions?:RequestOptions ):Promise<U[]> {\n\treturn this._documents\n\t\t.listChildren( this.id, requestOptions )\n\t\t.then( documents => Endpoint.decorateEndpointChild( this, documents ) );\n}\n\nfunction listMembers<U extends PersistedProtectedDocument>( this:Endpoint<{}, U>, requestOptions?:RequestOptions ):Promise<U[]> {\n\treturn this._documents\n\t\t.listMembers( this.id, requestOptions )\n\t\t.then( documents => Endpoint.decorateEndpointChild( this, documents ) )\n\t\t;\n}\n\nfunction getChildren<T extends object, U extends PersistedProtectedDocument>( requestOptions?:RequestOptions, childrenQuery?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & U)[]>;\nfunction getChildren<T extends object, U extends PersistedProtectedDocument>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & U)[]>;\nfunction getChildren<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<T, U>, requestOptionsOrQueryBuilderFn?:any, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & U)[]> {\n\treturn this._documents\n\t\t.getChildren<T>( this.id, requestOptionsOrQueryBuilderFn, queryBuilderFn )\n\t\t.then( documents => Endpoint.decorateEndpointChild( this, documents ) )\n\t\t;\n}\n\nfunction getMembers<T extends object, U extends PersistedProtectedDocument>( requestOptions?:RequestOptions, queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & U)[]>;\nfunction getMembers<T extends object, U extends PersistedProtectedDocument>( queryBuilderFn?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & U)[]>;\nfunction getMembers<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<T, U>, requestOptionsOrQueryBuilderFn?:any, childrenQuery?:( queryBuilder:QueryDocumentsBuilder ) => QueryDocumentsBuilder ):Promise<(T & U)[]> {\n\treturn this._documents\n\t\t.getMembers<T>( this.id, requestOptionsOrQueryBuilderFn, childrenQuery )\n\t\t.then( documents => Endpoint.decorateEndpointChild( this, documents ) )\n\t\t;\n}\n\nfunction deleteChild( relativeURI:string, requestOptions?:RequestOptions ):Promise<void>;\nfunction deleteChild( requestOptions?:RequestOptions ):Promise<void>;\nfunction deleteChild<T extends object, U extends PersistedProtectedDocument>( this:Endpoint<T, U>, relativeURIOrOptions:string | RequestOptions, requestOptions?:RequestOptions ):Promise<void> {\n\tconst relativeURI:string = isString( relativeURIOrOptions ) ? relativeURIOrOptions : \"\";\n\tif( isObject( relativeURIOrOptions ) ) requestOptions = relativeURIOrOptions;\n\n\treturn Endpoint\n\t\t.resolveEndpointURI( this, relativeURI )\n\t\t.then( uri => this._documents\n\t\t\t.delete( uri, requestOptions ) )\n\t\t;\n}\n"]}