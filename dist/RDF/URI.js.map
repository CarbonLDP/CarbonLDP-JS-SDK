{"version":3,"sources":["RDF/URI.ts"],"names":[],"mappings":"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","file":"URI.js","sourcesContent":["import * as Errors from \"./../Errors\";\nimport * as ObjectSchema from \"./../ObjectSchema\";\nimport * as Utils from \"./../Utils\";\n\nexport class Class {\n\tstringValue:string;\n\n\tconstructor( stringValue:string ) {\n\t\tthis.stringValue = stringValue;\n\t}\n\n\ttoString():string {\n\t\treturn this.stringValue;\n\t}\n}\n\nexport class Util {\n\tstatic hasFragment( uri:string ):boolean {\n\t\treturn uri.indexOf( \"#\" ) !== - 1;\n\t}\n\n\tstatic hasQuery( uri:string ):boolean {\n\t\treturn uri.indexOf( \"?\" ) !== - 1;\n\t}\n\n\tstatic hasProtocol( uri:string ):boolean {\n\t\treturn Utils.S.startsWith( uri, \"https://\" ) || Utils.S.startsWith( uri, \"http://\" );\n\t}\n\n\tstatic isAbsolute( uri:string ):boolean {\n\t\treturn Utils.S.startsWith( uri, \"http://\" )\n\t\t\t|| Utils.S.startsWith( uri, \"https://\" )\n\t\t\t|| Utils.S.startsWith( uri, \"://\" );\n\t}\n\n\tstatic isRelative( uri:string ):boolean {\n\t\treturn ! Util.isAbsolute( uri );\n\t}\n\n\tstatic isBNodeID( uri:string ):boolean {\n\t\treturn Utils.S.startsWith( uri, \"_:\" );\n\t}\n\n\tstatic generateBNodeID():string {\n\t\treturn \"_:\" + Utils.UUID.generate();\n\t}\n\n\tstatic isPrefixed( uri:string ):boolean {\n\t\treturn ! Util.isAbsolute( uri ) && ! Util.isBNodeID( uri ) && Utils.S.contains( uri, \":\" );\n\t}\n\n\tstatic isFragmentOf( fragmentURI:string, uri:string ):boolean {\n\t\tif( ! Util.hasFragment( fragmentURI ) ) return false;\n\n\t\treturn Util.getDocumentURI( fragmentURI ) === uri;\n\t}\n\n\tstatic isBaseOf( baseURI:string, uri:string ):boolean {\n\t\tif( baseURI === uri ) return true;\n\t\tif( baseURI === \"\" ) return true;\n\t\tif( Util.isRelative( uri ) && ! Util.isPrefixed( uri ) ) return true;\n\n\t\tif( uri.startsWith( baseURI ) ) {\n\t\t\tif( Utils.S.endsWith( baseURI, \"/\" ) || Utils.S.endsWith( baseURI, \"#\" ) ) return true;\n\n\t\t\tlet relativeURI:string = uri.substring( baseURI.length );\n\t\t\tif( Utils.S.startsWith( relativeURI, \"/\" ) || Utils.S.startsWith( relativeURI, \"#\" ) ) return true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tstatic getRelativeURI( absoluteURI:string, base:string ):string {\n\t\tif( ! absoluteURI.startsWith( base ) )\n\t\t\treturn absoluteURI;\n\t\treturn absoluteURI.substring( base.length );\n\t}\n\n\tstatic getDocumentURI( uri:string ):string {\n\t\tlet parts:string[] = uri.split( \"#\" );\n\t\tif( parts.length > 2 ) throw new Error( \"IllegalArgument: The URI provided has more than one # sign.\" );\n\n\t\treturn parts[ 0 ];\n\t}\n\n\tstatic getFragment( uri:string ):string {\n\t\tlet parts:string[] = uri.split( \"#\" );\n\t\tif( parts.length < 2 ) return null;\n\t\tif( parts.length > 2 ) throw new Error( \"IllegalArgument: The URI provided has more than one # sign.\" );\n\n\t\treturn parts[ 1 ];\n\t}\n\n\tstatic getSlug( uri:string ):string {\n\t\tlet uriParts:string[] = uri.split( \"#\" );\n\t\tif( uriParts.length === 2 ) return Util.getSlug( uriParts[ 1 ] );\n\t\tif( uriParts.length > 2 ) throw new Errors.IllegalArgumentError( \"Invalid URI: The uri contains two '#' symbols.\" );\n\n\t\turi = uriParts[ 0 ];\n\n\t\tif( uri === \"\" ) return uri;\n\t\tif( uri === \"/\" ) return uri;\n\n\t\tlet parts:string[] = uri.split( \"/\" );\n\t\tif( parts[ parts.length - 1 ] === \"\" ) {\n\t\t\treturn parts[ parts.length - 2 ] + \"/\";\n\t\t} else {\n\t\t\treturn parts[ parts.length - 1 ];\n\t\t}\n\t}\n\n\tstatic getParameters( uri:string ):Map<string, string | string[]> {\n\t\tlet parameters:Map<string, string | string[]> = new Map();\n\n\t\tif( ! Util.hasQuery( uri ) ) return parameters;\n\n\t\turi.replace( /^.*\\?/, \"\" ).split( \"&\" ).forEach( ( param:string ) => {\n\t\t\tlet parts:string[] = param.replace( /\\+/g, \" \" ).split( \"=\" );\n\n\t\t\tlet key:string = parts.shift();\n\t\t\tlet val:string = parts.length > 0 ? parts.join( \"=\" ) : null;\n\n\t\t\tif( ! parameters.has( key ) ) {\n\t\t\t\tparameters.set( key, val );\n\t\t\t} else {\n\t\t\t\tparameters.set( key, [].concat( parameters.get( key ), val ) );\n\t\t\t}\n\t\t} );\n\n\t\treturn parameters;\n\t}\n\n\tstatic resolve( parentURI:string, childURI:string ):string {\n\t\tif( Util.isAbsolute( childURI ) || Util.isBNodeID( childURI ) || Util.isPrefixed( childURI ) )\n\t\t\treturn childURI;\n\n\t\tlet protocol:string = parentURI.substr( 0, parentURI.indexOf( \"://\" ) + 3 );\n\t\tlet path:string = parentURI.substr( parentURI.indexOf( \"://\" ) + 3,  parentURI.length - 1 );\n\t\tif( path.lastIndexOf( \"/\" ) === -1 ) path += \"/\";\n\n\t\tif( Utils.S.startsWith( childURI, \"?\" ) || Utils.S.startsWith( childURI, \"#\" ) ) {\n\t\t\tif( Util.hasQuery( path ) ) path = path.substr( 0, path.indexOf( \"?\" ) );\n\t\t\tif( Util.hasFragment( path ) && ( ! Utils.S.startsWith( childURI, \"?\" ) || Utils.S.endsWith( path, \"#\" ) ) ) path = Util.getDocumentURI( path );\n\t\t} else {\n\t\t\tpath = path.substr( 0, path.lastIndexOf( \"/\" ) + 1 );\n\t\t\tif( ! Utils.S.endsWith( path, \"?\" ) && ! Utils.S.endsWith( path, \"#\" )  && ! Utils.S.endsWith( path, \"/\" ) ) path += \"/\";\n\t\t}\n\n\t\tif( Utils.S.startsWith( childURI, \"/\" ) ) {\n\t\t\tchildURI = childURI.substr( 1, childURI.length );\n\t\t}\n\n\t\treturn protocol + path + childURI;\n\t}\n\n\tstatic removeProtocol( uri:string ):string {\n\t\tif( Utils.S.startsWith( uri, \"https://\" ) ) return uri.substr( 5, uri.length );\n\t\tif( Utils.S.startsWith( uri, \"http://\" ) ) return uri.substr( 4, uri.length );\n\t\treturn uri;\n\t}\n\n\tstatic prefix( uri:string, prefix:string, prefixURI:string ):string;\n\tstatic prefix( uri:string, objectSchema:ObjectSchema.DigestedObjectSchema ):string;\n\tstatic prefix( uri:string, prefixOrObjectSchema:any, prefixURI:string = null ):string {\n\t\tlet objectSchema:ObjectSchema.DigestedObjectSchema = ! Utils.isString( prefixOrObjectSchema ) ? prefixOrObjectSchema : null;\n\t\tlet prefix:string = Utils.isString( prefixOrObjectSchema ) ? prefixOrObjectSchema : null;\n\n\t\tif( objectSchema !== null ) return prefixWithObjectSchema( uri, objectSchema );\n\n\t\tif( Util.isPrefixed( uri ) || ! uri.startsWith( prefixURI ) )\n\t\t\treturn uri;\n\n\t\treturn `${ prefix }:${ uri.substring( prefixURI.length ) }`;\n\t}\n}\n\nfunction prefixWithObjectSchema( uri:string, objectSchema:ObjectSchema.DigestedObjectSchema ):string {\n\tlet prefixEntries:IterableIterator<[ string, Class ]> = objectSchema.prefixes.entries();\n\twhile( true ) {\n\t\tlet result:IteratorResult<[ string, Class ]> = prefixEntries.next();\n\t\tif( result.done ) return uri;\n\n\t\tlet [ prefix, prefixURI ]:[ string, Class ] = result.value;\n\t\tif( ! Util.isAbsolute( prefixURI.toString() ) ) continue;\n\t\tif( ! uri.startsWith( prefixURI.toString() ) ) continue;\n\n\t\treturn Util.prefix( uri, prefix, prefixURI.toString() );\n\t}\n}\n\nexport default Class;\n"]}