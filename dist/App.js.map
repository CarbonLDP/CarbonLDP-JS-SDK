{"version":3,"sources":["App.ts"],"names":[],"mappings":";;;;;;AAAA,gCAA4B,mBAAmB,CAAC,CAAA;AAIhD,IAAY,EAAE,WAAM,MAAM,CAAC,CAAA;AAE3B,IAAY,GAAG,WAAM,OAAO,CAAC,CAAA;AAC7B,IAAY,KAAK,WAAM,SAAS,CAAC,CAAA;AACjC,uBAAmB,UAAU,CAAC,CAAA;AAMjB,iBAAS,GAAU,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC;AAE3C,cAAM,GAAsB;IACxC,MAAM,EAAE;QACP,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI;QAC3B,OAAO,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM;KAC/B;IACD,eAAe,EAAE;QAChB,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa;QACpC,OAAO,EAAE,KAAK;KACd;IACD,cAAc,EAAE;QACf,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,YAAY;KACnC;CACD,CAAC;AAEF;IAAyB,8BAAe;IAMvC,oBAAa,aAAqB,EAAE,GAAS;QAC5C,kBAAO,aAAa,CAAE,CAAC;QACvB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QAEf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,GAAG,CAAE,CAAC;QACrC,IAAI,CAAC,MAAM,GAAG,IAAI,gBAAM,CAAE,IAAI,CAAE,CAAC;IAClC,CAAC;IAED,4BAAO,GAAP,UAAS,GAAU;QAClB,EAAE,CAAC,CAAE,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAE,GAAG,CAAG,CAAC;YAAC,MAAM,CAAC,GAAG,CAAC;QAEjD,IAAI,QAAQ,GAAU,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,CAAC;QAC9D,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAE,QAAQ,EAAE,GAAG,CAAE,CAAC;IAC9C,CAAC;IAEO,4BAAO,GAAf,UAAiB,QAAc;QAC9B,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC;IAClC,CAAC;IACF,iBAAC;AAAD,CAxBA,AAwBC,CAxBwB,yBAAe,GAwBvC;AAGc,eAAO,cAHrB;AAMD;IAAA;IAMA,CAAC;IALO,0BAAkB,GAAzB,UAA2B,QAAe;QACzC,MAAM,CAAC,CACN,KAAK,CAAC,kBAAkB,CAAE,QAAQ,EAAE,eAAe,CAAE,CACrD,CAAC;IACH,CAAC;IACF,cAAC;AAAD,CANA,AAMC,IAAA;AANY,eAAO,UAMnB,CAAA","file":"App.js","sourcesContent":["import AbstractContext from \"./AbstractContext\";\nimport Context from \"./Context\";\nimport * as Document from \"./Document\";\nimport * as LDP from \"./LDP\";\nimport * as NS from \"./NS\";\nimport * as ObjectSchema from \"./ObjectSchema\";\nimport * as RDF from \"./RDF\";\nimport * as Utils from \"./Utils\";\nimport Agents from \"./Agents\";\n\nexport interface Class extends Document.Class {\n\trootContainer:LDP.PersistedContainer.Class;\n}\n\nexport const RDF_CLASS:string = NS.CS.Class.Application;\n\nexport const SCHEMA:ObjectSchema.Class = {\n\t\"name\": {\n\t\t\"@id\": NS.CS.Predicate.name,\n\t\t\"@type\": NS.XSD.DataType.string,\n\t},\n\t\"rootContainer\": {\n\t\t\"@id\": NS.CS.Predicate.rootContainer,\n\t\t\"@type\": \"@id\",\n\t},\n\t\"allowsOrigin\": {\n\t\t\"@id\": NS.CS.Predicate.allowsOrigin,\n\t},\n};\n\nclass AppContext extends AbstractContext {\n\tpublic agents:Agents;\n\n\tprivate app:Class;\n\tprivate base:string;\n\n\tconstructor( parentContext:Context, app:Class ) {\n\t\tsuper( parentContext );\n\t\tthis.app = app;\n\n\t\tthis.base = this.getBase( this.app );\n\t\tthis.agents = new Agents( this );\n\t}\n\n\tresolve( uri:string ):string {\n\t\tif ( RDF.URI.Util.isAbsolute( uri ) ) return uri;\n\n\t\tlet finalURI:string = this.parentContext.resolve( this.base );\n\t\treturn RDF.URI.Util.resolve( finalURI, uri );\n\t}\n\n\tprivate getBase( resource:Class ):string {\n\t\treturn resource.rootContainer.id;\n\t}\n}\n\nexport {\n\tAppContext as Context\n};\n\nexport class Factory {\n\tstatic hasClassProperties( resource:Object ):boolean {\n\t\treturn (\n\t\t\tUtils.hasPropertyDefined( resource, \"rootContainer\" )\n\t\t);\n\t}\n}\n\nexport default Class;\n"],"sourceRoot":"/source/"}